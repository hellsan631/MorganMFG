!function(){var a=tinymce.DOM,b=tinymce.dom.Event,c=tinymce.each,d=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(e){function f(a,c){return 9===c.keyCode?b.cancel(c):void 0}function g(e,f){function g(b){function d(a){return"BODY"===a.nodeName||"hidden"!=a.type&&!("none"==a.style.display)&&!("hidden"==a.style.visibility)&&d(a.parentNode)}function f(a){return a.attributes.tabIndex.specified||"INPUT"==a.nodeName||"TEXTAREA"==a.nodeName}function g(){return tinymce.isIE6||tinymce.isIE7}function k(a){return(!g()||f(a))&&"-1"!=a.getAttribute("tabindex")&&d(a)}if(j=a.select(":input:enabled,*[tabindex]:not(iframe)"),c(j,function(a,b){return a.id==e.id?(h=b,!1):void 0}),b>0){for(i=h+1;i<j.length;i++)if(k(j[i]))return j[i]}else for(i=h-1;i>=0;i--)if(k(j[i]))return j[i];return null}var h,i,j,k;return 9===f.keyCode&&(k=d(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))),1==k.length&&(k[1]=k[0],k[0]=":prev"),j=f.shiftKey?":prev"==k[0]?g(-1):a.get(k[0]):":next"==k[1]?g(1):a.get(k[1]))?(j.id&&(e=tinymce.get(j.id||j.name))?e.focus():window.setTimeout(function(){tinymce.isWebKit||window.focus(),j.focus()},10),b.cancel(f)):void 0}e.onKeyUp.add(f),tinymce.isGecko?(e.onKeyPress.add(g),e.onKeyDown.add(f)):e.onKeyDown.add(g)},getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)}();