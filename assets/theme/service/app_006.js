!function(a,b,c){b.Loader={util:new a.utils.Loader},b.Loader.$element=c("#page-loader"),b.Loader.$text=b.Loader.$element.find(".status"),b.Loader.$progress=b.Loader.$element.find(".circle"),b.Loader.$logo=b.Loader.$element.find(".logo-status").get(0),b.Loader.Countdown=new a.widgets.CountdownCircle(c("<span />").appendTo(b.Loader.$progress),{time:0}).init(),b.Loader.tween=null,b.Loader.imgLoad=null,b.Loader.isFirstLoad=b.Loader.$element.hasClass("loader-main"),b.Loader.restart=function(){this.$element.appendTo(b.$visible),this.$text.text(0),this.Countdown.barReset(),this.loadObj={prc:0}},b.Loader.change=function(a){this.tween=TweenMax.to(this.loadObj,b.Loader.isFirstLoad?1:.4,{prc:a,overwrite:!0,onComplete:a>=100?this.complete:null,onCompleteScope:this,onUpdate:this.update,onUpdateScope:this,ease:Linear.easeNone})},b.Loader.update=function(){this.isFirstLoad?b.Loader.$logo.style.width=this.loadObj.prc+"%":(this.$text.text(Math.round(this.loadObj.prc)),this.Countdown.barTick(this.loadObj.prc))},b.Loader.complete=function(){this.$loadElement.trigger("afterload"),this.tween=null,this.imgLoad=null},b.Loader.loadingImages=function(a){var c=this;this.tween&&this.tween.kill();var d=Math.round(this.loadObj.prc),a=100-d;this.$loadElement.find(".crossroad-services .scroll .item:nth-child(n+3)").find("img, .bg").addClass("no-load"),this.$loadElement.find(".box-gallery .scroll .item.item:nth-child(n+3)").find("img, .bg").addClass("no-load"),b.Images.replace(this.$loadElement,".responsive:not(.no-load)"),this.imgLoad=this.util.load(this.util.getImages(this.$loadElement,{selector:"*:not(iframe, object, embed, script, style, .no-load)"}));var e=function(b){var e=b.tested||1,f=b.length||1,g=Math.round(a/f*e);c.change(d+g)};this.imgLoad.dfr.progress(e).done(e)},b.Loader.show=function(){TweenMax.to(this.$element,1,{autoAlpha:1,overwrite:!0})},b.Loader.hide=function(){TweenMax.to(this.$element,1.15,{autoAlpha:0,overwrite:!0,ease:Cubic.easeIn,onComplete:function(){if(this.isFirstLoad&&(this.isFirstLoad=!1,this.$element.removeClass("loader-main"),!Modernizr.history)){var a=new Date,b=10;a.setTime(a.getTime()+60*b*1e3),c.cookie("secondLoad","true",{expires:a})}},onCompleteScope:this})},b.Loader.stop=function(){this.tween&&this.tween.kill(),this.imgLoad&&this.imgLoad.abort()}}(sk,App,jQuery);