!function(a){var b,c=/^\s*|\s*$/g,d="$1"==="B".replace(/A(.)|B/,"$1"),e={majorVersion:"3",minorVersion:"5.8",releaseDate:"2012-11-20",_init:function(){function b(a){return a.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(a.src)?(/_(src|dev)\.js/g.test(a.src)&&(i.suffix="_src"),-1!=(g=a.src.indexOf("?"))&&(i.query=a.src.substring(g+1)),i.baseURL=a.src.substring(0,a.src.lastIndexOf("/")),f&&-1==i.baseURL.indexOf("://")&&0!==i.baseURL.indexOf("/")&&(i.baseURL=f+i.baseURL),i.baseURL):null}var c,d,e,f,g,h,i=this,j=document,k=navigator,l=k.userAgent;if(i.isOpera=a.opera&&opera.buildNumber,i.isWebKit=/WebKit/.test(l),i.isIE=!i.isWebKit&&!i.isOpera&&/MSIE/gi.test(l)&&/Explorer/gi.test(k.appName),i.isIE6=i.isIE&&/MSIE [56]/.test(l),i.isIE7=i.isIE&&/MSIE [7]/.test(l),i.isIE8=i.isIE&&/MSIE [8]/.test(l),i.isIE9=i.isIE&&/MSIE [9]/.test(l),i.isGecko=!i.isWebKit&&/Gecko/.test(l),i.isMac=-1!=l.indexOf("Mac"),i.isAir=/adobeair/i.test(l),i.isIDevice=/(iPad|iPhone)/.test(l),i.isIOS5=i.isIDevice&&l.match(/AppleWebKit\/(\d*)/)[1]>=534,a.tinyMCEPreInit)return i.suffix=tinyMCEPreInit.suffix,i.baseURL=tinyMCEPreInit.base,void(i.query=tinyMCEPreInit.query);for(i.suffix="",d=j.getElementsByTagName("base"),c=0;c<d.length;c++)h=d[c].href,h&&(/^https?:\/\/[^\/]+$/.test(h)&&(h+="/"),f=h?h.match(/.*\//)[0]:"");for(d=j.getElementsByTagName("script"),c=0;c<d.length;c++)if(b(d[c]))return;if(e=j.getElementsByTagName("head")[0])for(d=e.getElementsByTagName("script"),c=0;c<d.length;c++)if(b(d[c]))return},is:function(a,c){return c?"array"==c&&e.isArray(a)?!0:typeof a==c:a!==b},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},makeMap:function(a,b,c){var d;for(a=a||[],b=b||",","string"==typeof a&&(a=a.split(b)),c=c||{},d=a.length;d--;)c[a[d]]={};return c},each:function(a,c,d){var e,f;if(!a)return 0;if(d=d||a,a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return 0}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return 0;return 1},map:function(a,b){var c=[];return e.each(a,function(a){c.push(b(a))}),c},grep:function(a,b){var c=[];return e.each(a,function(a){(!b||b(a))&&c.push(a)}),c},inArray:function(a,b){var c,d;if(a)for(c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},extend:function(a,c){var d,e,f,g,h=arguments;for(d=1,e=h.length;e>d;d++){c=h[d];for(f in c)c.hasOwnProperty(f)&&(g=c[f],g!==b&&(a[f]=g))}return a},trim:function(a){return(a?""+a:"").replace(c,"")},create:function(a,b,c){var d,e,f,g,h,i=this,j=0;if(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),f=a[3].match(/(^|\.)(\w+)$/i)[2],e=i.createNS(a[3].replace(/\.\w+$/,""),c),!e[f]){if("static"==a[2])return e[f]=b,void(this.onCreate&&this.onCreate(a[2],a[3],e[f]));b[f]||(b[f]=function(){},j=1),e[f]=b[f],i.extend(e[f].prototype,b),a[5]&&(d=i.resolve(a[5]).prototype,g=a[5].match(/\.(\w+)$/i)[1],h=e[f],e[f]=j?function(){return d[g].apply(this,arguments)}:function(){return this.parent=d[g],h.apply(this,arguments)},e[f].prototype[f]=e[f],i.each(d,function(a,b){e[f].prototype[b]=d[b]}),i.each(b,function(a,b){d[b]?e[f].prototype[b]=function(){return this.parent=d[b],a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})),i.each(b["static"],function(a,b){e[f][b]=a}),this.onCreate&&this.onCreate(a[2],a[3],e[f].prototype)}},walk:function(a,b,c,d){d=d||this,a&&(c&&(a=a[c]),e.each(a,function(a,f){return b.call(d,a,f,c)===!1?!1:void e.walk(a,b,c,d)}))},createNS:function(b,c){var d,e;for(c=c||a,b=b.split("."),d=0;d<b.length;d++)e=b[d],c[e]||(c[e]={}),c=c[e];return c},resolve:function(b,c){var d,e;for(c=c||a,b=b.split("."),d=0,e=b.length;e>d&&(c=c[b[d]]);d++);return c},addUnload:function(b,c){function d(){function b(){c.detachEvent("onstop",b),e&&e(),c=0}var c=document;"interactive"==c.readyState&&(c&&c.attachEvent("onstop",b),a.setTimeout(function(){c&&c.detachEvent("onstop",b)},0))}var e,f=this;return e=function(){var b,c,g=f.unloads;if(g){for(c in g)b=g[c],b&&b.func&&b.func.call(b.scope,1);a.detachEvent?(a.detachEvent("onbeforeunload",d),a.detachEvent("onunload",e)):a.removeEventListener&&a.removeEventListener("unload",e,!1),f.unloads=b=g=w=e=0,a.CollectGarbage&&CollectGarbage()}},b={func:b,scope:c||this},f.unloads?f.unloads.push(b):(a.attachEvent?(a.attachEvent("onunload",e),a.attachEvent("onbeforeunload",d)):a.addEventListener&&a.addEventListener("unload",e,!1),f.unloads=[b]),b},removeUnload:function(a){var b=this.unloads,c=null;return e.each(b,function(d,e){return d&&d.func==a?(b.splice(e,1),c=a,!1):void 0}),c},explode:function(a,b){return!a||e.is(a,"array")?a:e.map(a.split(b||","),e.trim)},_addVer:function(a){var b;return this.query?(b=(-1==a.indexOf("?")?"?":"&")+this.query,-1==a.indexOf("#")?a+b:a.replace("#",b+"#")):a},_replace:function(a,c,e){return d?e.replace(a,function(){var a,d=c,e=arguments;for(a=0;a<e.length-2;a++)d=e[a]===b?d.replace(new RegExp("\\$"+a,"g"),""):d.replace(new RegExp("\\$"+a,"g"),e[a]);return d}):e.replace(a,c)}};e._init(),a.tinymce=a.tinyMCE=e}(window),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(a){this.scope=a||this,this.listeners=[]},add:function(a,b){return this.listeners.push({cb:a,scope:b||this.scope}),a},addToTop:function(a,b){var c=this,d={cb:a,scope:b||c.scope};return c.inDispatch?c.listeners=[d].concat(c.listeners):c.listeners.unshift(d),a},remove:function(a){var b=this.listeners,c=null;return tinymce.each(b,function(d,e){return a==d.cb?(c=d,b.splice(e,1),!1):void 0}),c},dispatch:function(){var a,b,c,d=this,e=arguments,f=d.listeners;for(d.inDispatch=!0,b=0;b<f.length&&(c=f[b],a=c.cb.apply(c.scope,e.length>0?e:[c.scope]),a!==!1);b++);return d.inDispatch=!1,a}}),function(){var a=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(b,c){var d,e,f=this;return b=tinymce.trim(b),c=f.settings=c||{},/^([\w\-]+):([^\/]{2})/i.test(b)||/^\s*#/.test(b)?void(f.source=b):(0===b.indexOf("/")&&0!==b.indexOf("//")&&(b=(c.base_uri?c.base_uri.protocol||"http":"http")+"://mce_host"+b),/^[\w\-]*:?\/\//.test(b)||(e=c.base_uri?c.base_uri.path:new tinymce.util.URI(location.href).directory,b=(c.base_uri&&c.base_uri.protocol||"http")+"://mce_host"+f.toAbsPath(e,b)),b=b.replace(/@@/g,"(mce_at)"),b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b),a(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(a,c){var d=b[c];d&&(d=d.replace(/\(mce_at\)/g,"@@")),f[a]=d}),d=c.base_uri,void(d&&(f.protocol||(f.protocol=d.protocol),f.userInfo||(f.userInfo=d.userInfo),f.port||"mce_host"!==f.host||(f.port=d.port),f.host&&"mce_host"!==f.host||(f.host=d.host),f.source="")))},setPath:function(a){var b=this;a=/^(.*?)\/?(\w+)?$/.exec(a),b.path=a[0],b.directory=a[1],b.file=a[2],b.source="",b.getURI()},toRelative:function(a){var b,c=this;if("./"===a)return a;if(a=new tinymce.util.URI(a,{base_uri:c}),"mce_host"!=a.host&&c.host!=a.host&&a.host||c.port!=a.port||c.protocol!=a.protocol)return a.getURI();var d=c.getURI(),e=a.getURI();return d==e||"/"==d.charAt(d.length-1)&&d.substr(0,d.length-1)==e?d:(b=c.toRelPath(c.path,a.path),a.query&&(b+="?"+a.query),a.anchor&&(b+="#"+a.anchor),b)},toAbsolute:function(a,b){return a=new tinymce.util.URI(a,{base_uri:this}),a.getURI(this.host==a.host&&this.protocol==a.protocol?b:0)},toRelPath:function(a,b){var c,d,e,f=0,g="";if(a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/"),a.length>=c.length)for(d=0,e=a.length;e>d;d++)if(d>=c.length||a[d]!=c[d]){f=d+1;break}if(a.length<c.length)for(d=0,e=c.length;e>d;d++)if(d>=a.length||a[d]!=c[d]){f=d+1;break}if(1===f)return b;for(d=0,e=a.length-(f-1);e>d;d++)g+="../";for(d=f-1,e=c.length;e>d;d++)g+=d!=f-1?"/"+c[d]:c[d];return g},toAbsPath:function(b,c){var d,e,f,g=0,h=[];for(e=/\/$/.test(c)?"/":"",b=b.split("/"),c=c.split("/"),a(b,function(a){a&&h.push(a)}),b=h,d=c.length-1,h=[];d>=0;d--)0!==c[d].length&&"."!==c[d]&&(".."!==c[d]?g>0?g--:h.push(c[d]):g++);return d=b.length-g,f=0>=d?h.reverse().join("/"):b.slice(0,d).join("/")+"/"+h.reverse().join("/"),0!==f.indexOf("/")&&(f="/"+f),e&&f.lastIndexOf("/")!==f.length-1&&(f+=e),f},getURI:function(a){var b,c=this;return(!c.source||a)&&(b="",a||(c.protocol&&(b+=c.protocol+"://"),c.userInfo&&(b+=c.userInfo+"@"),c.host&&(b+=c.host),c.port&&(b+=":"+c.port)),c.path&&(b+=c.path),c.query&&(b+="?"+c.query),c.anchor&&(b+="#"+c.anchor),c.source=b),c.source}})}(),function(){var a=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(b){var c,d=this.get(b);return d&&a(d.split("&"),function(a){a=a.split("="),c=c||{},c[unescape(a[0])]=unescape(a[1])}),c},setHash:function(b,c,d,e,f,g){var h="";a(c,function(a,b){h+=(h?"&":"")+escape(b)+"="+escape(a)}),this.set(b,h,d,e,f,g)},get:function(a){var b,c,d=document.cookie,e=a+"=";if(d){if(c=d.indexOf("; "+e),-1==c){if(c=d.indexOf(e),0!==c)return null}else c+=2;return b=d.indexOf(";",c),-1==b&&(b=d.length),unescape(d.substring(c+e.length,b))}},set:function(a,b,c,d,e,f){document.cookie=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+escape(d):"")+(e?"; domain="+e:"")+(f?"; secure":"")},remove:function(a,b,c){var d=new Date;d.setTime(d.getTime()-1e3),this.set(a,"",d,b,c)}})}(),function(){function serialize(a,b){var c,d,e,f;if(b=b||'"',null==a)return"null";if(e=typeof a,"string"==e)return d="\bb	t\nn\ff\rr\"\"''\\\\",b+a.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,e){return'"'===b&&"'"===a?a:(c=d.indexOf(e),c+1?"\\"+d.charAt(c+1):(a=e.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a))})+b;if("object"==e){if(a.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(a)){for(c=0,d="[";c<a.length;c++)d+=(c>0?",":"")+serialize(a[c],b);return d+"]"}d="{";for(f in a)a.hasOwnProperty(f)&&(d+="function"!=typeof a[f]?(d.length>1?","+b:b)+f+b+":"+serialize(a[f],b):"");return d+"}"}return""+a}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(a){function b(){!a.async||4==d.readyState||g++>1e4?(a.success&&1e4>g&&200==d.status?a.success.call(a.success_scope,""+d.responseText,d,a):a.error&&a.error.call(a.error_scope,g>1e4?"TIMED_OUT":"GENERAL",d,a),d=null):f.setTimeout(b,10)}function c(a){d=0;try{d=new ActiveXObject(a)}catch(b){}return d}var d,e,f=window,g=0;if(a.scope=a.scope||this,a.success_scope=a.success_scope||a.scope,a.error_scope=a.error_scope||a.scope,a.async=a.async===!1?!1:!0,a.data=a.data||"",d=f.XMLHttpRequest?new XMLHttpRequest:c("Microsoft.XMLHTTP")||c("Msxml2.XMLHTTP")){if(d.overrideMimeType&&d.overrideMimeType(a.content_type),d.open(a.type||(a.data?"POST":"GET"),a.url,a.async),a.content_type&&d.setRequestHeader("Content-Type",a.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(a.data),!a.async)return b();e=f.setTimeout(b,10)}}}),function(){var a=tinymce.extend,b=tinymce.util.JSON,c=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(b){this.settings=a({},b),this.count=0},send:function(d){var e=d.error,f=d.success;d=a(this.settings,d),d.success=function(a,c){a=b.parse(a),"undefined"==typeof a&&(a={error:"JSON Parse error."}),a.error?e.call(d.error_scope||d.scope,a.error,c):f.call(d.success_scope||d.scope,a.result)},d.error=function(a,b){e&&e.call(d.error_scope||d.scope,a,b)},d.data=b.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params}),d.content_type="application/json",c.send(d)},"static":{sendRPC:function(a){return(new tinymce.util.JSONRequest).send(a)}}})}(),function(a){a.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey},metaKeyPressed:function(b){return a.isMac?b.metaKey:b.ctrlKey&&!b.altKey}}}(tinymce),tinymce.util.Quirks=function(a){function b(b,c){try{a.getDoc().execCommand(b,!1,c)}catch(d){}}function c(){var b=a.getDoc().documentMode;return b?b:6}function d(a){return a.isDefaultPrevented()}function e(){function b(b){var c,d,e,f;if(c=F.getRng(),d=E.getParent(c.startContainer,E.isBlock),b&&(d=E.getNext(d,E.isBlock)),d){for(e=d.firstChild;e&&3==e.nodeType&&0===e.nodeValue.length;)e=e.nextSibling;e&&"SPAN"===e.nodeName&&(f=e.cloneNode(!1))}J(E.select("span",d),function(a){a.setAttribute("data-mce-mark","1")}),a.getDoc().execCommand(b?"ForwardDelete":"Delete",!1,null),d=E.getParent(c.startContainer,E.isBlock),J(E.select("span",d),function(a){var b=F.getBookmark();f?E.replace(f.cloneNode(!1),a,!0):a.getAttribute("data-mce-mark")?a.removeAttribute("data-mce-mark"):E.remove(a,!0),F.moveToBookmark(b)})}a.onKeyDown.add(function(a,c){var e;e=c.keyCode==D,d(c)||!e&&c.keyCode!=C||B.modifierPressed(c)||(c.preventDefault(),b(e))}),a.addCommand("Delete",function(){b()})}function f(){function b(a){var b=E.create("body"),c=a.cloneContents();return b.appendChild(c),F.serializer.serialize(b,{format:"html"})}function c(c){var d=b(c),e=E.createRng();e.selectNode(a.getBody());var f=b(e);return d===f}a.onKeyDown.add(function(a,b){var e,f=b.keyCode;if(!d(b)&&(f==D||f==C)){if(e=a.selection.isCollapsed(),e&&!E.isEmpty(a.getBody()))return;if(tinymce.isIE&&!e)return;if(!e&&!c(a.selection.getRng()))return;a.setContent(""),a.selection.setCursorLocation(a.getBody(),0),a.nodeChanged()}})}function g(){a.onKeyDown.add(function(a,b){!d(b)&&65==b.keyCode&&B.metaKeyPressed(b)&&(b.preventDefault(),a.execCommand("SelectAll"))})}function h(){a.settings.content_editable||(E.bind(a.getDoc(),"focusin",function(){F.setRng(F.getRng())}),E.bind(a.getDoc(),"mousedown",function(b){b.target==a.getDoc().documentElement&&(a.getWin().focus(),F.setRng(F.getRng()))}))}function i(){a.onKeyDown.add(function(a,b){if(!d(b)&&b.keyCode===C&&F.isCollapsed()&&0===F.getRng(!0).startOffset){var c=F.getNode(),e=c.previousSibling;e&&e.nodeName&&"hr"===e.nodeName.toLowerCase()&&(E.remove(e),tinymce.dom.Event.cancel(b))}})}function j(){Range.prototype.getClientRects||a.onMouseDown.add(function(a,b){if(!d(b)&&"HTML"===b.target.nodeName){var c=a.getBody();c.blur(),setTimeout(function(){c.focus()},0)}})}function k(){a.onClick.add(function(a,b){b=b.target,/^(IMG|HR)$/.test(b.nodeName)&&F.getSel().setBaseAndExtent(b,0,b,1),"A"==b.nodeName&&E.hasClass(b,"mceItemAnchor")&&F.select(b),a.nodeChanged()})}function l(){function b(){var b=E.getAttribs(F.getStart().cloneNode(!1));return function(){var c=F.getStart();c!==a.getBody()&&(E.setAttrib(c,"style",null),J(b,function(a){c.setAttributeNode(a.cloneNode(!0))}))}}function c(){return!F.isCollapsed()&&E.getParent(F.getStart(),E.isBlock)!=E.getParent(F.getEnd(),E.isBlock)}function e(a,b){return b.preventDefault(),!1}a.onKeyPress.add(function(a,e){var f;return d(e)||8!=e.keyCode&&46!=e.keyCode||!c()?void 0:(f=b(),a.getDoc().execCommand("delete",!1,null),f(),e.preventDefault(),!1)}),E.bind(a.getDoc(),"cut",function(f){var g;!d(f)&&c()&&(g=b(),a.onKeyUp.addToTop(e),setTimeout(function(){g(),a.onKeyUp.remove(e)},0))})}function m(){var b,c;E.bind(a.getDoc(),"selectionchange",function(){c&&(clearTimeout(c),c=0),c=window.setTimeout(function(){var c=F.getRng();b&&tinymce.dom.RangeUtils.compareRanges(c,b)||(a.nodeChanged(),b=c)},50)})}function n(){document.body.setAttribute("role","application")}function o(){a.onKeyDown.add(function(a,b){if(!d(b)&&b.keyCode===C&&F.isCollapsed()&&0===F.getRng(!0).startOffset){var c=F.getNode().previousSibling;if(c&&c.nodeName&&"table"===c.nodeName.toLowerCase())return tinymce.dom.Event.cancel(b)}})}function p(){c()>7||(b("RespectVisibilityInDesign",!0),a.contentStyles.push(".mceHideBrInPre pre br {display: none}"),E.addClass(a.getBody(),"mceHideBrInPre"),H.addNodeFilter("pre",function(a){for(var b,c,d,e,f=a.length;f--;)for(b=a[f].getAll("br"),c=b.length;c--;)d=b[c],e=d.prev,e&&3===e.type&&"\n"!=e.value.charAt(e.value-1)?e.value+="\n":d.parent.insert(new tinymce.html.Node("#text",3),d,!0).value="\n"}),I.addNodeFilter("pre",function(a){for(var b,c,d,e,f=a.length;f--;)for(b=a[f].getAll("br"),c=b.length;c--;)d=b[c],e=d.prev,e&&3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function q(){E.bind(a.getBody(),"mouseup",function(){var a,b=F.getNode();"IMG"==b.nodeName&&((a=E.getStyle(b,"width"))&&(E.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),E.setStyle(b,"width","")),(a=E.getStyle(b,"height"))&&(E.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),E.setStyle(b,"height","")))})}function r(){a.onKeyDown.add(function(a,b){var c,e,f,g,h,i,j;c=b.keyCode==D,d(b)||!c&&b.keyCode!=C||B.modifierPressed(b)||(e=F.getRng(),f=e.startContainer,g=e.startOffset,j=e.collapsed,3==f.nodeType&&f.nodeValue.length>0&&(0===g&&!j||j&&g===(c?0:1))&&(nonEmptyElements=a.schema.getNonEmptyElements(),b.preventDefault(),h=E.create("br",{id:"__tmp"}),f.parentNode.insertBefore(h,f),a.getDoc().execCommand(c?"ForwardDelete":"Delete",!1,null),f=F.getRng().startContainer,i=f.previousSibling,i&&1==i.nodeType&&!E.isBlock(i)&&E.isEmpty(i)&&!nonEmptyElements[i.nodeName.toLowerCase()]&&E.remove(i),E.remove("__tmp")))})}function s(){a.onKeyDown.add(function(a,b){var c,e,f,g,h;if(!d(b)&&b.keyCode==B.BACKSPACE&&(c=F.getRng(),e=c.startContainer,f=c.startOffset,g=E.getRoot(),h=e,c.collapsed&&0===f)){for(;h&&h.parentNode&&h.parentNode.firstChild==h&&h.parentNode!=g;)h=h.parentNode;"BLOCKQUOTE"===h.tagName&&(a.formatter.toggle("blockquote",null,h),c=E.createRng(),c.setStart(e,0),c.setEnd(e,0),F.setRng(c))}})}function t(){function c(){a._refreshContentEditable(),b("StyleWithCSS",!1),b("enableInlineTableEditing",!1),G.object_resizing||b("enableObjectResizing",!1)}G.readonly||(a.onBeforeExecCommand.add(c),a.onMouseDown.add(c))}function u(){function b(){J(E.select("a"),function(a){var b=a.parentNode,c=E.getRoot();if(b.lastChild===a){for(;b&&!E.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}E.add(b,"br",{"data-mce-bogus":1})}})}a.onExecCommand.add(function(a,c){"CreateLink"===c&&b(a)}),a.onSetContent.add(F.onSetContent.add(b))}function v(){G.forced_root_block&&a.onInit.add(function(){b("DefaultParagraphSeparator",G.forced_root_block)})}function w(){function b(b,c){b&&c.initial||a.execCommand("mceRepaint")}a.onUndo.add(b),a.onRedo.add(b),a.onSetContent.add(b)}function x(){a.onKeyDown.add(function(a,b){var c;d(b)||b.keyCode!=C||(c=a.getDoc().selection.createRange(),c&&c.item&&(b.preventDefault(),a.undoManager.beforeChange(),E.remove(c.item(0)),a.undoManager.add()))})}function y(){var b;c()>=10&&(b="",J("p div h1 h2 h3 h4 h5 h6".split(" "),function(a,c){b+=(c>0?",":"")+a+":empty"}),a.contentStyles.push(b+"{padding-right: 1px !important}"))}function z(){function c(a){var b,c;b=a.screenX-m,c=a.screenY-n,s=b*l[2]+o,t=c*l[3]+p,s=5>s?5:s,t=5>t?5:t,(B.modifierPressed(a)||"IMG"==j.nodeName&&l[2]*l[3]!==0)&&(s=Math.round(t/q),t=Math.round(s*q)),E.setStyles(k,{width:s,height:t}),l[2]<0&&k.clientWidth<=s&&E.setStyle(k,"left",h+(o-s)),l[3]<0&&k.clientHeight<=t&&E.setStyle(k,"top",i+(p-t))}function d(){function b(b,c){c&&(j.style[b]||!a.schema.isValid(j.nodeName.toLowerCase(),b)?E.setStyle(j,b,c):E.setAttrib(j,b,c))}b("width",s),b("height",t),E.unbind(v,"mousemove",c),E.unbind(v,"mouseup",d),u!=v&&(E.unbind(u,"mousemove",c),E.unbind(u,"mouseup",d)),E.remove(k),e(j)}function e(a){var b,e,g;f(),b=E.getPos(a),h=b.x,i=b.y,e=a.offsetWidth,g=a.offsetHeight,j!=a&&(j=a,s=t=0),J(r,function(a,b){var f;f=E.get("mceResizeHandle"+b),f?E.show(f):(f=E.add(v.documentElement,"div",{id:"mceResizeHandle"+b,"class":"mceResizeHandle",style:"cursor:"+b+"-resize; margin:0; padding:0"}),E.bind(f,"mousedown",function(b){b.preventDefault(),d(),m=b.screenX,n=b.screenY,o=j.clientWidth,p=j.clientHeight,q=p/o,l=a,k=j.cloneNode(!0),E.addClass(k,"mceClonedResizable"),E.setStyles(k,{left:h,top:i,margin:0}),v.documentElement.appendChild(k),E.bind(v,"mousemove",c),E.bind(v,"mouseup",d),u!=v&&(E.bind(u,"mousemove",c),E.bind(u,"mouseup",d))})),E.setStyles(f,{left:e*a[0]+h-f.offsetWidth/2,top:g*a[1]+i-f.offsetHeight/2})}),tinymce.isOpera||"IMG"!=j.nodeName||j.setAttribute("data-mce-selected","1")}function f(){j&&j.removeAttribute("data-mce-selected");for(var a in r)E.hide("mceResizeHandle"+a)}function g(){var a=E.getParent(F.getNode(),"table,img");J(E.select("img[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")}),a?e(a):f()}var h,i,j,k,l,m,n,o,p,q,r,s,t,u=document,v=a.getDoc();G.object_resizing&&G.webkit_fake_resize!==!1&&(b("enableObjectResizing",!1),r={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},a.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),a.onNodeChange.add(g),E.bind(v,"selectionchange",g),a.serializer.addAttributeFilter("data-mce-selected",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}))}function A(){c()<9&&(H.addNodeFilter("noscript",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.firstChild,c&&b.attr("data-mce-innertext",c.value)}),I.addNodeFilter("noscript",function(a){for(var b,c,d,e=a.length;e--;)b=a[e],c=a[e].firstChild,c?c.value=tinymce.html.Entities.decode(c.value):(d=b.attributes.map["data-mce-innertext"],d&&(b.attr("data-mce-innertext",null),c=new tinymce.html.Node("#text",3),c.value=d,c.raw=!0,b.append(c)))}))}var B=tinymce.VK,C=B.BACKSPACE,D=B.DELETE,E=a.dom,F=a.selection,G=a.settings,H=a.parser,I=a.serializer,J=tinymce.each;o(),s(),f(),tinymce.isWebKit&&(r(),e(),h(),k(),v(),tinymce.isIDevice?m():(z(),g())),tinymce.isIE&&(i(),n(),p(),q(),x(),y(),A()),tinymce.isGecko&&(i(),j(),l(),t(),u(),w()),tinymce.isOpera&&z()},function(a){function b(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.textContent||b.innerText||a}function c(a,b){var c,d,f,g={};if(a){for(a=a.split(","),b=b||10,c=0;c<a.length;c+=2)d=String.fromCharCode(parseInt(a[c],b)),e[d]||(f="&"+a[c+1]+";",g[d]=f,g[f]=d);return g}}var d,e,f,g=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[<>&\"\']/g,j=/&(#x|#)?([\w]+);/g,k={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};e={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},f={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},d=c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),a.html=a.html||{},a.html.Entities={encodeRaw:function(a,b){return a.replace(b?g:h,function(a){return e[a]||a})},encodeAllRaw:function(a){return(""+a).replace(i,function(a){return e[a]||a})},encodeNumeric:function(a,b){return a.replace(b?g:h,function(a){return a.length>1?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":e[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,b,c){return c=c||d,a.replace(b?g:h,function(a){return e[a]||c[a]||a})},getEncodeFunc:function(b,f){function i(a,b){return a.replace(b?g:h,function(a){return e[a]||f[a]||"&#"+a.charCodeAt(0)+";"||a})}function j(a,b){return k.encodeNamed(a,b,f)}var k=a.html.Entities;return f=c(f)||d,b=a.makeMap(b.replace(/\+/g,",")),b.named&&b.numeric?i:b.named?f?j:k.encodeNamed:b.numeric?k.encodeNumeric:k.encodeRaw},decode:function(a){return a.replace(j,function(a,c,e){return c?(e=parseInt(e,2===c.length?16:10),e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):k[e]||String.fromCharCode(e)):f[a]||d[a]||b(a)})}}}(tinymce),tinymce.html.Styles=function(a,b){function c(a,b,c,d){function e(a){return a=parseInt(a).toString(16),a.length>1?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var d,e,f,g=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,h=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,j=/\s+$/,k={};for(a=a||{},f="\\\" \\' \\; \\: ; : ".split(" "),e=0;e<f.length;e++)k[f[e]]=""+e,k[""+e]=f[e];return{toHex:function(a){return a.replace(g,c)},parse:function(b){function d(a,b){var c,d,e,f;c=s[a+"-top"+b],c&&(d=s[a+"-right"+b],c==d&&(e=s[a+"-bottom"+b],d==e&&(f=s[a+"-left"+b],e==f&&(s[a+b]=f,delete s[a+"-top"+b],delete s[a+"-right"+b],delete s[a+"-bottom"+b],delete s[a+"-left"+b]))))}function e(a){var b,c=s[a];if(c&&!(c.indexOf(" ")<0)){for(c=c.split(" "),b=c.length;b--;)if(c[b]!==c[0])return!1;return s[a]=c[0],!0}}function f(a,b,c,d){e(b)&&e(c)&&e(d)&&(s[a]=s[b]+" "+s[c]+" "+s[d],delete s[b],delete s[c],delete s[d])}function l(a){return r=!0,k[a]}function m(a,b){return r&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return k[a]})),b||(a=a.replace(/\\([\'\";:])/g,"$1")),a}function n(a,b,c,d,e,f){return(e=e||f)?(e=m(e),"'"+e.replace(/\'/g,"\\'")+"'"):(b=m(b||c||d),t&&(b=t.call(u,b,"style")),"url('"+b.replace(/\'/g,"\\'")+"')")}var o,p,q,r,s={},t=a.url_converter,u=a.url_converter_scope||this;if(b){for(b=b.replace(/\\[\"\';:\uFEFF]/g,l).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,l)});o=i.exec(b);)p=o[1].replace(j,"").toLowerCase(),q=o[2].replace(j,""),p&&q.length>0&&("font-weight"===p&&"700"===q?q="bold":("color"===p||"background-color"===p)&&(q=q.toLowerCase()),q=q.replace(g,c),q=q.replace(h,n),s[p]=r?m(q,!0):q),i.lastIndex=o.index+o[0].length;d("border",""),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),f("border","border-width","border-style","border-color"),"medium none"===s.border&&delete s.border}return s},serialize:function(a,c){function e(c){var e,f,g,i;if(e=b.styles[c])for(f=0,g=e.length;g>f;f++)c=e[f],i=a[c],i!==d&&i.length>0&&(h+=(h.length>0?" ":"")+c+": "+i+";")}var f,g,h="";if(c&&b&&b.styles)e("*"),e(c);else for(f in a)g=a[f],g!==d&&g.length>0&&(h+=(h.length>0?" ":"")+f+": "+g+";");return h}}},function(a){function b(a,b){return a.split(b||",")}function c(a,c){function d(b){return b.replace(/[A-Z]+/g,function(b){return d(a[b])})}var e,f={};for(e in a)a.hasOwnProperty(e)&&(a[e]=d(a[e]));return d(c).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(a,c,d,e){d=b(d,"|"),f[c]={attributes:g(d),attributesOrder:d,children:g(e,"|",{"#comment":{}})}}),f}function d(){var a=f.html5;return a||(a=f.html5=c({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),a
}function e(){var a=f.html4;return a||(a=f.html4=c({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),a}var f={},g=a.makeMap,h=a.each;a.html.Schema=function(c){function i(b,d,e){var h=c[b];return h?h=g(h,",",g(h.toUpperCase()," ")):(h=f[b],h||(h=g(d," ",g(d.toUpperCase()," ")),h=a.extend(h,e),f[b]=h)),h}function j(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")}function k(c){var d,e,f,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,z=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,B=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,C=/[*?+]/;if(c)for(c=b(c),y["@"]&&(u=y["@"].attributes,v=y["@"].attributesOrder),d=0,e=c.length;e>d;d++)if(i=z.exec(c[d])){if(s=i[1],n=i[2],t=i[3],m=i[4],q={},r=[],k={attributes:q,attributesOrder:r},"#"===s&&(k.paddEmpty=!0),"-"===s&&(k.removeEmpty=!0),u){for(w in u)q[w]=u[w];r.push.apply(r,v)}if(m)for(m=b(m,"|"),f=0,h=m.length;h>f;f++)if(i=B.exec(m[f])){if(l={},p=i[1],o=i[2].replace(/::/g,":"),s=i[3],x=i[4],"!"===p&&(k.attributesRequired=k.attributesRequired||[],k.attributesRequired.push(o),l.required=!0),"-"===p){delete q[o],r.splice(a.inArray(r,o),1);continue}s&&("="===s&&(k.attributesDefault=k.attributesDefault||[],k.attributesDefault.push({name:o,value:x}),l.defaultValue=x),":"===s&&(k.attributesForced=k.attributesForced||[],k.attributesForced.push({name:o,value:x}),l.forcedValue=x),"<"===s&&(l.validValues=g(x,"?"))),C.test(o)?(k.attributePatterns=k.attributePatterns||[],l.pattern=j(o),k.attributePatterns.push(l)):(q[o]||r.push(o),q[o]=l)}u||"@"!=n||(u=q,v=r),t&&(k.outputName=n,y[t]=k),C.test(n)?(k.pattern=j(n),A.push(k)):y[n]=k}}function l(a){y={},A=[],k(a),h(q,function(a,b){z[b]=a.children})}function m(a){var c=/^(~)?(.+)$/;a&&h(b(a),function(a){var b=c.exec(a),d="~"===b[1],e=d?"span":"div",f=b[2];z[f]=z[e],B[f]=e,d||(v[f.toUpperCase()]={},v[f]={}),y[f]||(y[f]=y[e]),h(z,function(a){a[e]&&(a[f]=a[e])})})}function n(a){var c=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a&&h(b(a),function(a){var d,e,f=c.exec(a);f&&(e=f[1],d=e?z[f[2]]:z[f[2]]={"#comment":{}},d=z[f[2]],h(b(f[3],"|"),function(a){"-"===e?delete d[a]:d[a]={}}))})}function o(a){var b,c=y[a];if(c)return c;for(b=A.length;b--;)if(c=A[b],c.pattern.test(a))return c}var p,q,r,s,t,u,v,w,x=this,y={},z={},A=[],B={};c=c||{},q="html5"==c.schema?d():e(),c.verify_html===!1&&(c.valid_elements="*[*]"),c.valid_styles&&(p={},h(c.valid_styles,function(b,c){p[c]=a.explode(b)})),r=i("whitespace_elements","pre script noscript style textarea"),s=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),t=i("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),u=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),w=i("non_empty_elements","td th iframe video audio object",t),textBlockElementsMap=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),v=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),c.valid_elements?l(c.valid_elements):(h(q,function(a,b){y[b]={attributes:a.attributes,attributesOrder:a.attributesOrder},z[b]=a.children}),"html5"!=c.schema&&h(b("strong/b,em/i"),function(a){a=b(a,"/"),y[a[1]].outputName=a[0]}),y.img.attributesDefault=[{name:"alt",value:""}],h(b("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(a){y[a]&&(y[a].removeEmpty=!0)}),h(b("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(a){y[a].paddEmpty=!0})),m(c.custom_elements),n(c.valid_children),k(c.extended_valid_elements),n("+ol[ul|ol],+ul[ul|ol]"),c.invalid_elements&&a.each(a.explode(c.invalid_elements),function(a){y[a]&&delete y[a]}),o("span")||k("span[!data-mce-type|*]"),x.children=z,x.styles=p,x.getBoolAttrs=function(){return u},x.getBlockElements=function(){return v},x.getTextBlockElements=function(){return textBlockElementsMap},x.getShortEndedElements=function(){return t},x.getSelfClosingElements=function(){return s},x.getNonEmptyElements=function(){return w},x.getWhiteSpaceElements=function(){return r},x.isValidChild=function(a,b){var c=z[a];return!(!c||!c[b])},x.isValid=function(a,b){var c,d,e=o(a);if(e){if(!b)return!0;if(e.attributes[b])return!0;if(c=e.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}return!1},x.getElementRule=o,x.getCustomElements=function(){return B},x.addValidElements=k,x.setValidElements=l,x.addCustomElements=m,x.addValidChildren=n,x.elements=y}}(tinymce),function(a){a.html.SaxParser=function(b,c){var d=this,e=function(){};b=b||{},d.schema=c=c||new a.html.Schema,b.fix_self_closing!==!1&&(b.fix_self_closing=!0),a.each("comment cdata text start end pi doctype".split(" "),function(a){a&&(d[a]=b[a]||e)}),d.parse=function(d){function e(a){var b,c;for(b=M.length;b--&&M[b].name!==a;);if(b>=0){for(c=M.length-1;c>=b;c--)a=M[c],a.valid&&K.end(a.name);M.length=b}}function f(a,b,c,d,e){var f,g;if(b=b.toLowerCase(),c=b in q?b:O(c||d||e||""),s&&!n&&0!==b.indexOf("data-")){if(f=y[b],!f&&z){for(g=z.length;g--&&(f=z[g],!f.pattern.test(b)););-1===g&&(f=null)}if(!f)return;if(f.validValues&&!(c in f.validValues))return}j.map[b]=c,j.push({name:b,value:c})}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=this,L=0,M=[],N=0,O=a.html.Entities.decode;for(E=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),F=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,G={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},p=c.getShortEndedElements(),D=b.self_closing_elements||c.getSelfClosingElements(),q=c.getBoolAttrs(),s=b.validate,o=b.remove_internals,I=b.fix_self_closing,J=a.isIE,x=/^:/;g=E.exec(d);){if(L<g.index&&K.text(O(d.substr(L,g.index-L))),h=g[6])h=h.toLowerCase(),J&&x.test(h)&&(h=h.substr(1)),e(h);else if(h=g[7]){if(h=h.toLowerCase(),J&&x.test(h)&&(h=h.substr(1)),r=h in p,I&&D[h]&&M.length>0&&M[M.length-1].name===h&&e(h),!s||(t=c.getElementRule(h))){if(u=!0,s&&(y=t.attributes,z=t.attributePatterns),(w=g[8])?(n=-1!==w.indexOf("data-mce-type"),n&&o&&(u=!1),j=[],j.map={},w.replace(F,f)):(j=[],j.map={}),s&&!n){if(A=t.attributesRequired,B=t.attributesDefault,C=t.attributesForced)for(k=C.length;k--;)v=C[k],m=v.name,H=v.value,"{$uid}"===H&&(H="mce_"+N++),j.map[m]=H,j.push({name:m,value:H});if(B)for(k=B.length;k--;)v=B[k],m=v.name,m in j.map||(H=v.value,"{$uid}"===H&&(H="mce_"+N++),j.map[m]=H,j.push({name:m,value:H}));if(A){for(k=A.length;k--&&!(A[k]in j.map););-1===k&&(u=!1)}j.map["data-mce-bogus"]&&(u=!1)}u&&K.start(h,j,r)}else u=!1;if(i=G[h]){i.lastIndex=L=g.index+g[0].length,(g=i.exec(d))?(u&&(l=d.substr(L,g.index-L)),L=g.index+g[0].length):(l=d.substr(L),L=d.length),u&&l.length>0&&K.text(l,!0),u&&K.end(h),E.lastIndex=L;continue}r||(w&&w.indexOf("/")==w.length-1?u&&K.end(h):M.push({name:h,valid:u}))}else(h=g[1])?K.comment(h):(h=g[2])?K.cdata(h):(h=g[3])?K.doctype(h):(h=g[4])&&K.pi(h,g[5]);L=g.index+g[0].length}for(L<d.length&&K.text(O(d.substr(L))),k=M.length-1;k>=0;k--)h=M[k],h.valid&&K.end(h.name)}}}(tinymce),function(a){function b(a,b,c){var d,e,f=c?"lastChild":"firstChild",g=c?"prev":"next";if(a[f])return a[f];if(a!==b){if(d=a[g])return d;for(e=a.parent;e&&e!==b;e=e.parent)if(d=e[g])return d}}function c(a,b){this.name=a,this.type=b,1===b&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};a.extend(c.prototype,{replace:function(a){var b=this;return a.parent&&a.remove(),b.insert(a,b),b.remove(),b},attr:function(a,b){var c,d,e,f=this;if("string"!=typeof a){for(d in a)f.attr(d,a[d]);return f}if(c=f.attributes){if(b!==e){if(null===b){if(a in c.map)for(delete c.map[a],d=c.length;d--;)if(c[d].name===a)return c=c.splice(d,1),f;return f}if(a in c.map){for(d=c.length;d--;)if(c[d].name===a){c[d].value=b;break}}else c.push({name:a,value:b});return c.map[a]=b,f}return c.map[a]}},clone:function(){var a,b,d,e,f,g=this,h=new c(g.name,g.type);if(d=g.attributes){for(f=[],f.map={},a=0,b=d.length;b>a;a++)e=d[a],"id"!==e.name&&(f[f.length]={name:e.name,value:e.value},f.map[e.name]=e.value);h.attributes=f}return h.value=g.value,h.shortEnded=g.shortEnded,h},wrap:function(a){var b=this;return b.parent.insert(a,b),a.append(b),b},unwrap:function(){var a,b,c=this;for(a=c.firstChild;a;)b=a.next,c.insert(a,c,!0),a=b;c.remove()},remove:function(){var a=this,b=a.parent,c=a.next,d=a.prev;return b&&(b.firstChild===a?(b.firstChild=c,c&&(c.prev=null)):d.next=c,b.lastChild===a?(b.lastChild=d,d&&(d.next=null)):c.prev=d,a.parent=a.next=a.prev=null),a},append:function(a){var b,c=this;return a.parent&&a.remove(),b=c.lastChild,b?(b.next=a,a.prev=b,c.lastChild=a):c.lastChild=c.firstChild=a,a.parent=c,a},insert:function(a,b,c){var d;return a.parent&&a.remove(),d=b.parent||this,c?(b===d.firstChild?d.firstChild=a:b.prev.next=a,a.prev=b.prev,a.next=b,b.prev=a):(b===d.lastChild?d.lastChild=a:b.next.prev=a,a.next=b.next,a.prev=b,b.next=a),a.parent=d,a},getAll:function(a){var c,d=this,e=[];for(c=d.firstChild;c;c=b(c,d))c.name===a&&e.push(c);return e},empty:function(){var a,c,d,e=this;if(e.firstChild){for(a=[],d=e.firstChild;d;d=b(d,e))a.push(d);for(c=a.length;c--;)d=a[c],d.parent=d.firstChild=d.lastChild=d.next=d.prev=null}return e.firstChild=e.lastChild=null,e},isEmpty:function(a){var c,e,f=this,g=f.firstChild;if(g)do{if(1===g.type){if(g.attributes.map["data-mce-bogus"])continue;if(a[g.name])return!1;for(c=g.attributes.length;c--;)if(e=g.attributes[c].name,"name"===e||0===e.indexOf("data-mce-"))return!1}if(8===g.type)return!1;if(3===g.type&&!d.test(g.value))return!1}while(g=b(g,f));return!0},walk:function(a){return b(this,null,a)}}),a.extend(c,{create:function(a,b){var d,f;if(d=new c(a,e[a]||1),b)for(f in b)d.attr(f,b[f]);return d}}),a.html.Node=c}(tinymce),function(a){var b=a.html.Node;a.html.DomParser=function(c,d){function e(c){var e,g,h,i,j,k,l,m,n,o,p,q,r,s;for(p=a.makeMap("tr,td,th,tbody,thead,tfoot,table"),o=d.getNonEmptyElements(),q=d.getTextBlockElements(),e=0;e<c.length;e++)if(g=c[e],g.parent&&!g.fixed)if(q[g.name]&&"li"==g.parent.name){for(r=g.next;r&&q[r.name];)r.name="li",r.fixed=!0,g.parent.insert(r,g.parent),r=r.next;g.unwrap(g)}else{for(i=[g],h=g.parent;h&&!d.isValidChild(h.name,g.name)&&!p[h.name];h=h.parent)i.push(h);if(h&&i.length>1){for(i.reverse(),j=k=f.filterNode(i[0].clone()),n=0;n<i.length-1;n++){for(d.isValidChild(k.name,i[n].name)?(l=f.filterNode(i[n].clone()),k.append(l)):l=k,m=i[n].firstChild;m&&m!=i[n+1];)s=m.next,l.append(m),m=s;k=l}j.isEmpty(o)?h.insert(g,i[0],!0):(h.insert(j,i[0],!0),h.insert(g,j)),h=i[0],(h.isEmpty(o)||h.firstChild===h.lastChild&&"br"===h.firstChild.name)&&h.empty().remove()}else if(g.parent){if("li"===g.name){if(r=g.prev,r&&("ul"===r.name||"ul"===r.name)){r.append(g);continue}if(r=g.next,r&&("ul"===r.name||"ul"===r.name)){r.insert(g,r.firstChild,!0);continue}g.wrap(f.filterNode(new b("ul",1)));continue}d.isValidChild(g.parent.name,"div")&&d.isValidChild("div",g.name)?g.wrap(f.filterNode(new b("div",1))):"style"===g.name||"script"===g.name?g.empty().remove():g.unwrap()}}}var f=this,g={},h=[],i={},j={};c=c||{},c.validate="validate"in c?c.validate:!0,c.root_name=c.root_name||"body",f.schema=d=d||new a.html.Schema,f.filterNode=function(a){var b,c,d;c in g&&(d=i[c],d?d.push(a):i[c]=[a]),b=h.length;for(;b--;)c=h[b].name,c in a.attributes.map&&(d=j[c],d?d.push(a):j[c]=[a]);return a},f.addNodeFilter=function(b,c){a.each(a.explode(b),function(a){var b=g[a];b||(g[a]=b=[]),b.push(c)})},f.addAttributeFilter=function(b,c){a.each(a.explode(b),function(a){var b;for(b=0;b<h.length;b++)if(h[b].name===a)return void h[b].callbacks.push(c);h.push({name:a,callbacks:[c]})})},f.parse=function(f,k){function l(){for(var a,b,c=q.firstChild;c;)a=c.next,3==c.type||1==c.type&&"p"!==c.name&&!A[c.name]&&!c.attr("data-mce-type")?b?b.append(c):(b=m(J,1),q.insert(b,c),b.append(c)):b=null,c=a}function m(a,c){var d,e=new b(a,c);return a in g&&(d=i[a],d?d.push(e):i[a]=[e]),e}function n(a){var b,c,d;for(b=a.prev;b&&3===b.type;)c=b.value.replace(D,""),c.length>0?(b.value=c,b=b.prev):(d=b.prev,b.remove(),b=d)}function o(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=[];if(k=k||{},i={},j={},A=a.extend(a.makeMap("script,style,head,html,body,title,meta,param"),d.getBlockElements()),I=d.getNonEmptyElements(),H=d.children,z=c.validate,J="forced_root_block"in k?k.forced_root_block:c.forced_root_block,G=d.getWhiteSpaceElements(),B=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,F=/^[ \t\r\n]+$/,p=new a.html.SaxParser({validate:z,self_closing_elements:o(d.getSelfClosingElements()),cdata:function(a){r.append(m("#cdata",4)).value=a},text:function(a,b){var c;C||(a=a.replace(E," "),r.lastChild&&A[r.lastChild.name]&&(a=a.replace(B,""))),0!==a.length&&(c=m("#text",3),c.raw=!!b,r.append(c).value=a)},comment:function(a){r.append(m("#comment",8)).value=a},pi:function(a,b){r.append(m(a,7)).value=b,n(r)},doctype:function(a){var b;b=r.append(m("#doctype",10)),b.value=a,n(r)},start:function(a,b,c){var e,f,g,i,k;if(g=z?d.getElementRule(a):{}){for(e=m(g.outputName||a,1),e.attributes=b,e.shortEnded=c,r.append(e),k=H[r.name],k&&H[e.name]&&!k[e.name]&&K.push(e),f=h.length;f--;)i=h[f].name,i in b.map&&(x=j[i],x?x.push(e):j[i]=[e]);A[a]&&n(e),c||(r=e),!C&&G[a]&&(C=!0)}},end:function(a){var c,e,f,g,h;if(e=z?d.getElementRule(a):{}){if(A[a]&&!C){if(c=r.firstChild,c&&3===c.type)for(f=c.value.replace(B,""),f.length>0?(c.value=f,c=c.next):(g=c.next,c.remove(),c=g);c&&3===c.type;)f=c.value,g=c.next,(0===f.length||F.test(f))&&(c.remove(),c=g),c=g;if(c=r.lastChild,c&&3===c.type)for(f=c.value.replace(D,""),f.length>0?(c.value=f,c=c.prev):(g=c.prev,c.remove(),c=g);c&&3===c.type;)f=c.value,g=c.prev,(0===f.length||F.test(f))&&(c.remove(),c=g),c=g}if(C&&G[a]&&(C=!1),(e.removeEmpty||e.paddEmpty)&&r.isEmpty(I))if(e.paddEmpty)r.empty().append(new b("#text","3")).value=" ";else if(!r.attributes.map.name&&!r.attributes.map.id)return h=r.parent,r.empty().remove(),void(r=h);r=r.parent}}},d),q=r=new b(k.context||c.root_name,11),p.parse(f),z&&K.length&&(k.context?k.invalid=!0:e(K)),J&&"body"==q.name&&l(),!k.invalid){for(y in i){for(x=g[y],s=i[y],v=s.length;v--;)s[v].parent||s.splice(v,1);for(t=0,u=x.length;u>t;t++)x[t](s,y,k)}for(t=0,u=h.length;u>t;t++)if(x=h[t],x.name in j){for(s=j[x.name],v=s.length;v--;)s[v].parent||s.splice(v,1);for(v=0,w=x.callbacks.length;w>v;v++)x.callbacks[v](s,x.name,k)}}return q},c.remove_trailing_brs&&f.addNodeFilter("br",function(b){var c,e,f,g,h,i,j=b.length,k=a.extend({},d.getBlockElements()),l=d.getNonEmptyElements();for(k.body=1,c=0;j>c;c++)if(e=b[c],f=e.parent,k[e.parent.name]&&e===f.lastChild){for(h=e.prev;h;){if(i=h.name,"span"!==i||"bookmark"!==h.attr("data-mce-type")){if("br"!==i)break;if("br"===i){e=null;break}}h=h.prev}e&&(e.remove(),f.isEmpty(l)&&(elementRule=d.getElementRule(f.name),elementRule&&(elementRule.removeEmpty?f.remove():elementRule.paddEmpty&&(f.empty().append(new a.html.Node("#text",3)).value=" "))))}else{for(g=e;f.firstChild===g&&f.lastChild===g&&(g=f,!k[f.name]);)f=f.parent;g===f&&(textNode=new a.html.Node("#text",3),textNode.value=" ",e.replace(textNode))}}),c.allow_html_in_named_anchor||f.addAttributeFilter("id,name",function(a){for(var b,c,d,e,f=a.length;f--;)if(e=a[f],"a"===e.name&&e.firstChild&&!e.attr("href")){d=e.parent,b=e.lastChild;do c=b.prev,d.insert(b,e),b=c;while(b)}})}}(tinymce),tinymce.html.Writer=function(a){var b,c,d,e,f,g=[];return a=a||{},b=a.indent,c=tinymce.makeMap(a.indent_before||""),d=tinymce.makeMap(a.indent_after||""),e=tinymce.html.Entities.getEncodeFunc(a.entity_encoding||"raw",a.entities),f="html"==a.element_format,{start:function(a,h,i){var j,k,l,m;if(b&&c[a]&&g.length>0&&(m=g[g.length-1],m.length>0&&"\n"!==m&&g.push("\n")),g.push("<",a),h)for(j=0,k=h.length;k>j;j++)l=h[j],g.push(" ",l.name,'="',e(l.value,!0),'"');g[g.length]=!i||f?">":" />",i&&b&&d[a]&&g.length>0&&(m=g[g.length-1],m.length>0&&"\n"!==m&&g.push("\n"))},end:function(a){var c;g.push("</",a,">"),b&&d[a]&&g.length>0&&(c=g[g.length-1],c.length>0&&"\n"!==c&&g.push("\n"))},text:function(a,b){a.length>0&&(g[g.length]=b?a:e(a))},cdata:function(a){g.push("<![CDATA[",a,"]]>")},comment:function(a){g.push("<!--",a,"-->")},pi:function(a,c){c?g.push("<?",a," ",c,"?>"):g.push("<?",a,"?>"),b&&g.push("\n")},doctype:function(a){g.push("<!DOCTYPE",a,">",b?"\n":"")},reset:function(){g.length=0},getContent:function(){return g.join("").replace(/\n$/,"")}}},function(a){a.html.Serializer=function(b,c){var d=this,e=new a.html.Writer(b);b=b||{},b.validate="validate"in b?b.validate:!0,d.schema=c=c||new a.html.Schema,d.writer=e,d.serialize=function(a){function d(a){var b,h,i,j,k,l,m,n,o,p=f[a.type];if(p)p(a);else{if(b=a.name,h=a.shortEnded,i=a.attributes,g&&i&&i.length>1){for(l=[],l.map={},o=c.getElementRule(a.name),m=0,n=o.attributesOrder.length;n>m;m++)j=o.attributesOrder[m],j in i.map&&(k=i.map[j],l.map[j]=k,l.push({name:j,value:k}));for(m=0,n=i.length;n>m;m++)j=i[m].name,j in l.map||(k=i.map[j],l.map[j]=k,l.push({name:j,value:k}));i=l}if(e.start(a.name,i,h),!h){if(a=a.firstChild)do d(a);while(a=a.next);e.end(b)}}}var f,g;return g=b.validate,f={3:function(a){e.text(a.value,a.raw)},8:function(a){e.comment(a.value)},7:function(a){e.pi(a.name,a.value)},10:function(a){e.doctype(a.value)},4:function(a){e.cdata(a.value)},11:function(a){if(a=a.firstChild)do d(a);while(a=a.next)}},e.reset(),1!=a.type||b.inner?f[11](a):d(a),e.getContent()}}}(tinymce),tinymce.dom={},function(a,b){function c(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function e(a,b){function c(){return!1}function d(){return!0}var e,f=b||{};for(e in a)"layerX"!==e&&"layerY"!==e&&(f[e]=a[e]);return f.target||(f.target=f.srcElement||document),f.preventDefault=function(){f.isDefaultPrevented=d,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},f.stopPropagation=function(){f.isPropagationStopped=d,a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=d,f.stopPropagation()},f.isDefaultPrevented||(f.isDefaultPrevented=c,f.isPropagationStopped=c,f.isImmediatePropagationStopped=c),f}function f(a,b,e){function f(){e.domLoaded||(e.domLoaded=!0,b(i))}var g=a.document,i={type:"ready"};return"complete"==g.readyState?void f():(h?c(a,"DOMContentLoaded",f):(c(g,"readystatechange",function(){"complete"===g.readyState&&(d(g,"readystatechange",arguments.callee),f())}),g.documentElement.doScroll&&a===a.top&&!function(){try{g.documentElement.doScroll("left")}catch(a){return void setTimeout(arguments.callee,0)}f()}()),void c(a,"load",f))}function g(a){function g(a,b){var c,d,e,f;if(c=n[b][a.type])for(d=0,e=c.length;e>d;d++)if(f=c[d],f&&f.func.call(f.scope,a)===!1&&a.preventDefault(),a.isImmediatePropagationStopped())return}var i,j,k,l,m=this,n={};k="onmouseenter"in document.documentElement,j="onfocusin"in document.documentElement,l={mouseenter:"mouseover",mouseleave:"mouseout"},i=1,m.domLoaded=!1,m.events=n,m.bind=function(d,o,p,q){function r(a){g(e(a||z.event),s)}var s,t,u,v,w,x,y,z=window;if(d&&3!==d.nodeType&&8!==d.nodeType){for(d[b]?(s=d[b],n[s]||(n[s]={})):(s=i++,d[b]=s,n[s]={}),q=q||d,o=o.split(" "),u=o.length;u--;)v=o[u],x=r,w=y=!1,"DOMContentLoaded"===v&&(v="ready"),!m.domLoaded&&"complete"!=d.readyState||"ready"!==v?(k||(w=l[v],w&&(x=function(a){var b,c;if(b=a.currentTarget,c=a.relatedTarget,c&&b.contains)c=b.contains(c);else for(;c&&c!==b;)c=c.parentNode;c||(a=e(a||z.event),a.type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=b,g(a,s))})),j||"focusin"!==v&&"focusout"!==v||(y=!0,w="focusin"===v?"focus":"blur",x=function(a){a=e(a||z.event),a.type="focus"===a.type?"focusin":"focusout",g(a,s)}),t=n[s][v],t?t.push({func:p,scope:q}):(n[s][v]=t=[{func:p,scope:q}],t.fakeName=w,t.capture=y,t.nativeHandler=x,h||(t.proxyHandler=a(s)),"ready"===v?f(d,x,m):c(d,w||v,h?x:t.proxyHandler,y))):(m.domLoaded=!0,p.call(q,e({type:v})));return d=t=0,p}},m.unbind=function(a,c,e){var f,g,i,j,k,l;if(!a||3===a.nodeType||8===a.nodeType)return m;if(f=a[b]){if(l=n[f],c){for(c=c.split(" "),i=c.length;i--;)if(k=c[i],g=l[k]){if(e)for(j=g.length;j--;)g[j].func===e&&g.splice(j,1);e&&0!==g.length||(delete l[k],d(a,g.fakeName||k,h?g.nativeHandler:g.proxyHandler,g.capture))}}else{for(k in l)g=l[k],d(a,g.fakeName||k,h?g.nativeHandler:g.proxyHandler,g.capture);l={}}for(k in l)return m;delete n[f];try{delete a[b]}catch(o){a[b]=null}}return m},m.fire=function(a,c,d){var f,h;if(!a||3===a.nodeType||8===a.nodeType)return m;h=e(null,d),h.type=c;do f=a[b],f&&g(h,f),a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow;while(a&&!h.isPropagationStopped());return m},m.clean=function(a){var c,d,e=m.unbind;if(!a||3===a.nodeType||8===a.nodeType)return m;if(a[b]&&e(a),a.getElementsByTagName||(a=a.document),a&&a.getElementsByTagName)for(e(a),d=a.getElementsByTagName("*"),c=d.length;c--;)a=d[c],a[b]&&e(a);return m},m.callNativeHandler=function(a,b){n&&n[a][b.type].nativeHandler(b)},m.destory=function(){n={}},m.add=function(a,b,c,d){if("string"==typeof a&&(a=document.getElementById(a)),!(a&&a instanceof Array))return"init"===b&&(b="ready"),m.bind(a,b instanceof Array?b.join(" "):b,c,d);for(var e=a.length;e--;)m.add(a[e],b,c,d)},m.remove=function(a,b,c,d){if(!a)return m;if("string"==typeof a&&(a=document.getElementById(a)),a instanceof Array){for(var e=a.length;e--;)m.remove(a[e],b,c,d);return m}return m.unbind(a,b instanceof Array?b.join(" "):b,c)},m.clear=function(a){return"string"==typeof a&&(a=document.getElementById(a)),m.clean(a)},m.cancel=function(a){return a&&(m.prevent(a),m.stop(a)),!1},m.prevent=function(a){return a.preventDefault||(a=e(a)),a.preventDefault(),!1},m.stop=function(a){return a.stopPropagation||(a=e(a)),a.stopPropagation(),!1}}var h=!!document.addEventListener;a.EventUtils=g,a.Event=new g(function(a){return function(b){tinymce.dom.Event.callNativeHandler(a,b)}}),a.Event.bind(window,"ready",function(){}),a=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(a,b){function c(a,c,d,e){var f,g;if(a){if(!e&&a[c])return a[c];if(a!=b){if(f=a[d])return f;for(g=a.parentNode;g&&g!=b;g=g.parentNode)if(f=g[d])return f}}}var d=a;this.current=function(){return d},this.next=function(a){return d=c(d,"firstChild","nextSibling",a)},this.prev=function(a){return d=c(d,"lastChild","previousSibling",a)}},function(a){var b=a.each,c=a.is,d=a.isWebKit,e=a.isIE,f=a.html.Entities,g=/^([a-z0-9],?)+$/i,h=/^[ \t\r\n]*$/;a.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(b,c){var d,e=this;if(e.doc=b,e.win=window,e.files={},e.cssFlicker=!1,e.counter=0,e.stdMode=!a.isIE||b.documentMode>=8,e.boxModel=!a.isIE||"CSS1Compat"==b.compatMode||e.stdMode,e.hasOuterHTML="outerHTML"in b.createElement("a"),e.settings=c=a.extend({keep_values:!1,hex_colors:1},c),e.schema=c.schema,e.styles=new a.html.Styles({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),a.isIE6)try{b.execCommand("BackgroundImageCache",!1,!0)}catch(f){e.cssFlicker=!0}e.fixDoc(b),e.events=c.ownEvents?new a.dom.EventUtils(c.proxy):a.dom.Event,a.addUnload(e.destroy,e),d=c.schema?c.schema.getBlockElements():{},e.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!d[a.nodeName]):!!d[a]}},fixDoc:function(a){var b,c=this.settings;if(e&&c.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)});for(b in c.schema.getCustomElements())a.createElement(b)}},clone:function(a,c){var d,f,g=this;return!e||1!==a.nodeType||c?a.cloneNode(c):(f=g.doc,c?d.firstChild:(d=f.createElement(a.nodeName),b(g.getAttribs(a),function(b){g.setAttrib(d,b.nodeName,g.getAttrib(a,b.nodeName))}),d))},getRoot:function(){var a=this,b=a.settings;return b&&a.get(b.root_element)||a.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c,d=this;return a=d.get(a),b=d.getPos(a),c=d.getSize(a),{x:b.x,y:b.y,w:c.w,h:c.h}},getSize:function(a){var b,c,d=this;return a=d.get(a),b=d.getStyle(a,"width"),c=d.getStyle(a,"height"),-1===b.indexOf("px")&&(b=0),-1===c.indexOf("px")&&(c=0),{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,d,e){var f,g=this,h=g.settings,i=[];for(a=g.get(a),e=void 0===e,h.strict_root&&(d=d||g.getRoot()),c(b,"string")&&(f=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return g.is(a,f)});a&&a!=d&&a.nodeType&&9!==a.nodeType;){if(!b||b(a)){if(!e)return a;i.push(a)}a=a.parentNode}return e?i:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,a=this.doc.getElementById(a),a&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(b,c){var d=this;return a.dom.Sizzle(b,d.get(c)||d.get(d.settings.root_element)||d.doc,[])},is:function(b,c){var d;if(void 0===b.length){if("*"===c)return 1==b.nodeType;if(g.test(c)){for(c=c.toLowerCase().split(/,/),b=b.nodeName.toLowerCase(),d=c.length-1;d>=0;d--)if(c[d]==b)return!0;return!1}}return a.dom.Sizzle.matches(c,b.nodeType?[b]:b).length>0},add:function(a,b,d,e,f){var g=this;return this.run(a,function(a){var h;return h=c(b,"string")?g.doc.createElement(b):b,g.setAttribs(h,d),e&&(e.nodeType?h.appendChild(e):g.setHTML(h,e)),f?h:a.appendChild(h)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,e="",f=this;e+="<"+a;for(d in b)b.hasOwnProperty(d)&&(e+=" "+d+'="'+f.encode(b[d])+'"');return"undefined"!=typeof c?e+">"+c+"</"+a+">":e+" />"},remove:function(b,c){return this.run(b,function(b){var d,e=b.parentNode;if(!e)return null;if(c)for(;d=b.firstChild;)!a.isIE||3!==d.nodeType||d.nodeValue?e.insertBefore(d,b):b.removeChild(d);return e.removeChild(b)})},setStyle:function(b,c,d){var f=this;return f.run(b,function(g){var h;switch(h=g.style,c=c.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),f.pixelStyles.test(c)&&(a.is(d,"number")||/^[\-0-9\.]+$/.test(d))&&(d+="px"),c){case"opacity":e&&(h.filter=""===d?"":"alpha(opacity="+100*d+")",b.currentStyle&&b.currentStyle.hasLayout||(h.display="inline-block")),h[c]=h["-moz-opacity"]=h["-khtml-opacity"]=d||"";break;case"float":e?h.styleFloat=d:h.cssFloat=d;break;default:h[c]=d||""}f.settings.update_styles&&f.setAttrib(g,"data-mce-style")})},getStyle:function(a,b,c){if(a=this.get(a)){if(this.doc.defaultView&&c){b=b.replace(/[A-Z]/g,function(a){return"-"+a});try{return this.doc.defaultView.getComputedStyle(a,null).getPropertyValue(b)}catch(d){return null}}return b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),"float"==b&&(b=e?"styleFloat":"cssFloat"),a.currentStyle&&c?a.currentStyle[b]:a.style?a.style[b]:void 0}},setStyles:function(a,c){var d,e=this,f=e.settings;d=f.update_styles,f.update_styles=0,b(c,function(b,c){e.setStyle(a,c,b)}),f.update_styles=d,f.update_styles&&e.setAttrib(a,f.cssText)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;b>=0;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,d,e){var f=this;return a&&d?(f.settings.strict&&(d=d.toLowerCase()),this.run(a,function(a){var g=f.settings,h=a.getAttribute(d);if(null!==e)switch(d){case"style":if(!c(e,"string"))return void b(e,function(b,c){f.setStyle(a,c,b)});g.keep_values&&(e&&!f._isRes(e)?a.setAttribute("data-mce-style",e,2):a.removeAttribute("data-mce-style",2)),a.style.cssText=e;break;
case"class":a.className=e||"";break;case"src":case"href":g.keep_values&&(g.url_converter&&(e=g.url_converter.call(g.url_converter_scope||f,e,d,a)),f.setAttrib(a,"data-mce-"+d,e,2));break;case"shape":a.setAttribute("data-mce-style",e)}if(c(e)&&null!==e&&0!==e.length?a.setAttribute(d,""+e,2):a.removeAttribute(d,2),tinyMCE.activeEditor&&h!=e){var i=tinyMCE.activeEditor;i.onSetAttrib.dispatch(i,a,d,e)}})):void 0},setAttribs:function(a,c){var d=this;return this.run(a,function(a){b(c,function(b,c){d.setAttrib(a,c,b)})})},getAttrib:function(b,f,g){var h,i,j=this;if(b=j.get(b),!b||1!==b.nodeType)return g===i?!1:g;if(c(g)||(g=""),/^(src|href|style|coords|shape)$/.test(f)&&(h=b.getAttribute("data-mce-"+f)))return h;if(e&&j.props[f]&&(h=b[j.props[f]],h=h&&h.nodeValue?h.nodeValue:h),h||(h=b.getAttribute(f,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(f))return b[j.props[f]]===!0&&""===h?f:h?f:"";if("FORM"===b.nodeName&&b.getAttributeNode(f))return b.getAttributeNode(f).nodeValue;if("style"===f&&(h=h||b.style.cssText,h&&(h=j.serializeStyle(j.parseStyle(h),b.nodeName),j.settings.keep_values&&!j._isRes(h)&&b.setAttribute("data-mce-style",h))),d&&"class"===f&&h&&(h=h.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),e)switch(f){case"rowspan":case"colspan":1===h&&(h="");break;case"size":("+0"===h||20===h||0===h)&&(h="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===h&&(h="");break;case"hspace":-1===h&&(h="");break;case"maxlength":case"tabindex":(32768===h||2147483647===h||"32768"===h)&&(h="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===h?f:g;case"shape":h=h.toLowerCase();break;default:0===f.indexOf("on")&&h&&(h=a._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+h))}return h!==i&&null!==h&&""!==h?""+h:g},getPos:function(a,b){var c,d,e=this,f=0,g=0,h=e.doc;if(a=e.get(a),b=b||h.body,a){if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),c=e.boxModel?h.documentElement:h.body,f=a.left+(h.documentElement.scrollLeft||h.body.scrollLeft)-c.clientTop,g=a.top+(h.documentElement.scrollTop||h.body.scrollTop)-c.clientLeft,{x:f,y:g};for(d=a;d&&d!=b&&d.nodeType;)f+=d.offsetLeft||0,g+=d.offsetTop||0,d=d.offsetParent;for(d=a.parentNode;d&&d!=b&&d.nodeType;)f-=d.scrollLeft||0,g-=d.scrollTop||0,d=d.parentNode}return{x:f,y:g}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b,c=this.doc;styleElm=c.getElementById("mceDefaultStyles"),styleElm||(styleElm=c.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",b=c.getElementsByTagName("head")[0],b.firstChild?b.insertBefore(styleElm,b.firstChild):b.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=a:styleElm.appendChild(c.createTextNode(a))},loadCSS:function(c){var d,f=this,g=f.doc;c||(c=""),d=g.getElementsByTagName("head")[0],b(c.split(","),function(b){var c;f.files[b]||(f.files[b]=!0,c=f.create("link",{rel:"stylesheet",href:a._addVer(b)}),e&&g.documentMode&&g.recalc&&(c.onload=function(){g.recalc&&g.recalc(),c.onload=null}),d.appendChild(c))})},addClass:function(a,b){return this.run(a,function(a){var c;return b?this.hasClass(a,b)?a.className:(c=this.removeClass(a,b),a.className=(""!=c?c+" ":"")+b):0})},removeClass:function(b,c){var d,e=this;return e.run(b,function(b){var f;return e.hasClass(b,c)?(d||(d=new RegExp("(^|\\s+)"+c+"(\\s+|$)","g")),f=b.className.replace(d," "),f=a.trim(" "!=f?f:""),b.className=f,f||(b.removeAttribute("class"),b.removeAttribute("className")),f):b.className})},hasClass:function(a,b){return a=this.get(a),a&&b?-1!==(" "+a.className+" ").indexOf(" "+b+" "):!1},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(c,d){var f=this;return f.run(c,function(c){if(e){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br />"+d,c.removeChild(c.firstChild)}catch(g){var h=f.create("div");h.innerHTML="<br />"+d,b(a.grep(h.childNodes),function(a,b){b&&c.canHaveHTML&&c.appendChild(a)})}}else c.innerHTML=d;return d})},getOuterHTML:function(a){var b,c=this;return(a=c.get(a))?1===a.nodeType&&c.hasOuterHTML?a.outerHTML:(b=(a.ownerDocument||c.doc).createElement("body"),b.appendChild(a.cloneNode(!0)),b.innerHTML):null},setOuterHTML:function(a,b,c){function d(a,b,c){var d,e;for(e=c.createElement("body"),e.innerHTML=b,d=e.lastChild;d;)f.insertAfter(d.cloneNode(!0),a),d=d.previousSibling;f.remove(a)}var f=this;return this.run(a,function(a){if(a=f.get(a),1==a.nodeType)if(c=c||a.ownerDocument||f.doc,e)try{e&&1==a.nodeType?a.outerHTML=b:d(a,b,c)}catch(g){d(a,b,c)}else d(a,b,c)})},decode:f.decode,encode:f.encodeAllRaw,insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},replace:function(d,e,f){var g=this;return c(e,"array")&&(d=d.cloneNode(!0)),g.run(e,function(c){return f&&b(a.grep(c.childNodes),function(a){d.appendChild(a)}),c.parentNode.replaceChild(d,c)})},rename:function(a,c){var d,e=this;return a.nodeName!=c.toUpperCase()&&(d=e.create(c),b(e.getAttribs(a),function(b){e.setAttrib(d,b.nodeName,e.getAttrib(a,b.nodeName))}),e.replace(d,a,1)),d||a},findCommonAncestor:function(a,b){for(var c,d=a;d;){for(c=b;c&&d!=c;)c=c.parentNode;if(d==c)break;d=d.parentNode}return!d&&a.ownerDocument?a.ownerDocument.documentElement:d},toHex:function(a){function b(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a}var c=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(a);return c?a="#"+b(c[1])+b(c[2])+b(c[3]):a},getClasses:function(){function c(e){b(e.imports,function(a){c(a)}),b(e.cssRules||e.rules,function(e){switch(e.type||1){case 1:e.selectorText&&b(e.selectorText.split(","),function(b){b=b.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(b)&&/\.[\w\-]+$/.test(b)&&(d=b,b=a._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",b),(!h||(b=h(b,d)))&&(g[b]||(f.push({"class":b}),g[b]=1)))});break;case 3:c(e.styleSheet)}})}var d,e=this,f=[],g={},h=e.settings.class_filter;if(e.classes)return e.classes;try{b(e.doc.styleSheets,c)}catch(i){}return f.length>0&&(e.classes=f),f},run:function(a,c,d){var e,f=this;return f.doc&&"string"==typeof a&&(a=f.get(a)),a?(d=d||this,a.nodeType||!a.length&&0!==a.length?c.call(d,a):(e=[],b(a,function(a,b){a&&("string"==typeof a&&(a=f.doc.getElementById(a)),e.push(c.call(d,a,b)))}),e)):!1},getAttribs:function(a){var b;return a=this.get(a),a?e?(b=[],"OBJECT"==a.nodeName?a.attributes:("OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"}),a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})}),b)):a.attributes:[]},isEmpty:function(b,c){var d,e,f,g,i,j=this,k=0;if(b=b.firstChild){g=new a.dom.TreeWalker(b,b.parentNode),c=c||j.schema?j.schema.getNonEmptyElements():null;do{if(f=b.nodeType,1===f){if(b.getAttribute("data-mce-bogus"))continue;if(i=b.nodeName.toLowerCase(),c&&c[i]){if("br"===i){k++;continue}return!1}for(e=j.getAttribs(b),d=b.attributes.length;d--;)if(i=b.attributes[d].nodeName,"name"===i||"data-mce-bookmark"===i)return!1}if(8==f)return!1;if(3===f&&!h.test(b.nodeValue))return!1}while(b=g.next())}return 1>=k},destroy:function(b){var c=this;c.win=c.doc=c.root=c.events=c.frag=null,b||a.removeUnload(c.destroy)},createRng:function(){var b=this.doc;return b.createRange?b.createRange():new a.dom.Range(this)},nodeIndex:function(a,b){var c,d,e,f=0;if(a)for(c=a.nodeType,a=a.previousSibling,d=a;a;a=a.previousSibling)e=a.nodeType,(!b||3!=e||e!=c&&a.nodeValue.length)&&(f++,c=e);return f},split:function(b,c,d){function e(b){function c(a){var b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName,c=a.nextSibling&&"SPAN"==a.nextSibling.nodeName;return b&&c}var d,f=b.childNodes,g=b.nodeType;if(1!=g||"bookmark"!=b.getAttribute("data-mce-type")){for(d=f.length-1;d>=0;d--)e(f[d]);if(9!=g){if(3==g&&b.nodeValue.length>0){var h=a.trim(b.nodeValue).length;if(!i.isBlock(b.parentNode)||h>0||0===h&&c(b))return}else if(1==g&&(f=b.childNodes,1==f.length&&f[0]&&1==f[0].nodeType&&"bookmark"==f[0].getAttribute("data-mce-type")&&b.parentNode.insertBefore(f[0],b),f.length||/^(br|hr|input|img)$/i.test(b.nodeName)))return;i.remove(b)}return b}}var f,g,h,i=this,j=i.createRng();return b&&c?(j.setStart(b.parentNode,i.nodeIndex(b)),j.setEnd(c.parentNode,i.nodeIndex(c)),f=j.extractContents(),j=i.createRng(),j.setStart(c.parentNode,i.nodeIndex(c)+1),j.setEnd(b.parentNode,i.nodeIndex(b)+1),g=j.extractContents(),h=b.parentNode,h.insertBefore(e(f),b),d?h.replaceChild(d,c):h.insertBefore(c,b),h.insertBefore(e(g),b),i.remove(b),d||c):void 0},bind:function(a,b,c,d){return this.events.add(a,b,c,d||this)},unbind:function(a,b,c){return this.events.remove(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return 1!=a.nodeType?null:(b=a.getAttribute("data-mce-contenteditable"),b&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null)},_findSib:function(a,b,d){var e=this,f=b;if(a)for(c(f,"string")&&(f=function(a){return e.is(a,b)}),a=a[d];a;a=a[d])if(f(a))return a;return null},_isRes:function(a){return/^(top|left|bottom|right|width|height)/i.test(a)||/;\s*(top|left|bottom|right|width|height)/i.test(a)}}),a.DOM=new a.dom.DOMUtils(document,{process_html:0})}(tinymce),function(a){function b(a){function c(){return I.createDocumentFragment()}function d(a,b){w(M,a,b)}function e(a,b){w(N,a,b)}function f(a){d(a.parentNode,T(a))}function g(a){d(a.parentNode,T(a)+1)}function h(a){e(a.parentNode,T(a))}function i(a){e(a.parentNode,T(a)+1)}function j(a){a?(H[Q]=H[P],H[R]=H[O]):(H[P]=H[Q],H[O]=H[R]),H.collapsed=M}function k(a){f(a),i(a)}function l(a){d(a,0),e(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)}function m(a,b){var c=H[P],d=H[O],e=H[Q],f=H[R],g=b.startContainer,h=b.startOffset,i=b.endContainer,j=b.endOffset;return 0===a?v(c,d,g,h):1===a?v(e,f,g,h):2===a?v(e,f,i,j):3===a?v(c,d,i,j):void 0}function n(){x(L)}function o(){return x(J)}function p(){return x(K)}function q(b){var c,d,e=this[P],f=this[O];3!==e.nodeType&&4!==e.nodeType||!e.nodeValue?(e.childNodes.length>0&&(d=e.childNodes[f]),d?e.insertBefore(b,d):e.appendChild(b)):f?f>=e.nodeValue.length?a.insertAfter(b,e):(c=e.splitText(f),e.parentNode.insertBefore(b,c)):e.parentNode.insertBefore(b,e)}function r(a){var b=H.extractContents();H.insertNode(a),a.appendChild(b),H.selectNode(a)}function s(){return S(new b(a),{startContainer:H[P],startOffset:H[O],endContainer:H[Q],endOffset:H[R],collapsed:H.collapsed,commonAncestorContainer:H.commonAncestorContainer})}function t(a,b){var c;if(3==a.nodeType)return a;if(0>b)return a;for(c=a.firstChild;c&&b>0;)--b,c=c.nextSibling;return c?c:a}function u(){return H[P]==H[Q]&&H[O]==H[R]}function v(b,c,d,e){var f,g,h,i,j,k;if(b==d)return c==e?0:e>c?-1:1;for(f=d;f&&f.parentNode!=b;)f=f.parentNode;if(f){for(g=0,h=b.firstChild;h!=f&&c>g;)g++,h=h.nextSibling;return g>=c?-1:1}for(f=b;f&&f.parentNode!=d;)f=f.parentNode;if(f){for(g=0,h=d.firstChild;h!=f&&e>g;)g++,h=h.nextSibling;return e>g?-1:1}for(i=a.findCommonAncestor(b,d),j=b;j&&j.parentNode!=i;)j=j.parentNode;for(j||(j=i),k=d;k&&k.parentNode!=i;)k=k.parentNode;if(k||(k=i),j==k)return 0;for(h=i.firstChild;h;){if(h==j)return-1;if(h==k)return 1;h=h.nextSibling}}function w(b,c,d){var e,f;for(b?(H[P]=c,H[O]=d):(H[Q]=c,H[R]=d),e=H[Q];e.parentNode;)e=e.parentNode;for(f=H[P];f.parentNode;)f=f.parentNode;f==e?v(H[P],H[O],H[Q],H[R])>0&&H.collapse(b):H.collapse(b),H.collapsed=u(),H.commonAncestorContainer=a.findCommonAncestor(H[P],H[Q])}function x(a){var b,c,d,e,f,g,h,i=0,j=0;if(H[P]==H[Q])return y(a);for(b=H[Q],c=b.parentNode;c;b=c,c=c.parentNode){if(c==H[P])return z(b,a);++i}for(b=H[P],c=b.parentNode;c;b=c,c=c.parentNode){if(c==H[Q])return A(b,a);++j}for(d=j-i,e=H[P];d>0;)e=e.parentNode,d--;for(f=H[Q];0>d;)f=f.parentNode,d++;for(g=e.parentNode,h=f.parentNode;g!=h;g=g.parentNode,h=h.parentNode)e=g,f=h;return B(e,f,a)}function y(a){var b,d,e,f,g,h,i,j,k;if(a!=L&&(b=c()),H[O]==H[R])return b;if(3==H[P].nodeType){if(d=H[P].nodeValue,e=d.substring(H[O],H[R]),a!=K&&(f=H[P],j=H[O],k=H[R]-H[O],0===j&&k>=f.nodeValue.length-1?f.parentNode.removeChild(f):f.deleteData(j,k),H.collapse(M)),a==L)return;return e.length>0&&b.appendChild(I.createTextNode(e)),b}for(f=t(H[P],H[O]),g=H[R]-H[O];f&&g>0;)h=f.nextSibling,i=F(f,a),b&&b.appendChild(i),--g,f=h;return a!=K&&H.collapse(M),b}function z(a,b){var d,e,f,g,h,i;if(b!=L&&(d=c()),e=C(a,b),d&&d.appendChild(e),f=T(a),g=f-H[O],0>=g)return b!=K&&(H.setEndBefore(a),H.collapse(N)),d;for(e=a.previousSibling;g>0;)h=e.previousSibling,i=F(e,b),d&&d.insertBefore(i,d.firstChild),--g,e=h;return b!=K&&(H.setEndBefore(a),H.collapse(N)),d}function A(a,b){var d,e,f,g,h,i;for(b!=L&&(d=c()),f=D(a,b),d&&d.appendChild(f),e=T(a),++e,g=H[R]-e,f=a.nextSibling;f&&g>0;)h=f.nextSibling,i=F(f,b),d&&d.appendChild(i),--g,f=h;return b!=K&&(H.setStartAfter(a),H.collapse(M)),d}function B(a,b,d){var e,f,g,h,i,j,k,l;for(d!=L&&(f=c()),e=D(a,d),f&&f.appendChild(e),g=a.parentNode,h=T(a),i=T(b),++h,j=i-h,k=a.nextSibling;j>0;)l=k.nextSibling,e=F(k,d),f&&f.appendChild(e),k=l,--j;return e=C(b,d),f&&f.appendChild(e),d!=K&&(H.setStartAfter(a),H.collapse(M)),f}function C(a,b){var c,d,e,f,g,h=t(H[Q],H[R]-1),i=h!=H[Q];if(h==a)return E(h,i,N,b);for(c=h.parentNode,d=E(c,N,N,b);c;){for(;h;)e=h.previousSibling,f=E(h,i,N,b),b!=L&&d.insertBefore(f,d.firstChild),i=M,h=e;if(c==a)return d;h=c.previousSibling,c=c.parentNode,g=E(c,N,N,b),b!=L&&g.appendChild(d),d=g}}function D(a,b){var c,d,e,f,g,h=t(H[P],H[O]),i=h!=H[P];if(h==a)return E(h,i,M,b);for(c=h.parentNode,d=E(c,N,M,b);c;){for(;h;)e=h.nextSibling,f=E(h,i,M,b),b!=L&&d.appendChild(f),i=M,h=e;if(c==a)return d;h=c.nextSibling,c=c.parentNode,g=E(c,N,M,b),b!=L&&g.appendChild(d),d=g}}function E(b,c,d,e){var f,g,h,i,j;if(c)return F(b,e);if(3==b.nodeType){if(f=b.nodeValue,d?(i=H[O],g=f.substring(i),h=f.substring(0,i)):(i=H[R],g=f.substring(0,i),h=f.substring(i)),e!=K&&(b.nodeValue=h),e==L)return;return j=a.clone(b,N),j.nodeValue=g,j}return e!=L?a.clone(b,N):void 0}function F(b,c){return c!=L?c==K?a.clone(b,M):b:void b.parentNode.removeChild(b)}function G(){return a.create("body",null,p()).outerText}var H=this,I=a.doc,J=0,K=1,L=2,M=!0,N=!1,O="startOffset",P="startContainer",Q="endContainer",R="endOffset",S=tinymce.extend,T=a.nodeIndex;return S(H,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:M,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:e,setStartBefore:f,setStartAfter:g,setEndBefore:h,setEndAfter:i,collapse:j,selectNode:k,selectNodeContents:l,compareBoundaryPoints:m,deleteContents:n,extractContents:o,cloneContents:p,insertNode:q,surroundContents:r,cloneRange:s,toStringIE:G}),H}a.Range=b,b.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function a(a){function b(b,c){var d,e,f,g,h,i,j,k,l=0,m=-1;if(d=b.duplicate(),d.collapse(c),k=d.parentElement(),k.ownerDocument===a.dom.doc){for(;"false"===k.contentEditable;)k=k.parentNode;if(!k.hasChildNodes())return{node:k,inside:1};for(g=k.children,e=g.length-1;e>=l;)if(j=Math.floor((l+e)/2),h=g[j],d.moveToElementText(h),m=d.compareEndPoints(c?"StartToStart":"EndToEnd",b),m>0)e=j-1;else{if(!(0>m))return{node:h};l=j+1}if(0>m)for(h?d.collapse(!1):(d.moveToElementText(k),d.collapse(!0),h=k,f=!0),i=0;0!==d.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==d.move("character",1)&&k==d.parentElement();)i++;else for(d.collapse(!0),i=0;0!==d.compareEndPoints(c?"StartToStart":"StartToEnd",b)&&0!==d.move("character",-1)&&k==d.parentElement();)i++;return{node:h,position:m,offset:i,inside:f}}}function c(){function c(a){var c,d,e,f,g,h=b(k,a),i=0;if(c=h.node,d=h.offset,h.inside&&!c.hasChildNodes())return void l[a?"setStart":"setEnd"](c,0);if(d===f)return void l[a?"setStartBefore":"setEndAfter"](c);if(h.position<0){if(e=h.inside?c.firstChild:c.nextSibling,!e)return void l[a?"setStartAfter":"setEndAfter"](c);if(!d)return void(3==e.nodeType?l[a?"setStart":"setEnd"](e,0):l[a?"setStartBefore":"setEndBefore"](e));for(;e;){if(g=e.nodeValue,i+=g.length,i>=d){c=e,i-=d,i=g.length-i;break}e=e.nextSibling}}else{if(e=c.previousSibling,!e)return l[a?"setStartBefore":"setEndBefore"](c);if(!d)return void(3==c.nodeType?l[a?"setStart":"setEnd"](e,c.nodeValue.length):l[a?"setStartAfter":"setEndAfter"](e));for(;e;){if(i+=e.nodeValue.length,i>=d){c=e,i-=d;break}e=e.previousSibling}}l[a?"setStart":"setEnd"](c,i)}var f,g,h,i,j,k=a.getRng(),l=e.createRng();if(f=k.item?k.item(0):k.parentElement(),f.ownerDocument!=e.doc)return l;if(g=a.isCollapsed(),k.item)return l.setStart(f.parentNode,e.nodeIndex(f)),l.setEnd(l.startContainer,l.startOffset+1),l;try{c(!0),g||c()}catch(m){if(-2147024809!=m.number)throw m;j=d.getBookmark(2),h=k.duplicate(),h.collapse(!0),f=h.parentElement(),g||(h=k.duplicate(),h.collapse(!1),i=h.parentElement(),i.innerHTML=i.innerHTML),f.innerHTML=f.innerHTML,d.moveToBookmark(j),k=a.getRng(),c(!0),g||c()}return l}var d=this,e=a.dom,f=!1;this.getBookmark=function(c){function d(a){var b,c,d,f,g=[];for(b=a.parentNode,c=e.getRoot().parentNode;b!=c&&9!==b.nodeType;){for(d=b.children,f=d.length;f--;)if(a===d[f]){g.push(f);break}a=b,b=b.parentNode}return g}function f(a){var c;return c=b(g,a),c?{position:c.position,offset:c.offset,indexes:d(c.node),inside:c.inside}:void 0}var g=a.getRng(),h={};return 2===c&&(g.item?h.start={ctrl:!0,indexes:d(g.item(0))}:(h.start=f(!0),a.isCollapsed()||(h.end=f()))),h},this.moveToBookmark=function(a){function b(a){var b,c,d,f;for(b=e.getRoot(),c=a.length-1;c>=0;c--)f=b.children,d=a[c],d<=f.length-1&&(b=f[d]);return b}function c(c){var e,g,h,i=a[c?"start":"end"];i&&(e=i.position>0,g=f.createTextRange(),g.moveToElementText(b(i.indexes)),offset=i.offset,offset!==h?(g.collapse(i.inside||e),g.moveStart("character",e?-offset:offset)):g.collapse(c),d.setEndPoint(c?"StartToStart":"EndToStart",g),c&&d.collapse(!0))}var d,f=e.doc.body;a.start&&(a.start.ctrl?(d=f.createControlRange(),d.addElement(b(a.start.indexes)),d.select()):(d=f.createTextRange(),c(!0),c(),d.select()))},this.addRange=function(b){function c(a){var b,c,g,l,m;g=e.create("a"),b=a?h:j,c=a?i:k,l=d.duplicate(),(b==o||b==o.documentElement)&&(b=p,c=0),3==b.nodeType?(b.parentNode.insertBefore(g,b),l.moveToElementText(g),l.moveStart("character",c),e.remove(g),d.setEndPoint(a?"StartToStart":"EndToEnd",l)):(m=b.childNodes,m.length?(c>=m.length?e.insertAfter(g,m[m.length-1]):b.insertBefore(g,m[c]),l.moveToElementText(g)):b.canHaveHTML&&(b.innerHTML="<span></span>",g=b.firstChild,l.moveToElementText(g),l.collapse(f)),d.setEndPoint(a?"StartToStart":"EndToEnd",l),e.remove(g))}var d,g,h,i,j,k,l,m,n,o=a.dom.doc,p=o.body;if(h=b.startContainer,i=b.startOffset,j=b.endContainer,k=b.endOffset,d=p.createTextRange(),h==j&&1==h.nodeType){if(i==k&&!h.hasChildNodes()){if(h.canHaveHTML)return l=h.previousSibling,l&&!l.hasChildNodes()&&e.isBlock(l)?l.innerHTML="":l=null,h.innerHTML="<span></span><span></span>",d.moveToElementText(h.lastChild),d.select(),e.doc.selection.clear(),h.innerHTML="",void(l&&(l.innerHTML=""));i=e.nodeIndex(h),h=h.parentNode}if(i==k-1)try{if(n=h.childNodes[i],g=p.createControlRange(),g.addElement(n),g.select(),m=a.getRng(),m.item&&n===m.item(0))return}catch(q){}}c(!0),c(),d.select()},this.getRangeAt=c}tinymce.dom.TridentSelection=a}(),function(){function a(a,b,c,e,f,g){for(var h=0,i=e.length;i>h;h++){var j=e[h];if(j){var k=!1;for(j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1!==j.nodeType||g||(j[d]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function b(a,b,c,e,f,g){for(var h=0,i=e.length;i>h;h++){var j=e[h];if(j){var k=!1;for(j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1===j.nodeType)if(g||(j[d]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(l.filter(b,[j]).length>0){k=j;break}j=j[a]}e[h]=k}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache",e=0,f=Object.prototype.toString,g=!1,h=!0,i=/\\/g,j=/\r\n/g,k=/\W/;[0,0].sort(function(){return h=!1,0});var l=function(a,b,d,e){d=d||[],b=b||document;var g=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return d;var h,i,j,k,m,p,q,s,t=!0,u=l.isXML(b),w=[],x=a;do if(c.exec(""),h=c.exec(x),h&&(x=h[3],w.push(h[1]),h[2])){k=h[3];break}while(h);if(w.length>1&&o.exec(a))if(2===w.length&&n.relative[w[0]])i=v(w[0]+w[1],b,e);else for(i=n.relative[w[0]]?[b]:l(w.shift(),b);w.length;)a=w.shift(),n.relative[a]&&(a+=w.shift()),i=v(a,i,e);else if(!e&&w.length>1&&9===b.nodeType&&!u&&n.match.ID.test(w[0])&&!n.match.ID.test(w[w.length-1])&&(m=l.find(w.shift(),b,u),b=m.expr?l.filter(m.expr,m.set)[0]:m.set[0]),b)for(m=e?{expr:w.pop(),set:r(e)}:l.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!b.parentNode?b:b.parentNode,u),i=m.expr?l.filter(m.expr,m.set):m.set,w.length>0?j=r(i):t=!1;w.length;)p=w.pop(),q=p,n.relative[p]?q=w.pop():p="",null==q&&(q=b),n.relative[p](j,q,u);else j=w=[];if(j||(j=i),j||l.error(p||a),"[object Array]"===f.call(j))if(t)if(b&&1===b.nodeType)for(s=0;null!=j[s];s++)j[s]&&(j[s]===!0||1===j[s].nodeType&&l.contains(b,j[s]))&&d.push(i[s]);else for(s=0;null!=j[s];s++)j[s]&&1===j[s].nodeType&&d.push(i[s]);else d.push.apply(d,j);else r(j,d);return k&&(l(k,g,d,e),l.uniqueSort(d)),d};l.uniqueSort=function(a){if(t&&(g=h,a.sort(t),g))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},l.matches=function(a,b){return l(a,null,null,b)},l.matchesSelector=function(a,b){return l(b,null,null,[a]).length>0},l.find=function(a,b,c){var d,e,f,g,h,j;if(!a)return[];for(e=0,f=n.order.length;f>e;e++)if(h=n.order[e],(g=n.leftMatch[h].exec(a))&&(j=g[1],g.splice(1,1),"\\"!==j.substr(j.length-1)&&(g[1]=(g[1]||"").replace(i,""),d=n.find[h](g,b,c),null!=d))){a=a.replace(n.match[h],"");break}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},l.filter=function(a,b,c,d){for(var e,f,g,h,i,j,k,m,o,p=a,q=[],r=b,s=b&&b[0]&&l.isXML(b[0]);a&&b.length;){for(g in n.filter)if(null!=(e=n.leftMatch[g].exec(a))&&e[2]){if(j=n.filter[g],k=e[1],f=!1,e.splice(1,1),"\\"===k.substr(k.length-1))continue;if(r===q&&(q=[]),n.preFilter[g])if(e=n.preFilter[g](e,r,c,q,d,s)){if(e===!0)continue}else f=h=!0;if(e)for(m=0;null!=(i=r[m]);m++)i&&(h=j(i,e,m,r),o=d^h,c&&null!=h?o?f=!0:r[m]=!1:o&&(q.push(i),f=!0));if(void 0!==h){if(c||(r=q),a=a.replace(n.match[g],""),!f)return[];break}}if(a===p){if(null!=f)break;l.error(a)}p=a}return r},l.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var m=l.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(j,"");for(a=a.firstChild;a;a=a.nextSibling)e+=m(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=m(c));return e},n=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!k.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f,g=0,h=a.length;h>g;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&l.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!k.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&l.filter(b,a,!0)}},"":function(c,d,f){var g,h=e++,i=b;"string"!=typeof d||k.test(d)||(d=d.toLowerCase(),g=d,i=a),i("parentNode",d,h,c,g,f)},"~":function(c,d,f){var g,h=e++,i=b;"string"!=typeof d||k.test(d)||(d=d.toLowerCase(),g=d,i=a),i("previousSibling",d,h,c,g,f)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(i,"")+" ",f)return a;for(var g,h=0;null!=(g=b[h]);h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||l.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&l.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,"");return!f&&n.attrMap[g]&&(a[1]=n.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(i,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,d,e,f){if("not"===a[1]){if(!((c.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=l.filter(a[3],b,d,!0^f);return d||e.push.apply(e,g),!1}a[3]=l(a[3],null,null,b)}else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!l(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=n.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||m([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}l.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j=b[1],k=a;switch(j){case"only":case"first":for(;k=k.previousSibling;)if(1===k.nodeType)return!1;if("first"===j)return!0;k=a;case"last":for(;k=k.nextSibling;)if(1===k.nodeType)return!1;return!0;case"nth":if(c=b[2],e=b[3],1===c&&0===e)return!0;if(f=b[0],g=a.parentNode,g&&(g[d]!==f||!a.nodeIndex)){for(h=0,k=g.firstChild;k;k=k.nextSibling)1===k.nodeType&&(k.nodeIndex=++h);g[d]=f}return i=a.nodeIndex-e,0===c?0===i:i%c===0&&i/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=l.attr?l.attr(a,c):n.attrHandle[c]?n.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:!f&&l.attr?null!=d:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=n.setFilters[e];return f?f(a,c,b,d):void 0}}},o=n.match.POS,p=function(a,b){return"\\"+(b-0+1)};for(var q in n.match)n.match[q]=new RegExp(n.match[q].source+/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[q]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[q].source.replace(/\\(\d+)/g,p));n.match.globalPOS=o;var r=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(s){r=function(a,b){var c=0,d=b||[];if("[object Array]"===f.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var t,u;document.documentElement.compareDocumentPosition?t=function(a,b){return a===b?(g=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(t=function(a,b){if(a===b)return g=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return u(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return u(e[k],f[k]);return k===c?u(a,f[k],-1):u(e[k],b,1)},u=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=document.createElement("div"),b="script"+(new Date).getTime(),c=document.documentElement;a.innerHTML="<a name='"+b+"'/>",c.insertBefore(a,c.firstChild),document.getElementById(b)&&(n.find.ID=function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d?d.id===a[1]||"undefined"!=typeof d.getAttributeNode&&d.getAttributeNode("id").nodeValue===a[1]?[d]:void 0:[]}},n.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),c.removeChild(a),c=a=null}(),function(){var a=document.createElement("div");a.appendChild(document.createComment("")),a.getElementsByTagName("*").length>0&&(n.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(n.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null
}(),document.querySelectorAll&&!function(){var a=l,b=document.createElement("div"),c="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){l=function(b,d,e,f){if(d=d||document,!f&&!l.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===d.nodeType||9===d.nodeType)){if(g[1])return r(d.getElementsByTagName(b),e);if(g[2]&&n.find.CLASS&&d.getElementsByClassName)return r(d.getElementsByClassName(g[2]),e)}if(9===d.nodeType){if("body"===b&&d.body)return r([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return r([],e);if(h.id===g[3])return r([h],e)}try{return r(d.querySelectorAll(b),e)}catch(i){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d,k=d.getAttribute("id"),m=k||c,o=d.parentNode,p=/^\s*[+~]/.test(b);k?m=m.replace(/'/g,"\\$&"):d.setAttribute("id",m),p&&o&&(d=d.parentNode);try{if(!p||o)return r(d.querySelectorAll("[id='"+m+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)l[d]=a[d];b=null}}(),function(){var a=document.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(document.createElement("div"),"div"),d=!1;try{b.call(document.documentElement,"[test!='']:sizzle")}catch(e){d=!0}l.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!l.isXML(a))try{if(d||!n.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return l(e,null,null,[a]).length>0}}}(),function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null))}(),l.contains=document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},l.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var v=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=n.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;for(var h=0,i=g.length;i>h;h++)l(a,g[h],e,c);return l.filter(f,e)};window.tinymce.dom.Sizzle=l}(),function(a){a.dom.Element=function(b,c){var d,e,f=this;f.settings=c=c||{},f.id=b,f.dom=d=c.dom||a.DOM,a.isIE||(e=d.get(f.id)),a.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(a){f[a]=function(){var c,e=[b];for(c=0;c<arguments.length;c++)e.push(arguments[c]);return e=d[a].apply(d,e),f.update(a),e}}),a.extend(f,{on:function(b,c,d){return a.dom.Event.add(f.id,b,c,d)},getXY:function(){return{x:parseInt(f.getStyle("left")),y:parseInt(f.getStyle("top"))}},getSize:function(){var a=d.get(f.id);return{w:parseInt(f.getStyle("width")||a.clientWidth),h:parseInt(f.getStyle("height")||a.clientHeight)}},moveTo:function(a,b){f.setStyles({left:a,top:b})},moveBy:function(a,b){var c=f.getXY();f.moveTo(c.x+a,c.y+b)},resizeTo:function(a,b){f.setStyles({width:a,height:b})},resizeBy:function(a,b){var c=f.getSize();f.resizeTo(c.w+a,c.h+b)},update:function(b){var e;if(a.isIE6&&c.blocker){if(b=b||"",0===b.indexOf("get")||0===b.indexOf("has")||0===b.indexOf("is"))return;if("remove"==b)return void d.remove(f.blocker);f.blocker?e=d.get(f.blocker):(f.blocker=d.uniqueId(),e=d.add(c.container||d.getRoot(),"iframe",{id:f.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),d.setStyle(e,"opacity",0)),d.setStyles(e,{left:f.getStyle("left",1),top:f.getStyle("top",1),width:f.getStyle("width",1),height:f.getStyle("height",1),display:f.getStyle("display",1),zIndex:parseInt(f.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(a){var b=a.is,c=a.isIE,d=a.each,e=a.dom.TreeWalker;a.create("tinymce.dom.Selection",{Selection:function(b,c,e,f){var g=this;g.dom=b,g.win=c,g.serializer=e,g.editor=f,d(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(b){g[b]=new a.util.Dispatcher(g)}),g.win.getSelection||(g.tridentSel=new a.dom.TridentSelection(g)),a.isIE&&b.boxModel&&this._fixIESelection(),a.addUnload(g.destroy,g)},setCursorLocation:function(a,b){var c=this,d=c.dom.createRng();d.setStart(a,b),d.setEnd(a,b),c.setRng(d),c.collapse(!1)},getContent:function(a){var c,d,e,f=this,g=f.getRng(),h=f.dom.create("body"),i=f.getSel();return a=a||{},c=d="",a.get=!0,a.format=a.format||"html",a.forced_root_block="",f.onBeforeGetContent.dispatch(f,a),"text"==a.format?f.isCollapsed()?"":g.text||(i.toString?i.toString():""):(g.cloneContents?(e=g.cloneContents(),e&&h.appendChild(e)):b(g.item)||b(g.htmlText)?(h.innerHTML="<br>"+(g.item?g.item(0).outerHTML:g.htmlText),h.removeChild(h.firstChild)):h.innerHTML=g.toString(),/^\s/.test(h.innerHTML)&&(c=" "),/\s+$/.test(h.innerHTML)&&(d=" "),a.getInner=!0,a.content=f.isCollapsed()?"":c+f.serializer.serialize(h,a)+d,f.onGetContent.dispatch(f,a),a.content)},setContent:function(a,b){var c,d,e,f=this,g=f.getRng(),h=f.win.document;if(b=b||{format:"html"},b.set=!0,a=b.content=a,b.no_events||f.onBeforeSetContent.dispatch(f,b),a=b.content,g.insertNode){a+='<span id="__caret">_</span>',g.startContainer==h&&g.endContainer==h?h.body.innerHTML=a:(g.deleteContents(),0===h.body.childNodes.length?h.body.innerHTML=a:g.createContextualFragment?g.insertNode(g.createContextualFragment(a)):(d=h.createDocumentFragment(),e=h.createElement("div"),d.appendChild(e),e.outerHTML=a,g.insertNode(d))),c=f.dom.get("__caret"),g=h.createRange(),g.setStartBefore(c),g.setEndBefore(c),f.setRng(g),f.dom.remove("__caret");try{f.setRng(g)}catch(i){}}else g.item&&(h.execCommand("Delete",!1,null),g=f.getRng()),/^\s+/.test(a)?(g.pasteHTML('<span id="__mce_tmp">_</span>'+a),f.dom.remove("__mce_tmp")):g.pasteHTML(a);b.no_events||f.onSetContent.dispatch(f,b)},getStart:function(){var a,b,c,d,e=this,f=e.getRng();if(f.duplicate||f.item){if(f.item)return f.item(0);for(c=f.duplicate(),c.collapse(1),a=c.parentElement(),a.ownerDocument!==e.dom.doc&&(a=e.dom.getRoot()),b=d=f.parentElement();d=d.parentNode;)if(d==a){a=b;break}return a}return a=f.startContainer,1==a.nodeType&&a.hasChildNodes()&&(a=a.childNodes[Math.min(a.childNodes.length-1,f.startOffset)]),a&&3==a.nodeType?a.parentNode:a},getEnd:function(){var a,b,c=this,d=c.getRng();return d.duplicate||d.item?d.item?d.item(0):(d=d.duplicate(),d.collapse(0),a=d.parentElement(),a.ownerDocument!==c.dom.doc&&(a=c.dom.getRoot()),a&&"BODY"==a.nodeName?a.lastChild||a:a):(a=d.endContainer,b=d.endOffset,1==a.nodeType&&a.hasChildNodes()&&(a=a.childNodes[b>0?b-1:b]),a&&3==a.nodeType?a.parentNode:a)},getBookmark:function(a,b){function c(a,b){var c=0;return d(o.select(a),function(a,d){a==b&&(c=d)}),c}function e(a){function b(b){var c,d,e,f=b?"start":"end";c=a[f+"Container"],d=a[f+"Offset"],1==c.nodeType&&"TR"==c.nodeName&&(e=c.childNodes,c=e[Math.min(b?d:d-1,e.length-1)],c&&(d=b?0:c.childNodes.length,a["set"+(b?"Start":"End")](c,d)))}return b(!0),b(),a}function f(){function a(a,c){var e,f,g=a[c?"startContainer":"endContainer"],h=a[c?"startOffset":"endOffset"],i=[],j=0;if(3==g.nodeType){if(b)for(e=g.previousSibling;e&&3==e.nodeType;e=e.previousSibling)h+=e.nodeValue.length;i.push(h)}else f=g.childNodes,h>=f.length&&f.length&&(j=1,h=Math.max(0,f.length-1)),i.push(n.dom.nodeIndex(f[h],b)+j);for(;g&&g!=d;g=g.parentNode)i.push(n.dom.nodeIndex(g,b));return i}var c=n.getRng(!0),d=o.getRoot(),e={};return e.start=a(c,!0),n.isCollapsed()||(e.end=a(c)),e}var g,h,i,j,k,l,m,n=this,o=n.dom,p="";if(2==a)return n.tridentSel?n.tridentSel.getBookmark(a):f();if(a)return{rng:n.getRng()};if(g=n.getRng(),i=o.uniqueId(),j=tinyMCE.activeEditor.selection.isCollapsed(),m="overflow:hidden;line-height:0px",g.duplicate||g.item){if(g.item)return l=g.item(0),k=l.nodeName,{name:k,index:c(k,l)};h=g.duplicate();try{g.collapse(),g.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_start" style="'+m+'">'+p+"</span>"),j||(h.collapse(!1),g.moveToElementText(h.parentElement()),0===g.compareEndPoints("StartToEnd",h)&&h.move("character",-1),h.pasteHTML('<span data-mce-type="bookmark" id="'+i+'_end" style="'+m+'">'+p+"</span>"))}catch(q){return null}}else{if(l=n.getNode(),k=l.nodeName,"IMG"==k)return{name:k,index:c(k,l)};h=e(g.cloneRange()),j||(h.collapse(!1),h.insertNode(o.create("span",{"data-mce-type":"bookmark",id:i+"_end",style:m},p))),g=e(g),g.collapse(!0),g.insertNode(o.create("span",{"data-mce-type":"bookmark",id:i+"_start",style:m},p))}return n.moveToBookmark({id:i,keep:1}),{id:i}},moveToBookmark:function(b){function e(a){var c,d,e,f,g=b[a?"start":"end"];if(g){for(e=g[0],d=i,c=g.length-1;c>=1;c--){if(f=d.childNodes,g[c]>f.length-1)return;d=f[g[c]]}3===d.nodeType&&(e=Math.min(g[0],d.nodeValue.length)),1===d.nodeType&&(e=Math.min(g[0],d.childNodes.length)),a?h.setStart(d,e):h.setEnd(d,e)}return!0}function f(c){var e,f,g,h,i=o.get(b.id+"_"+c),n=b.keep;if(i&&(e=i.parentNode,"start"==c?(n?(e=i.firstChild,f=1):f=o.nodeIndex(i),j=k=e,l=m=f):(n?(e=i.firstChild,f=1):f=o.nodeIndex(i),k=e,m=f),!n)){for(h=i.previousSibling,g=i.nextSibling,d(a.grep(i.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});i=o.get(b.id+"_"+c);)o.remove(i,1);h&&g&&h.nodeType==g.nodeType&&3==h.nodeType&&!a.isOpera&&(f=h.nodeValue.length,h.appendData(g.nodeValue),o.remove(g),"start"==c?(j=k=h,l=m=f):(k=h,m=f))}}function g(a){return!o.isBlock(a)||a.innerHTML||c||(a.innerHTML='<br data-mce-bogus="1" />'),a}var h,i,j,k,l,m,n=this,o=n.dom;if(b)if(b.start){if(h=o.createRng(),i=o.getRoot(),n.tridentSel)return n.tridentSel.moveToBookmark(b);e(!0)&&e()&&n.setRng(h)}else b.id?(f("start"),f("end"),j&&(h=o.createRng(),h.setStart(g(j),l),h.setEnd(g(k),m),n.setRng(h))):b.name?n.select(o.select(b.name)[b.index]):b.rng&&n.setRng(b.rng)},select:function(b,c){function d(b,c){var d=new e(b,b);do{if(3==b.nodeType&&0!==a.trim(b.nodeValue).length)return void(c?i.setStart(b,0):i.setEnd(b,b.nodeValue.length));if("BR"==b.nodeName)return void(c?i.setStartBefore(b):i.setEndBefore(b))}while(b=c?d.next():d.prev())}var f,g=this,h=g.dom,i=h.createRng();return b&&(f=h.nodeIndex(b),i.setStart(b.parentNode,f),i.setEnd(b.parentNode,f+1),c&&(d(b,1),d(b)),g.setRng(i)),b},isCollapsed:function(){var a=this,b=a.getRng(),c=a.getSel();return!b||b.item?!1:b.compareEndPoints?0===b.compareEndPoints("StartToEnd",b):!c||b.collapsed},collapse:function(a){var b,c=this,d=c.getRng();d.item&&(b=d.item(0),d=c.win.document.body.createTextRange(),d.moveToElementText(b)),d.collapse(!!a),c.setRng(d)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(b){var c,d,e,f=this,g=f.win.document;if(b&&f.tridentSel)return f.tridentSel.getRangeAt(0);try{(c=f.getSel())&&(d=c.rangeCount>0?c.getRangeAt(0):c.createRange?c.createRange():g.createRange())}catch(h){}return a.isIE&&d&&d.setStart&&g.selection.createRange().item&&(e=g.selection.createRange().item(0),d=g.createRange(),d.setStartBefore(e),d.setEndAfter(e)),d||(d=g.createRange?g.createRange():g.body.createTextRange()),d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(e=f.dom.getRoot(),d.setStart(e,0),d.setEnd(e,0)),f.selectedRange&&f.explicitRange&&(0===d.compareBoundaryPoints(d.START_TO_START,f.selectedRange)&&0===d.compareBoundaryPoints(d.END_TO_END,f.selectedRange)?d=f.explicitRange:(f.selectedRange=null,f.explicitRange=null)),d},setRng:function(a,b){var c,d=this;if(d.tridentSel){if(a.cloneRange)try{return void d.tridentSel.addRange(a)}catch(e){}try{a.select()}catch(e){}}else if(c=d.getSel()){d.explicitRange=a;try{c.removeAllRanges()}catch(e){}c.addRange(a),b===!1&&c.extend&&(c.collapse(a.endContainer,a.endOffset),c.extend(a.startContainer,a.startOffset)),d.selectedRange=c.rangeCount>0?c.getRangeAt(0):null}},setNode:function(a){var b=this;return b.setContent(b.dom.getOuterHTML(a)),a},getNode:function(){function a(a,b){for(var c=a;a&&3===a.nodeType&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c}var b,c=this,d=c.getRng(),e=(c.getSel(),d.startContainer),f=d.endContainer;return d?d.setStart?(b=d.commonAncestorContainer,!d.collapsed&&(d.startContainer==d.endContainer&&d.endOffset-d.startOffset<2&&d.startContainer.hasChildNodes()&&(b=d.startContainer.childNodes[d.startOffset]),3===e.nodeType&&3===f.nodeType&&(e=e.length===d.startOffset?a(e.nextSibling,!0):e.parentNode,f=0===d.endOffset?a(f.previousSibling,!1):f.parentNode,e&&e===f))?e:b&&3==b.nodeType?b.parentNode:b):d.item?d.item(0):d.parentElement():c.dom.getRoot()},getSelectedBlocks:function(a,b){var c,d,f,g=this,h=g.dom,i=[];if(c=h.getParent(a||g.getStart(),h.isBlock),d=h.getParent(b||g.getEnd(),h.isBlock),c&&i.push(c),c&&d&&c!=d){f=c;for(var j=new e(c,h.getRoot());(f=j.next())&&f!=d;)h.isBlock(f)&&i.push(f)}return d&&c!=d&&i.push(d),i},isForward:function(){var a,b,c=this.dom,d=this.getSel();return d&&null!=d.anchorNode&&null!=d.focusNode?(a=c.createRng(),a.setStart(d.anchorNode,d.anchorOffset),a.collapse(!0),b=c.createRng(),b.setStart(d.focusNode,d.focusOffset),b.collapse(!0),a.compareBoundaryPoints(a.START_TO_START,b)<=0):!0},normalize:function(){function b(a){function b(a,b){for(var c=new e(a,o.getParent(a.parentNode,o.isBlock)||p);a=c[b?"prev":"next"]();)if("BR"===a.nodeName)return!0}function h(a,b){var c,g;for(b=b||i,c=new e(b,o.getParent(b.parentNode,o.isBlock)||p);l=c[a?"prev":"next"]();){if(3===l.nodeType&&l.nodeValue.length>0)return i=l,j=a?l.nodeValue.length:0,void(d=!0);if(o.isBlock(l)||m[l.nodeName.toLowerCase()])return;g=l}f&&g&&(i=g,d=!0,j=0)}var i,j,k,l,m,n,o=g.dom,p=o.getRoot();if(i=c[(a?"start":"end")+"Container"],j=c[(a?"start":"end")+"Offset"],m=o.schema.getNonEmptyElements(),9===i.nodeType&&(i=o.getRoot(),j=0),i===p){if(a&&(l=i.childNodes[j>0?j-1:0],l&&(n=l.nodeName.toLowerCase(),m[l.nodeName]||"TABLE"==l.nodeName)))return;if(i.hasChildNodes()&&(i=i.childNodes[Math.min(!a&&j>0?j-1:j,i.childNodes.length-1)],j=0,i.hasChildNodes()&&!/TABLE/.test(i.nodeName))){l=i,k=new e(i,p);do{if(3===l.nodeType&&l.nodeValue.length>0){j=a?0:l.nodeValue.length,i=l,d=!0;break}if(m[l.nodeName.toLowerCase()]){j=o.nodeIndex(l),i=l.parentNode,"IMG"!=l.nodeName||a||j++,d=!0;break}}while(l=a?k.next():k.prev())}}f&&(3===i.nodeType&&0===j&&h(!0),1===i.nodeType&&(l=i.childNodes[j],!l||"BR"!==l.nodeName||b(l)||b(l,!0)||h(!0,i.childNodes[j]))),a&&!f&&3===i.nodeType&&j===i.nodeValue.length&&h(!1),d&&c["set"+(a?"Start":"End")](i,j)}var c,d,f,g=this;a.isIE||(c=g.getRng(),f=c.collapsed,b(!0),f||b(),d&&(f&&c.collapse(!0),g.setRng(c,g.isForward())))},selectorChanged:function(a,b){var c,e=this;return e.selectorChangedData||(e.selectorChangedData={},c={},e.editor.onNodeChange.addToTop(function(a,b,f){var g=e.dom,h=g.getParents(f,null,g.getRoot()),i={};d(e.selectorChangedData,function(a,b){d(h,function(e){return g.is(e,b)?(c[b]||(d(a,function(a){a(!0,{node:e,selector:b,parents:h})}),c[b]=a),i[b]=a,!1):void 0})}),d(c,function(a,b){i[b]||(delete c[b],d(a,function(a){a(!1,{node:f,selector:b,parents:h})}))})})),e.selectorChangedData[a]||(e.selectorChangedData[a]=[]),e.selectorChangedData[a].push(b),e},scrollIntoView:function(a){var b,c,d=this,e=d.dom;c=e.getViewPort(d.editor.getWin()),b=e.getPos(a).y,(b<c.y||b+25>c.y+c.h)&&d.editor.getWin().scrollTo(0,b<c.y?b:b-c.h+25)},destroy:function(b){var c=this;c.win=null,b||a.removeUnload(c.destroy)},_fixIESelection:function(){function a(a,b){var c=i.createTextRange();try{c.moveToPoint(a,b)}catch(d){c=null}return c}function b(b){var d;b.button?(d=a(b.x,b.y),d&&(d.compareEndPoints("StartToStart",e)>0?d.setEndPoint("StartToStart",e):d.setEndPoint("EndToEnd",e),d.select())):c()}function c(){var a=h.selection.createRange();e&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&e.select(),g.unbind(h,"mouseup",c),g.unbind(h,"mousemove",b),e=d=0}var d,e,f,g=this.dom,h=g.doc,i=h.body;h.documentElement.unselectable=!0,g.bind(h,["mousedown","contextmenu"],function(i){if("HTML"===i.target.nodeName){if(d&&c(),f=h.documentElement,f.scrollHeight>f.clientHeight)return;d=1,e=a(i.x,i.y),e&&(g.bind(h,"mouseup",c),g.bind(h,"mousemove",b),g.win.focus(),e.select())}})}})}(tinymce),function(a){a.dom.Serializer=function(b,c,d){var e,f,g,h=a.isIE,i=a.each;return b.apply_source_formatting||(b.indent=!1),c=c||a.DOM,d=d||new a.html.Schema(b),b.entity_encoding=b.entity_encoding||"named",b.remove_trailing_brs="remove_trailing_brs"in b?b.remove_trailing_brs:!0,e=new a.util.Dispatcher(self),f=new a.util.Dispatcher(self),g=new a.html.DomParser(b,d),g.addAttributeFilter("src,href,style",function(a,d){for(var e,f,g,h=a.length,i="data-mce-"+d,j=b.url_converter,k=b.url_converter_scope;h--;)e=a[h],f=e.attributes.map[i],f!==g?(e.attr(d,f.length>0?f:null),e.attr(i,null)):(f=e.attributes.map[d],"style"===d?f=c.serializeStyle(c.parseStyle(f),e.name):j&&(f=j.call(k,f,d,e.name)),e.attr(d,f.length>0?f:null))}),g.addAttributeFilter("class",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),b.attr("class",c.length>0?c:null)}),g.addAttributeFilter("data-mce-type",function(a,b,c){for(var d,e=a.length;e--;)d=a[e],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()}),g.addAttributeFilter("data-mce-expando",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),g.addNodeFilter("noscript",function(b){for(var c,d=b.length;d--;)c=b[d].firstChild,c&&(c.value=a.html.Entities.decode(c.value))}),g.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var d,e,f=a.length;f--;)d=a[f],e=d.firstChild?d.firstChild.value:"","script"===b?(d.attr("type",(d.attr("type")||"text/javascript").replace(/^mce\-/,"")),e.length>0&&(d.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]>")):e.length>0&&(d.firstChild.value="<!--\n"+c(e)+"\n-->")}),g.addNodeFilter("#comment",function(a){for(var b,c=a.length;c--;)b=a[c],0===b.value.indexOf("[CDATA[")?(b.name="#cdata",b.type=4,b.value=b.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===b.value.indexOf("mce:protected ")&&(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(b.value).substr(14))}),g.addNodeFilter("xml:namespace,input",function(a,b){for(var c,d=a.length;d--;)c=a[d],7===c.type?c.remove():1===c.type&&("input"!==b||"type"in c.attributes.map||c.attr("type","text"))}),b.fix_list_elements&&g.addNodeFilter("ul,ol",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.parent,("ul"===c.name||"ol"===c.name)&&b.prev&&"li"===b.prev.name&&b.prev.append(b)}),g.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),{schema:d,addNodeFilter:g.addNodeFilter,addAttributeFilter:g.addAttributeFilter,onPreProcess:e,onPostProcess:f,serialize:function(j,k){var l,m,n,o,p;return h&&c.select("script,style,select,map").length>0?(p=j.innerHTML,j=j.cloneNode(!1),c.setHTML(j,p)):j=j.cloneNode(!0),l=j.ownerDocument.implementation,l.createHTMLDocument&&(m=l.createHTMLDocument(""),i("BODY"==j.nodeName?j.childNodes:[j],function(a){m.body.appendChild(m.importNode(a,!0))}),j="BODY"!=j.nodeName?m.body.firstChild:m.body,n=c.doc,c.doc=m),k=k||{},k.format=k.format||"html",k.no_events||(k.node=j,e.dispatch(self,k)),o=new a.html.Serializer(b,d),k.content=o.serialize(g.parse(a.trim(k.getInner?j.innerHTML:c.getOuterHTML(j)),k)),k.cleanup||(k.content=k.content.replace(/\uFEFF/g,"")),k.no_events||f.dispatch(self,k),n&&(c.doc=n),k.node=null,k.content},addRules:function(a){d.addValidElements(a)},setRules:function(a){d.setValidElements(a)}}}}(tinymce),function(a){a.dom.ScriptLoader=function(){function b(b,c){function d(){j.remove(i),f&&(f.onreadystatechange=f.onload=f=null),c()}function e(){"undefined"!=typeof console&&console.log&&void 0}var f,g,h,i,j=a.DOM;return i=j.uniqueId(),a.isIE6&&(g=new a.util.URI(b),h=location,g.host==h.hostname&&g.port==h.port&&g.protocol+":"==h.protocol&&"file"!=g.protocol.toLowerCase())?void a.util.XHR.send({url:a._addVer(g.getURI()),success:function(a){var b=j.create("script",{type:"text/javascript"});b.text=a,document.getElementsByTagName("head")[0].appendChild(b),j.remove(b),d()},error:e}):(f=document.createElement("script"),f.id=i,f.type="text/javascript",f.src=a._addVer(b),a.isIE||(f.onload=d),f.onerror=e,a.isOpera||(f.onreadystatechange=function(){var a=f.readyState;("complete"==a||"loaded"==a)&&d()}),void(document.getElementsByTagName("head")[0]||document.body).appendChild(f))}var c,d=0,e=1,f=2,g={},h=[],i={},j=[],k=0;this.isDone=function(a){return g[a]==f},this.markDone=function(a){g[a]=f},this.add=this.load=function(a,b,e){var f=g[a];f==c&&(h.push(a),g[a]=d),b&&(i[a]||(i[a]=[]),i[a].push({func:b,scope:e||this}))},this.loadQueue=function(a,b){this.loadScripts(h,a,b)},this.loadScripts=function(d,h,l){function m(b){a.each(i[b],function(a){a.func.call(a.scope)}),i[b]=c}var n;j.push({func:h,scope:l||this}),(n=function(){var c=a.grep(d);d.length=0,a.each(c,function(a){return g[a]==f?void m(a):void(g[a]!=e&&(g[a]=e,k++,b(a,function(){g[a]=f,k--,m(a),n()})))}),k||(a.each(j,function(a){a.func.call(a.scope)}),j.length=0)})()}},a.ScriptLoader=new a.dom.ScriptLoader}(tinymce),function(a){a.dom.RangeUtils=function(b){this.walk=function(c,d){function e(a){var b;return b=a[0],3===b.nodeType&&b===p&&q>=b.nodeValue.length&&a.splice(0,1),b=a[a.length-1],0===s&&a.length>0&&b===r&&3===b.nodeType&&a.splice(a.length-1,1),a}function f(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function g(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function h(a,b,c){var g=c?"nextSibling":"previousSibling";for(l=a,m=l.parentNode;l&&l!=b;l=m)m=l.parentNode,n=f(l==a?l:l[g],g),n.length&&(c||n.reverse(),d(e(n)))}var i,j,k,l,m,n,o,p=c.startContainer,q=c.startOffset,r=c.endContainer,s=c.endOffset;if(o=b.select("td.mceSelected,th.mceSelected"),o.length>0)return void a.each(o,function(a){d([a])});if(1==p.nodeType&&p.hasChildNodes()&&(p=p.childNodes[q]),1==r.nodeType&&r.hasChildNodes()&&(r=r.childNodes[Math.min(s-1,r.childNodes.length-1)]),p==r)return d(e([p]));for(i=b.findCommonAncestor(p,r),l=p;l;l=l.parentNode){if(l===r)return h(p,i,!0);if(l===i)break}for(l=r;l;l=l.parentNode){if(l===p)return h(r,i);if(l===i)break}j=g(p,i)||p,k=g(r,i)||r,h(p,j,!0),n=f(j==p?j:j.nextSibling,"nextSibling",k==r?k.nextSibling:k),n.length&&d(e(n)),h(r,k)},this.split=function(a){function b(a,b){return a.splitText(b)}var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset;return c==e&&3==c.nodeType?d>0&&d<c.nodeValue.length&&(e=b(c,d),c=e.previousSibling,f>d?(f-=d,c=e=b(e,f).previousSibling,f=e.nodeValue.length,d=0):f=0):(3==c.nodeType&&d>0&&d<c.nodeValue.length&&(c=b(c,d),d=0),3==e.nodeType&&f>0&&f<e.nodeValue.length&&(e=b(e,f).previousSibling,f=e.nodeValue.length)),{startContainer:c,startOffset:d,endContainer:e,endOffset:f}}},a.dom.RangeUtils.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;if(a.item&&b.item&&a.item(0)===b.item(0))return!0;if(a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1}}(tinymce),function(a){var b=a.dom.Event,c=a.each;a.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(d,e){var f,g,h,i,j,k=this,l=d.root,m=d.items,n=d.enableUpDown,o=d.enableLeftRight||!d.enableUpDown,p=d.excludeFromTabOrder;e=e||a.DOM,f=function(a){j=a.target.id},g=function(a){e.setAttrib(a.target.id,"tabindex","-1")},i=function(){var a=e.get(j);e.setAttrib(a,"tabindex","0"),a.focus()},k.focus=function(){e.get(j).focus()},k.destroy=function(){c(m,function(a){var b=e.get(a.id);e.unbind(b,"focus",f),e.unbind(b,"blur",g)});var a=e.get(l);e.unbind(a,"focus",i),e.unbind(a,"keydown",h),m=e=l=k.focus=f=g=h=i=null,k.destroy=function(){}},k.moveFocus=function(a,f){var g,h=-1;k.controls,j&&(c(m,function(a,b){return a.id===j?(h=b,!1):void 0}),h+=a,0>h?h=m.length-1:h>=m.length&&(h=0),g=m[h],e.setAttrib(j,"tabindex","-1"),e.setAttrib(g.id,"tabindex","0"),e.get(g.id).focus(),d.actOnFocus&&d.onAction(g.id),f&&b.cancel(f))},h=function(a){var c=37,e=39,f=38,g=40,h=27,i=14,l=13,m=32;switch(a.keyCode){case c:o&&k.moveFocus(-1);break;case e:o&&k.moveFocus(1);break;case f:n&&k.moveFocus(-1);break;case g:n&&k.moveFocus(1);break;case h:d.onCancel&&(d.onCancel(),b.cancel(a));break;case i:case l:case m:d.onAction&&(d.onAction(j),b.cancel(a))}},c(m,function(a,b){var c,d;a.id||(a.id=e.uniqueId("_mce_item_")),d=e.get(a.id),p?(e.bind(d,"blur",g),c="-1"):c=0===b?"0":"-1",d.setAttribute("tabindex",c),e.bind(d,"focus",f)}),m[0]&&(j=m[0].id),e.setAttrib(l,"tabindex","-1");var q=e.get(l);e.bind(q,"focus",i),e.bind(q,"keydown",h)}})}(tinymce),function(a){var b=a.DOM,c=a.is;a.create("tinymce.ui.Control",{Control:function(b,c,d){this.id=b,this.settings=c=c||{},this.rendered=!1,this.onRender=new a.util.Dispatcher(this),this.classPrefix="",this.scope=c.scope||this,this.disabled=0,this.active=0,this.editor=d},setAriaProperty:function(a,c){var d=b.get(this.id+"_aria")||b.get(this.id);d&&b.setAttrib(d,"aria-"+a,!!c)},focus:function(){b.get(this.id).focus()},setDisabled:function(a){a!=this.disabled&&(this.setAriaProperty("disabled",a),this.setState("Disabled",a),this.setState("Enabled",!a),this.disabled=a)},isDisabled:function(){return this.disabled},setActive:function(a){a!=this.active&&(this.setState("Active",a),this.active=a,this.setAriaProperty("pressed",a))},isActive:function(){return this.active},setState:function(a,c){var d=b.get(this.id);a=this.classPrefix+a,c?b.addClass(d,a):b.removeClass(d,a)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(a){b.setHTML(a,this.renderHTML())},postRender:function(){var a,b=this;c(b.disabled)&&(a=b.disabled,b.disabled=-1,b.setDisabled(a)),c(b.active)&&(a=b.active,b.active=-1,b.setActive(a))},remove:function(){b.remove(this.id),this.destroy()},destroy:function(){a.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(a,b,c){this.parent(a,b,c),this.controls=[],this.lookup={}},add:function(a){return this.lookup[a.id]=a,this.controls.push(a),a},get:function(a){return this.lookup[a]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(a,b){this.parent(a,b),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(a){var b=a.is;a.DOM,a.each,a.walk,a.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(a,b){this.parent(a,b),this.classPrefix="mceMenuItem"},setSelected:function(a){this.setState("Selected",a),this.setAriaProperty("checked",!!a),this.selected=a},isSelected:function(){return this.selected},postRender:function(){var a=this;a.parent(),b(a.selected)&&a.setSelected(a.selected)}})}(tinymce),function(a){var b=(a.is,a.DOM),c=(a.each,a.walk);a.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(b,c){var d=this;d.parent(b,c),d.items={},d.collapsed=!1,d.menuCount=0,d.onAddItem=new a.util.Dispatcher(this)},expand:function(a){var b=this;a&&c(b,function(a){a.expand&&a.expand()},"items",b),b.collapsed=!1},collapse:function(a){var b=this;a&&c(b,function(a){a.collapse&&a.collapse()},"items",b),b.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(c){return c.settings||(c=new a.ui.MenuItem(c.id||b.uniqueId(),c)),this.onAddItem.dispatch(this,c),this.items[c.id]=c},addSeparator:function(){return this.add({separator:!0})},addMenu:function(a){return a.collapse||(a=this.createMenu(a)),this.menuCount++,this.add(a)},hasMenus:function(){return 0!==this.menuCount},remove:function(a){delete this.items[a.id]},removeAll:function(){var a=this;c(a,function(a){a.removeAll?a.removeAll():a.remove(),a.destroy()},"items",a),a.items={}},createMenu:function(c){var d=new a.ui.Menu(c.id||b.uniqueId(),c);return d.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),d}})}(tinymce),function(a){var b=a.is,c=a.DOM,d=a.each,e=a.dom.Event,f=a.dom.Element;a.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(d,e){e=e||{},e.container=e.container||c.doc.body,e.offset_x=e.offset_x||0,e.offset_y=e.offset_y||0,e.vp_offset_x=e.vp_offset_x||0,e.vp_offset_y=e.vp_offset_y||0,b(e.icons)&&!e.icons&&(e["class"]+=" mceNoIcons"),this.parent(d,e),this.onShowMenu=new a.util.Dispatcher(this),this.onHideMenu=new a.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(b){var d,e=this,f=e.settings;return b.container=b.container||f.container,b.parent=e,b.constrain=b.constrain||f.constrain,b["class"]=b["class"]||f["class"],b.vp_offset_x=b.vp_offset_x||f.vp_offset_x,b.vp_offset_y=b.vp_offset_y||f.vp_offset_y,b.keyboard_focus=f.keyboard_focus,d=new a.ui.DropMenu(b.id||c.uniqueId(),b),d.onAddItem.add(e.onAddItem.dispatch,e.onAddItem),d},focus:function(){var a=this;a.keyboardNav&&a.keyboardNav.focus()},update:function(){var a,b,d=this,e=d.settings,f=c.get("menu_"+d.id+"_tbl"),g=c.get("menu_"+d.id+"_co");a=e.max_width?Math.min(f.offsetWidth,e.max_width):f.offsetWidth,b=e.max_height?Math.min(f.offsetHeight,e.max_height):f.offsetHeight,d.element.setStyles(c.boxModel?{width:a,height:b}:{width:a+2,height:b+2}),e.max_width&&c.setStyle(g,"width",a),e.max_height&&(c.setStyle(g,"height",b),f.clientHeight<e.max_height&&c.setStyle(g,"overflow","hidden"))},showMenu:function(b,g,h){var i,j,k,l,m,n,o=this,p=o.settings,q=c.getViewPort(),r=2,s=o.classPrefix;o.collapse(1),o.isMenuVisible||(o.rendered?i=c.get("menu_"+o.id):(i=c.add(o.settings.container,o.renderNode()),d(o.items,function(a){a.postRender()}),o.element=new f("menu_"+o.id,{blocker:1,container:p.container})),a.isOpera||c.setStyles(i,{left:-65535,top:-65535}),c.show(i),o.update(),b+=p.offset_x||0,g+=p.offset_y||0,q.w-=4,q.h-=4,p.constrain&&(j=i.clientWidth-r,k=i.clientHeight-r,l=q.x+q.w,m=q.y+q.h,b+p.vp_offset_x+j>l&&(b=h?h-j:Math.max(0,l-p.vp_offset_x-j)),g+p.vp_offset_y+k>m&&(g=Math.max(0,m-p.vp_offset_y-k))),c.setStyles(i,{left:b,top:g}),o.element.update(),o.isMenuVisible=1,o.mouseClickFunc=e.add(i,"click",function(a){var b;if(a=a.target,a&&(a=c.getParent(a,"tr"))&&!c.hasClass(a,s+"ItemSub")){if(b=o.items[a.id],b.isDisabled())return;for(n=o;n;)n.hideMenu&&n.hideMenu(),n=n.settings.parent;return b.settings.onclick&&b.settings.onclick(a),!1}}),o.hasMenus()&&(o.mouseOverFunc=e.add(i,"mouseover",function(a){var b,d;if(a=a.target,a&&(a=c.getParent(a,"tr"))){if(b=o.items[a.id],o.lastMenu&&o.lastMenu.collapse(1),b.isDisabled())return;a&&c.hasClass(a,s+"ItemSub")&&(d=c.getRect(a),b.showMenu(d.x+d.w-r,d.y-r,d.x),o.lastMenu=b,c.addClass(c.get(b.id).firstChild,s+"ItemActive"))}})),e.add(i,"keydown",o._keyHandler,o),o.onShowMenu.dispatch(o),p.keyboard_focus&&o._setupKeyboardNav())},hideMenu:function(a){var b,d=this,f=c.get("menu_"+d.id);d.isMenuVisible&&(d.keyboardNav&&d.keyboardNav.destroy(),e.remove(f,"mouseover",d.mouseOverFunc),e.remove(f,"click",d.mouseClickFunc),e.remove(f,"keydown",d._keyHandler),c.hide(f),d.isMenuVisible=0,a||d.collapse(1),d.element&&d.element.hide(),(b=c.get(d.id))&&c.removeClass(b.firstChild,d.classPrefix+"ItemActive"),d.onHideMenu.dispatch(d))},add:function(a){var b,d=this;return a=d.parent(a),d.isRendered&&(b=c.get("menu_"+d.id))&&d._add(c.select("tbody",b)[0],a),a},collapse:function(a){this.parent(a),this.hideMenu(1)},remove:function(a){return c.remove(a.id),this.destroy(),this.parent(a)},destroy:function(){var a=this,b=c.get("menu_"+a.id);
a.keyboardNav&&a.keyboardNav.destroy(),e.remove(b,"mouseover",a.mouseOverFunc),e.remove(c.select("a",b),"focus",a.mouseOverFunc),e.remove(b,"click",a.mouseClickFunc),e.remove(b,"keydown",a._keyHandler),a.element&&a.element.remove(),c.remove(b)},renderNode:function(){var a,b,e,g,h=this,i=h.settings;return g=c.create("div",{role:"listbox",id:"menu_"+h.id,"class":i["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),h.settings.parent&&c.setAttrib(g,"aria-parent","menu_"+h.settings.parent.id),e=c.add(g,"div",{role:"presentation",id:"menu_"+h.id+"_co","class":h.classPrefix+(i["class"]?" "+i["class"]:"")}),h.element=new f("menu_"+h.id,{blocker:1,container:i.container}),i.menu_line&&c.add(e,"span",{"class":h.classPrefix+"Line"}),a=c.add(e,"table",{role:"presentation",id:"menu_"+h.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),b=c.add(a,"tbody"),d(h.items,function(a){h._add(b,a)}),h.rendered=!0,g},_setupKeyboardNav:function(){var b,d,e=this;b=c.get("menu_"+e.id),d=c.select("a[role=option]","menu_"+e.id),d.splice(0,0,b),e.keyboardNav=new a.ui.KeyboardNavigation({root:"menu_"+e.id,items:d,onCancel:function(){e.hideMenu()},enableUpDown:!0}),b.focus()},_keyHandler:function(a){var b=this;switch(a.keyCode){case 37:b.settings.parent&&(b.hideMenu(),b.settings.parent.focus(),e.cancel(a));break;case 39:b.mouseOverFunc&&b.mouseOverFunc(a)}},_add:function(a,b){var d,e,f,g,h,i=b.settings,j=this.classPrefix;return i.separator?(f=c.add(a,"tr",{id:b.id,"class":j+"ItemSeparator"}),c.add(f,"td",{"class":j+"ItemSeparator"}),void((d=f.previousSibling)&&c.addClass(d,"mceLast"))):(d=f=c.add(a,"tr",{id:b.id,"class":j+"Item "+j+"ItemEnabled"}),d=g=c.add(d,i.titleItem?"th":"td"),d=e=c.add(d,"a",{id:b.id+"_aria",role:i.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),i.parent&&(c.setAttrib(e,"aria-haspopup","true"),c.setAttrib(e,"aria-owns","menu_"+b.id)),c.addClass(g,i["class"]),h=c.add(d,"span",{"class":"mceIcon"+(i.icon?" mce_"+i.icon:"")}),i.icon_src&&c.add(h,"img",{src:i.icon_src}),d=c.add(d,i.element||"span",{"class":"mceText",title:b.settings.title},b.settings.title),b.settings.style&&("function"==typeof b.settings.style&&(b.settings.style=b.settings.style()),c.setAttrib(d,"style",b.settings.style)),1==a.childNodes.length&&c.addClass(f,"mceFirst"),(d=f.previousSibling)&&c.hasClass(d,j+"ItemSeparator")&&c.addClass(f,"mceFirst"),b.collapse&&c.addClass(f,j+"ItemSub"),(d=f.previousSibling)&&c.removeClass(d,"mceLast"),void c.addClass(f,"mceLast"))}})}(tinymce),function(a){var b=a.DOM;a.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(a,b,c){this.parent(a,b,c),this.classPrefix="mceButton"},renderHTML:function(){var a,c,d=this.classPrefix,e=this.settings;return c=b.encode(e.label||""),a='<a role="button" id="'+this.id+'" href="javascript:;" class="'+d+" "+d+"Enabled "+e["class"]+(c?" "+d+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+b.encode(e.title)+'">',a+=!e.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+e["class"]+'"></span>'+(c?'<span class="'+d+'Label">'+c+"</span>":""):'<span class="mceIcon '+e["class"]+'"><img class="mceIcon" src="'+e.image+'" alt="'+b.encode(e.title)+'" /></span>'+(c?'<span class="'+d+'Label">'+c+"</span>":""),a+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+e.title+"</span>",a+="</a>"},postRender:function(){var b,c=this,d=c.settings;a.isIE&&c.editor&&a.dom.Event.add(c.id,"mousedown",function(){var a=c.editor.selection.getNode().nodeName;b="IMG"===a?c.editor.selection.getBookmark():null}),a.dom.Event.add(c.id,"click",function(e){return c.isDisabled()?void 0:(a.isIE&&c.editor&&null!==b&&c.editor.selection.moveToBookmark(b),d.onclick.call(d.scope,e))}),a.dom.Event.add(c.id,"keyup",function(b){return c.isDisabled()||b.keyCode!=a.VK.SPACEBAR?void 0:d.onclick.call(d.scope,b)})}})}(tinymce),function(a){var b,c=a.DOM,d=a.dom.Event,e=a.each,f=a.util.Dispatcher;a.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(b,c,d){var e=this;e.parent(b,c,d),e.items=[],e.onChange=new f(e),e.onPostRender=new f(e),e.onAdd=new f(e),e.onRenderMenu=new a.util.Dispatcher(this),e.classPrefix="mceListBox",e.marked={}},select:function(a){var c,d,f=this;return f.marked={},a==b?f.selectByIndex(-1):(d=a&&"function"==typeof a?a:function(b){return b==a},void(a!=f.selectedValue&&(e(f.items,function(a,b){return d(a.value)?(c=1,f.selectByIndex(b),!1):void 0}),c||f.selectByIndex(-1))))},selectByIndex:function(a){var b,d,e,f=this;f.marked={},a!=f.selectedIndex&&(b=c.get(f.id+"_text"),e=c.get(f.id+"_voiceDesc"),d=f.items[a],d?(f.selectedValue=d.value,f.selectedIndex=a,c.setHTML(b,c.encode(d.title)),c.setHTML(e,f.settings.title+" - "+d.title),c.removeClass(b,"mceTitle"),c.setAttrib(f.id,"aria-valuenow",d.title)):(c.setHTML(b,c.encode(f.settings.title)),c.setHTML(e,c.encode(f.settings.title)),c.addClass(b,"mceTitle"),f.selectedValue=f.selectedIndex=null,c.setAttrib(f.id,"aria-valuenow",f.settings.title)),b=0)},mark:function(a){this.marked[a]=!0},add:function(b,c,d){var e=this;d=d||{},d=a.extend(d,{title:b,value:c}),e.items.push(d),e.onAdd.dispatch(e,d)},getLength:function(){return this.items.length},renderHTML:function(){var a="",b=this,d=b.settings,e=b.classPrefix;return a='<span role="listbox" aria-haspopup="true" aria-labelledby="'+b.id+'_voiceDesc" aria-describedby="'+b.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+b.id+'" cellpadding="0" cellspacing="0" class="'+e+" "+e+"Enabled"+(d["class"]?" "+d["class"]:"")+'"><tbody><tr>',a+="<td>"+c.createHTML("span",{id:b.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},b.settings.title),a+=c.createHTML("a",{id:b.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},c.encode(b.settings.title))+"</td>",a+="<td>"+c.createHTML("a",{id:b.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",a+="</tr></tbody></table></span>"},showMenu:function(){var b,f,g=this,h=c.get(this.id);if(!g.isDisabled()&&0!==g.items.length){if(g.menu&&g.menu.isMenuVisible)return g.hideMenu();g.isMenuRendered||(g.renderMenu(),g.isMenuRendered=!0),b=c.getPos(h),f=g.menu,f.settings.offset_x=b.x,f.settings.offset_y=b.y,f.settings.keyboard_focus=!a.isOpera,e(g.items,function(a){f.items[a.id]&&f.items[a.id].setSelected(0)}),e(g.items,function(a){f.items[a.id]&&g.marked[a.value]&&f.items[a.id].setSelected(1),a.value===g.selectedValue&&f.items[a.id].setSelected(1)}),f.showMenu(0,h.clientHeight),d.add(c.doc,"mousedown",g.hideMenu,g),c.addClass(g.id,g.classPrefix+"Selected")}},hideMenu:function(a){var b=this;if(b.menu&&b.menu.isMenuVisible){if(c.removeClass(b.id,b.classPrefix+"Selected"),a&&"mousedown"==a.type&&(a.target.id==b.id+"_text"||a.target.id==b.id+"_open"))return;a&&c.getParent(a.target,".mceMenu")||(c.removeClass(b.id,b.classPrefix+"Selected"),d.remove(c.doc,"mousedown",b.hideMenu,b),b.menu.hideMenu())}},renderMenu:function(){var a,d=this;a=d.settings.control_manager.createDropMenu(d.id+"_menu",{menu_line:1,"class":d.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),a.onHideMenu.add(function(){d.hideMenu(),d.focus()}),a.add({title:d.settings.title,"class":"mceMenuItemTitle",onclick:function(){d.settings.onselect("")!==!1&&d.select("")}}),e(d.items,function(e){e.value===b?a.add({title:e.title,role:"option","class":"mceMenuItemTitle",onclick:function(){d.settings.onselect("")!==!1&&d.select("")}}):(e.id=c.uniqueId(),e.role="option",e.onclick=function(){d.settings.onselect(e.value)!==!1&&d.select(e.value)},a.add(e))}),d.onRenderMenu.dispatch(d,a),d.menu=a},postRender:function(){var b=this,e=b.classPrefix;d.add(b.id,"click",b.showMenu,b),d.add(b.id,"keydown",function(a){32==a.keyCode&&(b.showMenu(a),d.cancel(a))}),d.add(b.id,"focus",function(){b._focused||(b.keyDownHandler=d.add(b.id,"keydown",function(a){40==a.keyCode&&(b.showMenu(),d.cancel(a))}),b.keyPressHandler=d.add(b.id,"keypress",function(a){var c;13==a.keyCode&&(c=b.selectedValue,b.selectedValue=null,d.cancel(a),b.settings.onselect(c))})),b._focused=1}),d.add(b.id,"blur",function(){d.remove(b.id,"keydown",b.keyDownHandler),d.remove(b.id,"keypress",b.keyPressHandler),b._focused=0}),(a.isIE6||!c.boxModel)&&(d.add(b.id,"mouseover",function(){c.hasClass(b.id,e+"Disabled")||c.addClass(b.id,e+"Hover")}),d.add(b.id,"mouseout",function(){c.hasClass(b.id,e+"Disabled")||c.removeClass(b.id,e+"Hover")})),b.onPostRender.dispatch(b,c.get(b.id))},destroy:function(){this.parent(),d.clear(this.id+"_text"),d.clear(this.id+"_open")}})}(tinymce),function(a){var b,c=a.DOM,d=a.dom.Event,e=a.each;a.util.Dispatcher,a.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(a,b){this.parent(a,b),this.classPrefix="mceNativeListBox"},setDisabled:function(a){c.get(this.id).disabled=a,this.setAriaProperty("disabled",a)},isDisabled:function(){return c.get(this.id).disabled},select:function(a){var c,d,f=this;return a==b?f.selectByIndex(-1):(d=a&&"function"==typeof a?a:function(b){return b==a},void(a!=f.selectedValue&&(e(f.items,function(a,b){return d(a.value)?(c=1,f.selectByIndex(b),!1):void 0}),c||f.selectByIndex(-1))))},selectByIndex:function(a){c.get(this.id).selectedIndex=a+1,this.selectedValue=this.items[a]?this.items[a].value:null},add:function(a,b,d){var e,f=this;d=d||{},d.value=b,f.isRendered()&&c.add(c.get(this.id),"option",d,a),e={title:a,value:b,attribs:d},f.items.push(e),f.onAdd.dispatch(f,e)},getLength:function(){return this.items.length},renderHTML:function(){var a,b=this;return a=c.createHTML("option",{value:""},"-- "+b.settings.title+" --"),e(b.items,function(b){a+=c.createHTML("option",{value:b.value},b.title)}),a=c.createHTML("select",{id:b.id,"class":"mceNativeListBox","aria-labelledby":b.id+"_aria"},a),a+=c.createHTML("span",{id:b.id+"_aria",style:"display: none"},b.settings.title)},postRender:function(){function b(a){var b=f.items[a.target.selectedIndex-1];b&&(b=b.value)&&(f.onChange.dispatch(f,b),f.settings.onselect&&f.settings.onselect(b))}var e,f=this,g=!0;f.rendered=!0,d.add(f.id,"change",b),d.add(f.id,"keydown",function(c){var h;return d.remove(f.id,"change",e),g=!1,h=d.add(f.id,"blur",function(){g||(g=!0,d.add(f.id,"change",b),d.remove(f.id,"blur",h))}),!a.isWebKit||37!=c.keyCode&&39!=c.keyCode?13==c.keyCode||32==c.keyCode?(b(c),d.cancel(c)):void 0:d.prevent(c)}),f.onPostRender.dispatch(f,c.get(f.id))}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event;a.each,a.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(c,d,e){this.parent(c,d,e),this.onRenderMenu=new a.util.Dispatcher(this),d.menu_container=d.menu_container||b.doc.body},showMenu:function(){var a,d,e,f=this,g=b.get(f.id);if(!f.isDisabled()){if(f.isMenuRendered||(f.renderMenu(),f.isMenuRendered=!0),f.isMenuVisible)return f.hideMenu();a=b.getPos(f.settings.menu_container),d=b.getPos(g),e=f.menu,e.settings.offset_x=d.x,e.settings.offset_y=d.y,e.settings.vp_offset_x=d.x,e.settings.vp_offset_y=d.y,e.settings.keyboard_focus=f._focused,e.showMenu(0,g.firstChild.clientHeight),c.add(b.doc,"mousedown",f.hideMenu,f),f.setState("Selected",1),f.isMenuVisible=1}},renderMenu:function(){var a,b=this;a=b.settings.control_manager.createDropMenu(b.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:b.settings.icons}),a.onHideMenu.add(function(){b.hideMenu(),b.focus()}),b.onRenderMenu.dispatch(b,a),b.menu=a},hideMenu:function(a){var d=this;a&&"mousedown"==a.type&&b.getParent(a.target,function(a){return a.id===d.id||a.id===d.id+"_open"})||(a&&b.getParent(a.target,".mceMenu")||(d.setState("Selected",0),c.remove(b.doc,"mousedown",d.hideMenu,d),d.menu&&d.menu.hideMenu()),d.isMenuVisible=0)},postRender:function(){var a=this,b=a.settings;c.add(a.id,"click",function(){a.isDisabled()||(b.onclick&&b.onclick(a.value),a.showMenu())})}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event;a.each,a.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(a,b,c){this.parent(a,b,c),this.classPrefix="mceSplitButton"},renderHTML:function(){var a,c,d=this,e=d.settings;return a="<tbody><tr>",c=e.image?b.createHTML("img ",{src:e.image,role:"presentation","class":"mceAction "+e["class"]}):b.createHTML("span",{"class":"mceAction "+e["class"]},""),c+=b.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:d.id+"_voice",style:"display:none;"},e.title),a+="<td >"+b.createHTML("a",{role:"button",id:d.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+e["class"],onclick:"return false;",onmousedown:"return false;",title:e.title},c)+"</td>",c=b.createHTML("span",{"class":"mceOpen "+e["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),a+="<td >"+b.createHTML("a",{role:"button",id:d.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+e["class"],onclick:"return false;",onmousedown:"return false;",title:e.title},c)+"</td>",a+="</tr></tbody>",a=b.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+e["class"],cellpadding:"0",cellspacing:"0",title:e.title},a),b.createHTML("div",{id:d.id,role:"button",tabindex:"0","aria-labelledby":d.id+"_voice","aria-haspopup":"true"},a)},postRender:function(){var d,e=this,f=e.settings;f.onclick&&(d=function(a){e.isDisabled()||(f.onclick(e.value),c.cancel(a))},c.add(e.id+"_action","click",d),c.add(e.id,["click","keydown"],function(a){var b=40;32!==a.keyCode&&13!==a.keyCode&&14!==a.keyCode||a.altKey||a.ctrlKey||a.metaKey?("click"===a.type||a.keyCode===b)&&(e.showMenu(),c.cancel(a)):(d(),c.cancel(a))})),c.add(e.id+"_open","click",function(a){e.showMenu(),c.cancel(a)}),c.add([e.id,e.id+"_open"],"focus",function(){e._focused=1}),c.add([e.id,e.id+"_open"],"blur",function(){e._focused=0}),(a.isIE6||!b.boxModel)&&(c.add(e.id,"mouseover",function(){b.hasClass(e.id,"mceSplitButtonDisabled")||b.addClass(e.id,"mceSplitButtonHover")}),c.add(e.id,"mouseout",function(){b.hasClass(e.id,"mceSplitButtonDisabled")||b.removeClass(e.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),c.clear(this.id+"_action"),c.clear(this.id+"_open"),c.clear(this.id)}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.is,e=a.each;a.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(b,c,d){var e=this;e.parent(b,c,d),e.settings=c=a.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},e.settings),e.onShowMenu=new a.util.Dispatcher(e),e.onHideMenu=new a.util.Dispatcher(e),e.value=c.default_color},showMenu:function(){var d,e,f=this;if(!f.isDisabled()){if(f.isMenuRendered||(f.renderMenu(),f.isMenuRendered=!0),f.isMenuVisible)return f.hideMenu();d=b.get(f.id),b.show(f.id+"_menu"),b.addClass(d,"mceSplitButtonSelected"),e=b.getPos(d),b.setStyles(f.id+"_menu",{left:e.x,top:e.y+d.firstChild.clientHeight,zIndex:2e5}),d=0,c.add(b.doc,"mousedown",f.hideMenu,f),f.onShowMenu.dispatch(f),f._focused&&(f._keyHandler=c.add(f.id+"_menu","keydown",function(a){27==a.keyCode&&f.hideMenu()}),b.select("a",f.id+"_menu")[0].focus()),f.keyboardNav=new a.ui.KeyboardNavigation({root:f.id+"_menu",items:b.select("a",f.id+"_menu"),onCancel:function(){f.hideMenu(),f.focus()}}),f.keyboardNav.focus(),f.isMenuVisible=1}},hideMenu:function(a){var d=this;if(d.isMenuVisible){if(a&&"mousedown"==a.type&&b.getParent(a.target,function(a){return a.id===d.id+"_open"}))return;a&&b.getParent(a.target,".mceSplitButtonMenu")||(b.removeClass(d.id,"mceSplitButtonSelected"),c.remove(b.doc,"mousedown",d.hideMenu,d),c.remove(d.id+"_menu","keydown",d._keyHandler),b.hide(d.id+"_menu")),d.isMenuVisible=0,d.onHideMenu.dispatch(),d.keyboardNav.destroy()}},renderMenu:function(){var f,g,h,i,j,k,l=this,m=0,n=l.settings;return j=b.add(n.menu_container,"div",{role:"listbox",id:l.id+"_menu","class":n.menu_class+" "+n["class"],style:"position:absolute;left:0;top:-1000px;"}),f=b.add(j,"div",{"class":n["class"]+" mceSplitButtonMenu"}),b.add(f,"span",{"class":"mceMenuLine"}),g=b.add(f,"table",{role:"presentation","class":"mceColorSplitMenu"}),h=b.add(g,"tbody"),m=0,e(d(n.colors,"array")?n.colors:n.colors.split(","),function(c){c=c.replace(/^#/,""),m--||(i=b.add(h,"tr"),m=n.grid_width-1),g=b.add(i,"td");var d={href:"javascript:;",style:{backgroundColor:"#"+c},title:l.editor.getLang("colors."+c,c),"data-mce-color":"#"+c};a.isIE||(d.role="option"),g=b.add(g,"a",d),l.editor.forcedHighContrastMode&&(g=b.add(g,"canvas",{width:16,height:16,"aria-hidden":"true"}),g.getContext&&(k=g.getContext("2d"))?(k.fillStyle="#"+c,k.fillRect(0,0,16,16)):b.remove(g))}),n.more_colors_func&&(g=b.add(h,"tr"),g=b.add(g,"td",{colspan:n.grid_width,"class":"mceMoreColors"}),g=b.add(g,"a",{role:"option",id:l.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},n.more_colors_title),c.add(g,"click",function(a){return n.more_colors_func.call(n.more_colors_scope||this),c.cancel(a)})),b.addClass(f,"mceColorSplitMenu"),c.add(l.id+"_menu","mousedown",function(a){return c.cancel(a)}),c.add(l.id+"_menu","click",function(a){var c;return a=b.getParent(a.target,"a",h),a&&"a"==a.nodeName.toLowerCase()&&(c=a.getAttribute("data-mce-color"))&&l.setColor(c),!1}),j},setColor:function(a){this.displayColor(a),this.hideMenu(),this.settings.onselect(a)},displayColor:function(a){var c=this;b.setStyle(c.id+"_preview","backgroundColor",a),c.value=a},postRender:function(){var a=this,c=a.id;a.parent(),b.add(c+"_action","div",{id:c+"_preview","class":"mceColorPreview"}),b.setStyle(a.id+"_preview","backgroundColor",a.value)},destroy:function(){var a=this;a.parent(),c.clear(a.id+"_menu"),c.clear(a.id+"_more"),b.remove(a.id+"_menu"),a.keyboardNav&&a.keyboardNav.destroy()}})}(tinymce),function(a){var b=a.DOM,c=a.each,d=a.dom.Event;a.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var c=this,d=[],e=c.controls,f=a.each,g=c.settings;return d.push('<div id="'+c.id+'" role="group" aria-labelledby="'+c.id+'_voice">'),d.push("<span role='application'>"),d.push('<span id="'+c.id+'_voice" class="mceVoiceLabel" style="display:none;">'+b.encode(g.name)+"</span>"),f(e,function(a){d.push(a.renderHTML())}),d.push("</span>"),d.push("</div>"),d.join("")},focus:function(){var a=this;b.get(a.id).focus()},postRender:function(){var d=this,e=[];c(d.controls,function(a){c(a.controls,function(a){a.id&&e.push(a)})}),d.keyNav=new a.ui.KeyboardNavigation({root:d.id,items:e,onCancel:function(){a.isWebKit&&b.get(d.editor.id+"_ifr").focus(),d.editor.focus()},excludeFromTabOrder:!d.settings.tab_focus_toolbar})},destroy:function(){var a=this;a.parent(),a.keyNav.destroy(),d.clear(a.id)}})}(tinymce),function(a){var b=a.DOM;a.each,a.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var a,c,d,e,f,g,h=this,i="",j=h.settings;for(g=h.controls,d=0;d<g.length;d++)c=g[d],e=g[d-1],f=g[d+1],0===d&&(a="mceToolbarStart",c.Button?a+=" mceToolbarStartButton":c.SplitButton?a+=" mceToolbarStartSplitButton":c.ListBox&&(a+=" mceToolbarStartListBox"),i+=b.createHTML("td",{"class":a},b.createHTML("span",null,"<!-- IE -->"))),e&&c.ListBox&&(e.Button||e.SplitButton)&&(i+=b.createHTML("td",{"class":"mceToolbarEnd"},b.createHTML("span",null,"<!-- IE -->"))),i+=b.stdMode?'<td style="position: relative">'+c.renderHTML()+"</td>":"<td>"+c.renderHTML()+"</td>",f&&c.ListBox&&(f.Button||f.SplitButton)&&(i+=b.createHTML("td",{"class":"mceToolbarStart"},b.createHTML("span",null,"<!-- IE -->")));return a="mceToolbarEnd",c.Button?a+=" mceToolbarEndButton":c.SplitButton?a+=" mceToolbarEndSplitButton":c.ListBox&&(a+=" mceToolbarEndListBox"),i+=b.createHTML("td",{"class":a},b.createHTML("span",null,"<!-- IE -->")),b.createHTML("table",{id:h.id,"class":"mceToolbar"+(j["class"]?" "+j["class"]:""),cellpadding:"0",cellspacing:"0",align:h.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+i+"</tr></tbody>")}})}(tinymce),function(a){var b=a.util.Dispatcher;a.each,a.create("tinymce.AddOnManager",{AddOnManager:function(){var a=this;a.items=[],a.urls={},a.lookup={},a.onAdd=new b(a)},get:function(a){return this.lookup[a]?this.lookup[a].instance:void 0},dependencies:function(a){var b;return this.lookup[a]&&(b=this.lookup[a].dependencies),b||[]},requireLangPack:function(b){var c=a.settings;c&&c.language&&c.language_load!==!1&&a.ScriptLoader.add(this.urls[b]+"/langs/"+c.language+".js")},add:function(a,b,c){return this.items.push(b),this.lookup[a]={instance:b,dependencies:c},this.onAdd.dispatch(this,a,b),b},createUrl:function(a,b){return"object"==typeof b?b:{prefix:a.prefix,resource:b,suffix:a.suffix}},addComponents:function(b,c){var d=this.urls[b];a.each(c,function(b){a.ScriptLoader.add(d+"/"+b)})},load:function(b,c,d,e){function f(){var f=g.dependencies(b);a.each(f,function(a){var b=g.createUrl(c,a);g.load(b.resource,b,void 0,void 0)}),d&&d.call(e?e:a.ScriptLoader)}var g=this,h=c;g.urls[b]||("object"==typeof c&&(h=c.prefix+c.resource+c.suffix),0!==h.indexOf("/")&&-1==h.indexOf("://")&&(h=a.baseURL+"/"+h),g.urls[b]=h.substring(0,h.lastIndexOf("/")),g.lookup[b]?f():a.ScriptLoader.add(h,f,e))}}),a.PluginManager=new a.AddOnManager,a.ThemeManager=new a.AddOnManager}(tinymce),function(a){var b,c=a.each,d=a.extend,e=a.DOM,f=a.dom.Event,g=(a.ThemeManager,a.PluginManager,a.explode),h=a.util.Dispatcher,i=0;a.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a.documentBaseURL)||(a.documentBaseURL+="/"),a.baseURL=new a.util.URI(a.documentBaseURL).toAbsolute(a.baseURL),a.baseURI=new a.util.URI(a.baseURL),a.onBeforeUnload=new h(a),f.add(window,"beforeunload",function(b){a.onBeforeUnload.dispatch(a,b)}),a.onAddEditor=new h(a),a.onRemoveEditor=new h(a),a.EditorManager=d(a,{editors:[],i18n:{},activeEditor:null,init:function(b){function d(a){var b=a.id;return b||(b=a.name,b=b&&!e.get(b)?a.name:e.uniqueId(),a.setAttribute("id",b)),b}function h(b,c,d){var e=b[c];return e?(a.is(e,"string")&&(d=e.replace(/\.\w+$/,""),d=d?a.resolve(d):0,e=a.resolve(e)),e.apply(d||this,Array.prototype.slice.call(arguments,2))):void 0}function j(a,b){return b.constructor===RegExp?b.test(a.className):e.hasClass(a,b)}var k,l=this,m=(a.ScriptLoader,[]);l.settings=b,f.bind(window,"ready",function(){var f,l;switch(h(b,"onpageload"),b.mode){case"exact":f=b.elements||"",f.length>0&&c(g(f),function(d){e.get(d)?(k=new a.Editor(d,b),m.push(k),k.render(1)):c(document.forms,function(f){c(f.elements,function(c){c.name===d&&(d="mce_editor_"+i++,e.setAttrib(c,"id",d),k=new a.Editor(d,b),m.push(k),k.render(1))})})});break;case"textareas":case"specific_textareas":c(e.select("textarea"),function(c){b.editor_deselector&&j(c,b.editor_deselector)||(!b.editor_selector||j(c,b.editor_selector))&&(k=new a.Editor(d(c),b),m.push(k),k.render(1))});break;default:b.types?c(b.types,function(f){c(e.select(f.selector),function(c){var e=new a.Editor(d(c),a.extend({},b,f));m.push(e),e.render(1)})}):b.selector&&c(e.select(b.selector),function(c){var e=new a.Editor(d(c),b);m.push(e),e.render(1)})}b.oninit&&(f=l=0,c(m,function(a){l++,a.initialized?f++:a.onInit.add(function(){f++,f==l&&h(b,"oninit")}),f==l&&h(b,"oninit")}))})},get:function(a){return a===b?this.editors:this.editors.hasOwnProperty(a)?this.editors[a]:b},getInstanceById:function(a){return this.get(a)},add:function(a){var b=this,c=b.editors;return c[a.id]=a,c.push(a),b._setActive(a),b.onAddEditor.dispatch(b,a),a},remove:function(a){var b,c=this,d=c.editors;if(!d[a.id])return null;for(delete d[a.id],b=0;b<d.length;b++)if(d[b]==a){d.splice(b,1);break}return c.activeEditor==a&&c._setActive(d[0]),a.destroy(),c.onRemoveEditor.dispatch(c,a),a},execCommand:function(b,c,d){function e(){h.destroy(),f.detachEvent("onunload",e),f=f.tinyMCE=f.tinymce=null}var f,g=this,h=g.get(d);switch(b){case"mceFocus":return h.focus(),!0;case"mceAddEditor":case"mceAddControl":return g.get(d)||new a.Editor(d,g.settings).render(),!0;case"mceAddFrameControl":return f=d.window,f.tinyMCE=tinyMCE,f.tinymce=a,a.DOM.doc=f.document,a.DOM.win=f,h=new a.Editor(d.element_id,d),h.render(),a.isIE&&f.attachEvent("onunload",e),d.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return h&&h.remove(),!0;case"mceToggleEditor":return h?(h.isHidden()?h.show():h.hide(),!0):(g.execCommand("mceAddControl",0,d),!0)}return g.activeEditor?g.activeEditor.execCommand(b,c,d):!1},execInstanceCommand:function(a,b,c,d){var e=this.get(a);return e?e.execCommand(b,c,d):!1},triggerSave:function(){c(this.editors,function(a){a.save()})},addI18n:function(b,d){var e=this.i18n;a.is(b,"string")?c(d,function(a,c){e[b+"."+c]=a}):c(b,function(a,b){c(a,function(a,d){c(a,function(a,c){"common"===d?e[b+"."+c]=a:e[b+"."+d+"."+c]=a})})})},_setActive:function(a){this.selectedInstance=this.activeEditor=a}})}(tinymce),function(a){var b=a.DOM,c=a.dom.Event,d=a.extend,e=a.each,f=a.isGecko,g=a.isIE,h=(a.isWebKit,a.is),i=a.ThemeManager,j=a.PluginManager,k=a.explode;a.create("tinymce.Editor",{Editor:function(b,c){var e=this,f=!0;e.settings=c=d({id:b,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:a.documentBaseURL,add_form_submit_trigger:f,submit_patch:f,add_unload_trigger:f,convert_urls:f,relative_urls:f,remove_script_host:f,table_inline_editing:!1,object_resizing:f,accessibility_focus:f,doctype:a.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:f,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:f,directionality:"ltr",forced_root_block:"p",hidden_input:f,padd_empty_editor:f,render_ui:f,indentation:"30px",fix_table_elements:f,inline_styles:f,convert_fonts_to_spans:f,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:f,entity_encoding:"named",url_converter:e.convertURL,url_converter_scope:e,ie7_compat:f},c),e.id=e.editorId=b,e.isNotDirty=!1,e.plugins={},e.documentBaseURI=new a.util.URI(c.document_base_url||a.documentBaseURL,{base_uri:tinyMCE.baseURI}),e.baseURI=a.baseURI,e.contentCSS=[],e.contentStyles=[],e.setupEvents(),e.execCommands={},e.queryStateCommands={},e.queryValueCommands={},e.execCallback("setup",e)},render:function(){function d(){g.language&&g.language_load!==!1&&l.add(a.baseURL+"/langs/"+g.language+".js"),g.theme&&"function"!=typeof g.theme&&"-"!=g.theme.charAt(0)&&!i.urls[g.theme]&&i.load(g.theme,"themes/"+g.theme+"/editor_template"+a.suffix+".js"),e(k(g.plugins),function(b){if(b&&!j.urls[b])if("-"==b.charAt(0)){b=b.substr(1,b.length);var c=j.dependencies(b);e(c,function(b){var c={prefix:"plugins/",resource:b,suffix:"/editor_plugin"+a.suffix+".js"};b=j.createUrl(c,b),j.load(b.resource,b)})}else{if("safari"==b)return;j.load(b,{prefix:"plugins/",resource:b,suffix:"/editor_plugin"+a.suffix+".js"})}}),l.loadQueue(function(){f.removed||f.init()})}var f=this,g=f.settings,h=f.id,l=a.ScriptLoader;return c.domLoaded?(tinyMCE.settings=g,void(f.getElement()&&(!a.isIDevice||a.isIOS5)&&(!/TEXTAREA|INPUT/i.test(f.getElement().nodeName)&&g.hidden_input&&b.getParent(h,"form")&&b.insertAfter(b.create("input",{type:"hidden",name:h}),h),g.content_editable||(f.orgVisibility=f.getElement().style.visibility,f.getElement().style.visibility="hidden"),a.WindowManager&&(f.windowManager=new a.WindowManager(f)),"xml"==g.encoding&&f.onGetContent.add(function(a,c){c.save&&(c.content=b.encode(c.content))}),g.add_form_submit_trigger&&f.onSubmit.addToTop(function(){f.initialized&&(f.save(),f.isNotDirty=1)}),g.add_unload_trigger&&(f._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!f.initialized||f.destroyed||f.isHidden()||f.save({format:"raw",no_events:!0})})),a.addUnload(f.destroy,f),g.submit_patch&&f.onBeforeRenderUI.add(function(){var b=f.getElement().form;b&&(b._mceOldSubmit||(b.submit.nodeType||b.submit.length||(f.formElement=b,b._mceOldSubmit=b.submit,b.submit=function(){return a.triggerSave(),f.isNotDirty=1,f.formElement._mceOldSubmit(f.formElement)}),b=null))}),d()))):void c.add(window,"ready",function(){f.render()})},init:function(){function c(b){var d,f=j.get(b),g=j.urls[b]||a.documentBaseURL.replace(/\/$/,"");f&&-1===a.inArray(v,b)&&(e(j.dependencies(b),function(a){c(a)}),d=new f(s,g),s.plugins[b]=d,d.init&&(d.init(s,g),v.push(b)))}var d,f,h,l,m,n,o,p,q,r,s=this,t=s.settings,u=s.getElement(),v=[];if(a.add(s),t.aria_label=t.aria_label||b.getAttrib(u,"aria-label",s.getLang("aria.rich_text_area")),t.theme&&("function"!=typeof t.theme?(t.theme=t.theme.replace(/-/,""),m=i.get(t.theme),s.theme=new m,s.theme.init&&s.theme.init(s,i.urls[t.theme]||a.documentBaseURL.replace(/\/$/,""))):s.theme=t.theme),e(k(t.plugins.replace(/\-/g,"")),c),t.popup_css!==!1&&(t.popup_css=t.popup_css?s.documentBaseURI.toAbsolute(t.popup_css):s.baseURI.toAbsolute("themes/"+t.theme+"/skins/"+t.skin+"/dialog.css")),t.popup_css_add&&(t.popup_css+=","+s.documentBaseURI.toAbsolute(t.popup_css_add)),s.controlManager=new a.ControlManager(s),s.onBeforeRenderUI.dispatch(s,s.controlManager),t.render_ui&&s.theme&&(s.orgDisplay=u.style.display,"function"!=typeof t.theme?(f=t.width||u.style.width||u.offsetWidth,h=t.height||u.style.height||u.offsetHeight,l=t.min_height||100,q=/^[0-9\.]+(|px)$/i,q.test(""+f)&&(f=Math.max(parseInt(f,10)+(m.deltaWidth||0),100)),q.test(""+h)&&(h=Math.max(parseInt(h,10)+(m.deltaHeight||0),l)),m=s.theme.renderUI({targetNode:u,width:f,height:h,deltaWidth:t.delta_width,deltaHeight:t.delta_height}),b.setStyles(m.sizeContainer||m.editorContainer,{width:f,height:h}),h=(m.iframeHeight||h)+("number"==typeof h?m.deltaHeight||0:""),l>h&&(h=l)):(m=t.theme(s,u),m.editorContainer.nodeType&&(m.editorContainer=m.editorContainer.id=m.editorContainer.id||s.id+"_parent"),m.iframeContainer.nodeType&&(m.iframeContainer=m.iframeContainer.id=m.iframeContainer.id||s.id+"_iframecontainer"),h=m.iframeHeight||u.offsetHeight,g&&s.onInit.add(function(a){a.dom.bind(a.getBody(),"beforedeactivate keydown",function(){a.lastIERng=a.selection.getRng()})})),s.editorContainer=m.editorContainer),t.content_css&&e(k(t.content_css),function(a){s.contentCSS.push(s.documentBaseURI.toAbsolute(a))}),t.content_style&&s.contentStyles.push(t.content_style),t.content_editable)return u=d=m=null,s.initContentBody();for(document.domain&&location.hostname!=document.domain&&(a.relaxedDomain=document.domain),s.iframeHTML=t.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',t.document_base_url!=a.documentBaseURL&&(s.iframeHTML+='<base href="'+s.documentBaseURI.getURI()+'" />'),a.isIE8&&(s.iframeHTML+=t.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),s.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',r=0;r<s.contentCSS.length;r++)s.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+s.contentCSS[r]+'" />';s.contentCSS=[],o=t.body_id||"tinymce",-1!=o.indexOf("=")&&(o=s.getParam("body_id","","hash"),o=o[s.id]||o),p=t.body_class||"",-1!=p.indexOf("=")&&(p=s.getParam("body_class","","hash"),p=p[s.id]||""),s.iframeHTML+='</head><body id="'+o+'" class="mceContentBody '+p+'" onload="window.parent.tinyMCE.get(\''+s.id+"').onLoad.dispatch();\"><br></body></html>",a.relaxedDomain&&(g||a.isOpera&&parseFloat(opera.version())<11)&&(n='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+s.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),d=b.add(m.iframeContainer,"iframe",{id:s.id+"_ifr",src:n||'javascript:""',frameBorder:"0",allowTransparency:"true",title:t.aria_label,style:{width:"100%",height:h,display:"block"}}),s.contentAreaContainer=m.iframeContainer,m.editorContainer&&(b.get(m.editorContainer).style.display=s.orgDisplay),u.style.visibility=s.orgVisibility,b.get(s.id).style.display="none",b.setAttrib(s.id,"aria-hidden",!0),a.relaxedDomain&&n||s.initContentBody(),u=d=m=null
},initContentBody:function(){var c,d,f=this,h=f.settings,i=b.get(f.id),j=f.getDoc();g&&a.relaxedDomain||h.content_editable||(j.open(),j.write(f.iframeHTML),j.close(),a.relaxedDomain&&(j.domain=a.relaxedDomain)),h.content_editable&&(b.addClass(i,"mceContentBody"),f.contentDocument=j=h.content_document||document,f.contentWindow=h.content_window||window,f.bodyElement=i,h.content_document=h.content_window=null),c=f.getBody(),c.disabled=!0,h.readonly||(c.contentEditable=f.getParam("content_editable_state",!0)),c.disabled=!1,f.schema=new a.html.Schema(h),f.dom=new a.dom.DOMUtils(j,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:h.content_editable?f.id:null,schema:f.schema}),f.parser=new a.html.DomParser(h,f.schema),f.parser.addAttributeFilter("src,href,style",function(a,b){for(var c,d,e,g=a.length,h=f.dom;g--;)c=a[g],d=c.attr(b),e="data-mce-"+b,c.attributes.map[e]||("style"===b?c.attr(e,h.serializeStyle(h.parseStyle(d),c.name)):c.attr(e,f.convertURL(d,b,c.name)))}),f.parser.addNodeFilter("script",function(a){for(var b,c=a.length;c--;)b=a[c],b.attr("type","mce-"+(b.attr("type")||"text/javascript"))}),f.parser.addNodeFilter("#cdata",function(a){for(var b,c=a.length;c--;)b=a[c],b.type=8,b.name="#comment",b.value="[CDATA["+b.value+"]]"}),f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c,d=b.length,e=f.schema.getNonEmptyElements();d--;)c=b[d],c.isEmpty(e)&&(c.empty().append(new a.html.Node("br",1)).shortEnded=!0)}),f.serializer=new a.dom.Serializer(h,f.dom,f.schema),f.selection=new a.dom.Selection(f.dom,f.getWin(),f.serializer,f),f.formatter=new a.Formatter(f),f.undoManager=new a.UndoManager(f),f.forceBlocks=new a.ForceBlocks(f),f.enterKey=new a.EnterKey(f),f.editorCommands=new a.EditorCommands(f),f.onExecCommand.add(function(a,b){/^(FontName|FontSize)$/.test(b)||f.nodeChanged()}),f.serializer.onPreProcess.add(function(a,b){return f.onPreProcess.dispatch(f,b,a)}),f.serializer.onPostProcess.add(function(a,b){return f.onPostProcess.dispatch(f,b,a)}),f.onPreInit.dispatch(f),h.browser_spellcheck||h.gecko_spellcheck||(j.body.spellcheck=!1),h.readonly||f.bindNativeEvents(),f.controlManager.onPostRender.dispatch(f,f.controlManager),f.onPostRender.dispatch(f),f.quirks=a.util.Quirks(f),h.directionality&&(c.dir=h.directionality),h.nowrap&&(c.style.whiteSpace="nowrap"),h.protect&&f.onBeforeSetContent.add(function(a,b){e(h.protect,function(a){b.content=b.content.replace(a,function(a){return"<!--mce:protected "+escape(a)+"-->"})})}),f.onSetContent.add(function(){f.addVisual(f.getBody())}),h.padd_empty_editor&&f.onPostProcess.add(function(a,b){b.content=b.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),f.load({initial:!0,format:"html"}),f.startContent=f.getContent({format:"raw"}),f.initialized=!0,f.onInit.dispatch(f),f.execCallback("setupcontent_callback",f.id,c,j),f.execCallback("init_instance_callback",f),f.focus(!0),f.nodeChanged({initial:!0}),f.contentStyles.length>0&&(d="",e(f.contentStyles,function(a){d+=a+"\r\n"}),f.dom.addStyle(d)),e(f.contentCSS,function(a){f.dom.loadCSS(a)}),h.auto_focus&&setTimeout(function(){var b=a.get(h.auto_focus);b.selection.select(b.getBody(),1),b.selection.collapse(1),b.getBody().focus(),b.getWin().focus()},100),i=j=c=null},focus:function(b){var c,d,e,f,g=this,h=g.selection,i=g.settings.content_editable,j=g.getDoc();b||(g.lastIERng&&h.setRng(g.lastIERng),d=h.getRng(),d.item&&(e=d.item(0)),g._refreshContentEditable(),i||g.getWin().focus(),(a.isGecko||i)&&(f=g.getBody(),f.setActive?f.setActive():f.focus(),i&&h.normalize()),e&&e.ownerDocument==j&&(d=j.body.createControlRange(),d.addElement(e),d.select())),a.activeEditor!=g&&(null!=(c=a.activeEditor)&&c.onDeactivate.dispatch(c,g),g.onActivate.dispatch(g,c)),a._setActive(g)},execCallback:function(b){var c,d=this,e=d.settings[b];return e?(d.callbackLookup&&(c=d.callbackLookup[b])&&(e=c.func,c=c.scope),h(e,"string")&&(c=e.replace(/\.\w+$/,""),c=c?a.resolve(c):0,e=a.resolve(e),d.callbackLookup=d.callbackLookup||{},d.callbackLookup[b]={func:e,scope:c}),e.apply(c||d,Array.prototype.slice.call(arguments,1))):void 0},translate:function(b){var c=this.settings.language||"en",d=a.i18n;return b?d[c+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(a,b){return d[c+"."+b]||"{#"+b+"}"}):""},getLang:function(b,c){return a.i18n[(this.settings.language||"en")+"."+b]||(h(c)?c:"{#"+b+"}")},getParam:function(b,c,d){var f,g=a.trim,i=h(this.settings[b])?this.settings[b]:c;return"hash"===d?(f={},h(i,"string")?e(i.split(i.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(a){a=a.split("="),f[g(a[0])]=g(a.length>1?a[1]:a)}):f=i,f):i},nodeChanged:function(a){var b,c=this,d=c.selection;c.initialized&&(a=a||{},b=d.getStart()||c.getBody(),b=g&&b.ownerDocument!=c.getDoc()?c.getBody():b,a.parents=[],c.dom.getParent(b,function(b){return"BODY"==b.nodeName?!0:void a.parents.push(b)}),c.onNodeChange.dispatch(c,a?a.controlManager||c.controlManager:c.controlManager,b,d.isCollapsed(),a))},addButton:function(a,b){var c=this;c.buttons=c.buttons||{},c.buttons[a]=b},addCommand:function(a,b,c){this.execCommands[a]={func:b,scope:c||this}},addQueryStateHandler:function(a,b,c){this.queryStateCommands[a]={func:b,scope:c||this}},addQueryValueHandler:function(a,b,c){this.queryValueCommands[a]={func:b,scope:c||this}},addShortcut:function(a,b,c,d){var f,g=this;return g.settings.custom_shortcuts===!1?!1:(g.shortcuts=g.shortcuts||{},h(c,"string")&&(f=c,c=function(){g.execCommand(f,!1,null)}),h(c,"object")&&(f=c,c=function(){g.execCommand(f[0],f[1],f[2])}),e(k(a),function(a){var f={func:c,scope:d||this,desc:g.translate(b),alt:!1,ctrl:!1,shift:!1};e(k(a,"+"),function(a){switch(a){case"alt":case"ctrl":case"shift":f[a]=!0;break;default:f.charCode=a.charCodeAt(0),f.keyCode=a.toUpperCase().charCodeAt(0)}}),g.shortcuts[(f.ctrl?"ctrl":"")+","+(f.alt?"alt":"")+","+(f.shift?"shift":"")+","+f.keyCode]=f}),!0)},execCommand:function(a,b,c,f){var g,h,i=this,j=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(a)||f&&f.skip_focus||i.focus(),f=d({},f),i.onBeforeExecCommand.dispatch(i,a,b,c,f),f.terminate?!1:i.execCallback("execcommand_callback",i.id,i.selection.getNode(),a,b,c)?(i.onExecCommand.dispatch(i,a,b,c,f),!0):(g=i.execCommands[a])&&(h=g.func.call(g.scope,b,c),h!==!0)?(i.onExecCommand.dispatch(i,a,b,c,f),h):(e(i.plugins,function(d){return d.execCommand&&d.execCommand(a,b,c)?(i.onExecCommand.dispatch(i,a,b,c,f),j=1,!1):void 0}),j?!0:i.theme&&i.theme.execCommand&&i.theme.execCommand(a,b,c)?(i.onExecCommand.dispatch(i,a,b,c,f),!0):i.editorCommands.execCommand(a,b,c)?(i.onExecCommand.dispatch(i,a,b,c,f),!0):(i.getDoc().execCommand(a,b,c),void i.onExecCommand.dispatch(i,a,b,c,f)))},queryCommandState:function(a){var b,c,d=this;if(!d._isHidden()){if((b=d.queryStateCommands[a])&&(c=b.func.call(b.scope),c!==!0))return c;if(b=d.editorCommands.queryCommandState(a),-1!==b)return b;try{return this.getDoc().queryCommandState(a)}catch(e){}}},queryCommandValue:function(a){var b,c,d=this;if(!d._isHidden()){if((b=d.queryValueCommands[a])&&(c=b.func.call(b.scope),c!==!0))return c;if(b=d.editorCommands.queryCommandValue(a),h(b))return b;try{return this.getDoc().queryCommandValue(a)}catch(e){}}},show:function(){var a=this;b.show(a.getContainer()),b.hide(a.id),a.load()},hide:function(){var a=this,c=a.getDoc();g&&c&&c.execCommand("SelectAll"),a.save(),b.hide(a.getContainer()),b.setStyle(a.id,"display",a.orgDisplay)},isHidden:function(){return!b.isHidden(this.id)},setProgressState:function(a,b,c){return this.onSetProgressState.dispatch(this,a,b,c),a},load:function(a){var b,c=this,d=c.getElement();return d?(a=a||{},a.load=!0,b=c.setContent(h(d.value)?d.value:d.innerHTML,a),a.element=d,a.no_events||c.onLoadContent.dispatch(c,a),a.element=d=null,b):void 0},save:function(a){var c,d,f=this,g=f.getElement();return g&&f.initialized?(a=a||{},a.save=!0,a.element=g,c=a.content=f.getContent(a),a.no_events||f.onSaveContent.dispatch(f,a),c=a.content,/TEXTAREA|INPUT/i.test(g.nodeName)?g.value=c:(g.innerHTML=c,(d=b.getParent(f.id,"form"))&&e(d.elements,function(a){return a.name==f.id?(a.value=c,!1):void 0})),a.element=g=null,c):void 0},setContent:function(b,c){var d,e=this,f=e.getBody();return c=c||{},c.format=c.format||"html",c.set=!0,c.content=b,c.no_events||e.onBeforeSetContent.dispatch(e,c),b=c.content,a.isIE||0!==b.length&&!/^\s+$/.test(b)?("raw"!==c.format&&(b=new a.html.Serializer({},e.schema).serialize(e.parser.parse(b))),c.content=a.trim(b),e.dom.setHTML(f,c.content),c.no_events||e.onSetContent.dispatch(e,c),e.settings.content_editable&&document.activeElement!==e.getBody()||e.selection.normalize(),c.content):(d=e.settings.forced_root_block,b=d?"<"+d+'><br data-mce-bogus="1"></'+d+">":'<br data-mce-bogus="1">',f.innerHTML=b,e.selection.select(f,!0),void e.selection.collapse(!0))},getContent:function(b){var c,d=this,e=d.getBody();return b=b||{},b.format=b.format||"html",b.get=!0,b.getInner=!0,b.no_events||d.onBeforeGetContent.dispatch(d,b),c="raw"==b.format?e.innerHTML:"text"==b.format?e.innerText||e.textContent:d.serializer.serialize(e,b),b.content="text"!=b.format?a.trim(c):c,b.no_events||d.onGetContent.dispatch(d,b),b.content},isDirty:function(){var b=this;return a.trim(b.startContent)!=a.trim(b.getContent({format:"raw",no_events:1}))&&!b.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=b.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return b.get(this.settings.content_element||this.id)},getWin:function(){var a,c=this;return c.contentWindow||(a=b.get(c.id+"_ifr"),a&&(c.contentWindow=a.contentWindow)),c.contentWindow},getDoc:function(){var a,b=this;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this,e=d.settings;return e.urlconverter_callback?d.execCallback("urlconverter_callback",a,c,!0,b):!e.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")?a:e.relative_urls?d.documentBaseURI.toRelative(a):a=d.documentBaseURI.toAbsolute(a,e.remove_script_host)},addVisual:function(a){var b,c=this,d=c.settings,f=c.dom;a=a||c.getBody(),h(c.hasVisual)||(c.hasVisual=d.visual),e(f.select("table,a",a),function(a){var e;switch(a.nodeName){case"TABLE":return b=d.visual_table_class||"mceItemTable",e=f.getAttrib(a,"border"),void(e&&"0"!=e||(c.hasVisual?f.addClass(a,b):f.removeClass(a,b)));case"A":return void(f.getAttrib(a,"href",!1)||(e=f.getAttrib(a,"name")||a.id,b="mceItemAnchor",e&&(c.hasVisual?f.addClass(a,b):f.removeClass(a,b))))}}),c.onVisualAid.dispatch(c,a,c.hasVisual)},remove:function(){var d=this,e=d.getContainer(),f=d.getDoc();d.removed||(d.removed=1,g&&f&&f.execCommand("SelectAll"),d.save(),b.setStyle(d.id,"display",d.orgDisplay),d.settings.content_editable||(c.unbind(d.getWin()),c.unbind(d.getDoc())),c.unbind(d.getBody()),c.clear(e),d.execCallback("remove_instance_callback",d),d.onRemove.dispatch(d),d.onExecCommand.listeners=[],a.remove(d),b.remove(e))},destroy:function(b){var d=this;d.destroyed||(f&&(c.unbind(d.getDoc()),c.unbind(d.getWin()),c.unbind(d.getBody())),b||(a.removeUnload(d.destroy),tinyMCE.onBeforeUnload.remove(d._beforeUnload),d.theme&&d.theme.destroy&&d.theme.destroy(),d.controlManager.destroy(),d.selection.destroy(),d.dom.destroy()),d.formElement&&(d.formElement.submit=d.formElement._mceOldSubmit,d.formElement._mceOldSubmit=null),d.contentAreaContainer=d.formElement=d.container=d.settings.content_element=d.bodyElement=d.contentDocument=d.contentWindow=null,d.selection&&(d.selection=d.selection.win=d.selection.dom=d.selection.dom.doc=null),d.destroyed=1)},_refreshContentEditable:function(){var a,b,c=this;c._isHidden()&&(a=c.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())},_isHidden:function(){var a;return f?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}})}(tinymce),function(a){var b=a.each;a.Editor.prototype.setupEvents=function(){var c=this,d=c.settings;b(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(b){c[b]=new a.util.Dispatcher(c)}),d.cleanup_callback&&(c.onBeforeSetContent.add(function(a,b){b.content=a.execCallback("cleanup_callback","insert_to_editor",b.content,b)}),c.onPreProcess.add(function(a,b){b.set&&a.execCallback("cleanup_callback","insert_to_editor_dom",b.node,b),b.get&&a.execCallback("cleanup_callback","get_from_editor_dom",b.node,b)}),c.onPostProcess.add(function(a,b){b.set&&(b.content=a.execCallback("cleanup_callback","insert_to_editor",b.content,b)),b.get&&(b.content=a.execCallback("cleanup_callback","get_from_editor",b.content,b))})),d.save_callback&&c.onGetContent.add(function(a,b){b.save&&(b.content=a.execCallback("save_callback",a.id,b.content,a.getBody()))}),d.handle_event_callback&&c.onEvent.add(function(a,b,d){c.execCallback("handle_event_callback",b,a,d)===!1&&(b.preventDefault(),b.stopPropagation())}),d.handle_node_change_callback&&c.onNodeChange.add(function(a,b,c){a.execCallback("handle_node_change_callback",a.id,c,-1,-1,!0,a.selection.isCollapsed())}),d.save_callback&&c.onSaveContent.add(function(a,b){var c=a.execCallback("save_callback",a.id,b.content,a.getBody());c&&(b.content=c)}),d.onchange_callback&&c.onChange.add(function(a,b){a.execCallback("onchange_callback",a,b)})},a.Editor.prototype.bindNativeEvents=function(){function c(a,b){a.type,h.removed||h.onEvent.dispatch(h,a,b)!==!1&&h[g[a.fakeType||a.type]].dispatch(h,a,b)}function d(){h.focus(!0)}function e(b,c){65==c.keyCode&&a.VK.metaKeyPressed(c)||h.selection.normalize(),h.nodeChanged()}function f(c,d){(c.altKey||c.ctrlKey||c.metaKey)&&b(h.shortcuts,function(b){var e=a.isMac?c.metaKey:c.ctrlKey;return b.ctrl==e&&b.alt==c.altKey&&b.shift==c.shiftKey&&(c.keyCode==b.keyCode||c.charCode&&c.charCode==b.charCode)?(c.preventDefault(),d&&b.func.call(b.scope),!0):void 0})}var g,h=this,i=h.settings,j=h.dom;g={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},b(g,function(b,d){var e=i.content_editable?h.getBody():h.getDoc();switch(d){case"contextmenu":j.bind(e,d,c);break;case"paste":j.bind(h.getBody(),d,c);break;case"submit":case"reset":j.bind(h.getElement().form||a.DOM.getParent(h.id,"form"),d,c);break;default:j.bind(e,d,c)}}),j.bind(i.content_editable?h.getBody():a.isGecko?h.getDoc():h.getWin(),"focus",function(){h.focus(!0)}),i.content_editable&&a.isOpera&&(j.bind(h.getBody(),"click",d),j.bind(h.getBody(),"keydown",d)),h.onMouseUp.add(e),h.onKeyUp.add(function(b,c){var d=c.keyCode;(d>=33&&36>=d||d>=37&&40>=d||13==d||45==d||46==d||8==d||a.isMac&&(91==d||93==d)||c.ctrlKey)&&e(b,c)}),h.onReset.add(function(){h.setContent(h.startContent,{format:"raw"})}),h.onKeyUp.add(function(a,b){f(b)}),h.onKeyPress.add(function(a,b){f(b)}),h.onKeyDown.add(function(a,b){f(b,!0)}),a.isOpera&&h.onClick.add(function(a,b){b.preventDefault()})}}(tinymce),function(a){var b,c=a.each,d=!0,e=!1;a.EditorCommands=function(f){function g(a,b,c){var f;return a=a.toLowerCase(),(f=s.exec[a])?(f(a,b,c),d):e}function h(a){var b;return a=a.toLowerCase(),(b=s.state[a])?b(a):-1}function i(a){var b;return a=a.toLowerCase(),(b=s.value[a])?b(a):e}function j(a,b){b=b||"exec",c(a,function(a,d){c(d.toLowerCase().split(","),function(c){s[b][c]=a})})}function k(a,c,d){return c===b&&(c=e),d===b&&(d=null),f.getDoc().execCommand(a,c,d)}function l(a){return u.match(a)}function m(a,c){u.toggle(a,c?{value:c}:b)}function n(a){p=r.getBookmark(a)}function o(){r.moveToBookmark(p)}var p,q=f.dom,r=f.selection,s={state:{},exec:{},value:{}},t=f.settings,u=f.formatter;a.extend(this,{execCommand:g,queryCommandState:h,queryCommandValue:i,addCommands:j}),j({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(b){var c,e=f.getDoc();try{k(b)}catch(g){c=d}(c||!e.queryCommandSupported(b))&&(a.isGecko?f.windowManager.confirm(f.getLang("clipboard_msg"),function(a){a&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):f.windowManager.alert(f.getLang("clipboard_no_support")))},unlink:function(a){r.isCollapsed()&&r.select(r.getNode()),k(a),r.collapse(e)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b=a.substring(7);c("left,center,right,full".split(","),function(a){b!=a&&u.remove("align"+a)}),m("align"+b),g("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(a){var b,c;k(a),b=q.getParent(r.getNode(),"ol,ul"),b&&(c=b.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(n(),q.split(c,b),o()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){m(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){m(a,c)},FontSize:function(b,c,d){var e,f;d>=1&&7>=d&&(f=a.explode(t.font_size_style_values),e=a.explode(t.font_size_classes),d=e?e[d-1]||d:f[d-1]||d),m(b,d)},RemoveFormat:function(a){u.remove(a)},mceBlockQuote:function(){m("blockquote")},FormatBlock:function(a,b,c){return m(c||"p")},mceCleanup:function(){var a=r.getBookmark();f.setContent(f.getContent({cleanup:d}),{cleanup:d}),r.moveToBookmark(a)},mceRemoveNode:function(a,b,c){var e=c||r.getNode();e!=f.getBody()&&(n(),f.dom.remove(e,d),o())},mceSelectNodeDepth:function(a,b,c){var d=0;q.getParent(r.getNode(),function(a){return 1==a.nodeType&&d++==c?(r.select(a),e):void 0},f.getBody())},mceSelectNode:function(a,b,c){r.select(c)},mceInsertContent:function(b,c,d){var e,g,h,i,j,k,l,m,n,o,p,s,t,u;if(e=f.parser,g=new a.html.Serializer({},f.schema),t='<span id="mce_marker" data-mce-type="bookmark"></span>',k={content:d,format:"html"},r.onBeforeSetContent.dispatch(r,k),d=k.content,-1==d.indexOf("{$caret}")&&(d+="{$caret}"),d=d.replace(/\{\$caret\}/,t),r.isCollapsed()||f.getDoc().execCommand("Delete",!1,null),h=r.getNode(),k={context:h.nodeName.toLowerCase()},j=e.parse(d,k),p=j.lastChild,"mce_marker"==p.attr("id"))for(l=p,p=p.prev;p;p=p.walk(!0))if(3==p.type||!q.isBlock(p.name)){p.parent.insert(l,p,"br"===p.name);break}if(k.invalid){for(r.setContent(t),h=r.getNode(),i=f.getBody(),9==h.nodeType?h=p=i:p=h;p!==i;)h=p,p=p.parentNode;d=h==i?i.innerHTML:q.getOuterHTML(h),d=g.serialize(e.parse(d.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return g.serialize(j)}))),h==i?q.setHTML(i,d):q.setOuterHTML(h,d)}else d=g.serialize(j),p=h.firstChild,s=h.lastChild,!p||p===s&&"BR"===p.nodeName?q.setHTML(h,d):r.setContent(d);l=q.get("mce_marker"),m=q.getRect(l),n=q.getViewPort(f.getWin()),(m.y+m.h>n.y+n.h||m.y<n.y||m.x>n.x+n.w||m.x<n.x)&&(u=a.isIE?f.getDoc().documentElement:f.getBody(),u.scrollLeft=m.x,u.scrollTop=m.y-n.h+25),o=q.createRng(),p=l.previousSibling,p&&3==p.nodeType?o.setStart(p,p.nodeValue.length):(o.setStartBefore(l),o.setEndBefore(l)),q.remove(l),r.setRng(o),r.onSetContent.dispatch(r,k),f.addVisual()},mceInsertRawHTML:function(a,b,c){r.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){m(c)},mceSetContent:function(a,b,c){f.setContent(c)},"Indent,Outdent":function(a){var b,d,e;b=t.indentation,d=/[a-z%]+$/i.exec(b),b=parseInt(b),h("InsertUnorderedList")||h("InsertOrderedList")?k(a):(t.forced_root_block||q.getParent(r.getNode(),q.isBlock)||u.apply("div"),c(r.getSelectedBlocks(),function(c){"outdent"==a?(e=Math.max(0,parseInt(c.style.paddingLeft||0)-b),q.setStyle(c,"paddingLeft",e?e+d:"")):q.setStyle(c,"paddingLeft",parseInt(c.style.paddingLeft||0)+b+d)}))},mceRepaint:function(){if(a.isGecko)try{n(d),r.getSel()&&r.getSel().selectAllChildren(f.getBody()),r.collapse(d),o()}catch(b){}},mceToggleFormat:function(a,b,c){u.toggle(c)},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(a,b,c){f.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,r.getContent({format:"text"})))},mceInsertLink:function(a,b,c){var d;"string"==typeof c&&(c={href:c}),d=q.getParent(r.getNode(),"a"),c.href=c.href.replace(" ","%20"),d&&c.href||u.remove("link"),c.href&&u.apply("link",c,d)},selectAll:function(){var a=q.getRoot(),b=q.createRng();r.getRng().setStart?(b.setStart(a,0),b.setEnd(a,a.childNodes.length),r.setRng(b)):k("SelectAll")}}),j({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(b){var c="align"+b.substring(7),e=r.isCollapsed()?[q.getParent(r.getNode(),q.isBlock)]:r.getSelectedBlocks(),f=a.map(e,function(a){return!!u.matchNode(a,c)});return-1!==a.inArray(f,d)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return l(a)},mceBlockQuote:function(){return l("blockquote")},Outdent:function(){var a;if(t.inline_styles){if((a=q.getParent(r.getStart(),q.isBlock))&&parseInt(a.style.paddingLeft)>0)return d;if((a=q.getParent(r.getEnd(),q.isBlock))&&parseInt(a.style.paddingLeft)>0)return d}return h("InsertUnorderedList")||h("InsertOrderedList")||!t.inline_styles&&!!q.getParent(r.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=q.getParent(r.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state"),j({"FontSize,FontName":function(a){var b,c=0;return(b=q.getParent(r.getNode(),"span"))&&(c="fontsize"==a?b.style.fontSize:b.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),c}},"value"),j({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}(tinymce),function(a){var b=a.util.Dispatcher;a.UndoManager=function(c){function d(){return a.trim(c.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function e(){f.typing=!1,f.add()}var f,g,h,i,j,k=0,l=[];return onBeforeAdd=new b(f),h=new b(f),i=new b(f),j=new b(f),h.add(function(a,b){return a.hasUndo()?c.onChange.dispatch(c,b,a):void 0}),i.add(function(a,b){return c.onUndo.dispatch(c,b,a)}),j.add(function(a,b){return c.onRedo.dispatch(c,b,a)}),c.onInit.add(function(){f.add()}),c.onBeforeExecCommand.add(function(a,b,c,d,e){"Undo"==b||"Redo"==b||"mceRepaint"==b||e&&e.skip_undo||f.beforeChange()}),c.onExecCommand.add(function(a,b,c,d,e){"Undo"==b||"Redo"==b||"mceRepaint"==b||e&&e.skip_undo||f.add()}),c.onSaveContent.add(e),c.dom.bind(c.dom.getRoot(),"dragend",e),c.dom.bind(c.getBody(),"focusout",function(){!c.removed&&f.typing&&e()}),c.onKeyUp.add(function(a,b){var c=b.keyCode;(c>=33&&36>=c||c>=37&&40>=c||45==c||13==c||b.ctrlKey)&&e()}),c.onKeyDown.add(function(a,b){var c=b.keyCode;return c>=33&&36>=c||c>=37&&40>=c||45==c?void(f.typing&&e()):void((16>c||c>20)&&224!=c&&91!=c&&!f.typing&&(f.beforeChange(),f.typing=!0,f.add()))}),c.onMouseDown.add(function(){f.typing&&e()}),c.addShortcut("ctrl+z","undo_desc","Undo"),c.addShortcut("ctrl+y","redo_desc","Redo"),f={data:l,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:h,onUndo:i,onRedo:j,beforeChange:function(){g=c.selection.getBookmark(2,!0)},add:function(a){var b,e,h=c.settings;if(a=a||{},a.content=d(),f.onBeforeAdd.dispatch(f,a),e=l[k],e&&e.content==a.content)return null;if(l[k]&&(l[k].beforeBookmark=g),h.custom_undo_redo_levels&&l.length>h.custom_undo_redo_levels){for(b=0;b<l.length-1;b++)l[b]=l[b+1];l.length--,k=l.length}return a.bookmark=c.selection.getBookmark(2,!0),k<l.length-1&&(l.length=k+1),l.push(a),k=l.length-1,f.onAdd.dispatch(f,a),c.isNotDirty=0,a},undo:function(){var a;return f.typing&&(f.add(),f.typing=!1),k>0&&(a=l[--k],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.beforeBookmark),f.onUndo.dispatch(f,a)),a},redo:function(){var a;return k<l.length-1&&(a=l[++k],c.setContent(a.content,{format:"raw"}),c.selection.moveToBookmark(a.bookmark),f.onRedo.dispatch(f,a)),a},clear:function(){l=[],k=0,f.typing=!1},hasUndo:function(){return k>0||this.typing},hasRedo:function(){return k<l.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(a){function b(){var b,g,h,i,j,k,l,m,n,o=e.getStart(),p=a.getBody(),q=-16777215;if(o&&1===o.nodeType&&c.forced_root_block){for(;o&&o!=p;){if(f[o.nodeName])return;o=o.parentNode}for(b=e.getRng(),b.setStart?(g=b.startContainer,h=b.startOffset,i=b.endContainer,j=b.endOffset):(b.item&&(o=b.item(0),b=a.getDoc().body.createTextRange(),b.moveToElementText(o)),n=b.parentElement().ownerDocument===a.getDoc(),tmpRng=b.duplicate(),tmpRng.collapse(!0),h=-1*tmpRng.move("character",q),tmpRng.collapsed||(tmpRng=b.duplicate(),tmpRng.collapse(!1),j=-1*tmpRng.move("character",q)-h)),o=p.firstChild;o;)if(3===o.nodeType||1==o.nodeType&&!f[o.nodeName]){if(3===o.nodeType&&0==o.nodeValue.length){l=o,o=o.nextSibling,d.remove(l);continue}k||(k=d.create(c.forced_root_block),o.parentNode.insertBefore(k,o),m=!0),l=o,o=o.nextSibling,k.appendChild(l)}else k=null,o=o.nextSibling;if(m){if(b.setStart)b.setStart(g,h),b.setEnd(i,j),e.setRng(b);else if(n)try{b=a.getDoc().body.createTextRange(),b.moveToElementText(p),b.collapse(!0),b.moveStart("character",h),j>0&&b.moveEnd("character",j),b.select()}catch(r){}a.nodeChanged()}}}var c=a.settings,d=a.dom,e=a.selection,f=a.schema.getBlockElements();c.forced_root_block&&(a.onKeyUp.add(b),a.onNodeChange.add(b))},function(a){var b=(a.DOM,a.dom.Event),c=a.each,d=a.extend;a.create("tinymce.ControlManager",{ControlManager:function(b,d){var e=this;d=d||{},e.editor=b,e.controls={},e.onAdd=new a.util.Dispatcher(e),e.onPostRender=new a.util.Dispatcher(e),e.prefix=d.prefix||b.id+"_",e._cls={},e.onPostRender.add(function(){c(e.controls,function(a){a.postRender()})})},get:function(a){return this.controls[this.prefix+a]||this.controls[a]},setActive:function(a,b){var c=null;return(c=this.get(a))&&c.setActive(b),c},setDisabled:function(a,b){var c=null;return(c=this.get(a))&&c.setDisabled(b),c},add:function(a){var b=this;return a&&(b.controls[a.id]=a,b.onAdd.dispatch(a,b)),a},createControl:function(a){var b,d,e,f,g=this,h=g.editor;for(g.controlFactories||(g.controlFactories=[],c(h.plugins,function(a){a.createControl&&g.controlFactories.push(a)})),f=g.controlFactories,d=0,e=f.length;e>d;d++)if(b=f[d].createControl(a,g))return g.add(b);return"|"===a||"separator"===a?g.createSeparator():h.buttons&&(b=h.buttons[a])?g.createButton(a,b):g.add(b)},createDropMenu:function(b,c,e){var f,g,h,i,j=this,k=j.editor;return c=d({"class":"mceDropDown",constrain:k.settings.constrain_menus},c),c["class"]=c["class"]+" "+k.getParam("skin")+"Skin",(h=k.getParam("skin_variant"))&&(c["class"]+=" "+k.getParam("skin")+"Skin"+h.substring(0,1).toUpperCase()+h.substring(1)),c["class"]+="rtl"==k.settings.directionality?" mceRtl":"",b=j.prefix+b,i=e||j._cls.dropmenu||a.ui.DropMenu,f=j.controls[b]=new i(b,c),f.onAddItem.add(function(a,b){var c=b.settings;c.title=k.getLang(c.title,c.title),c.onclick||(c.onclick=function(){c.cmd&&k.execCommand(c.cmd,c.ui||!1,c.value)})}),k.onRemove.add(function(){f.destroy()}),a.isIE&&(f.onShowMenu.add(function(){k.focus(),g=k.selection.getBookmark(1)}),f.onHideMenu.add(function(){g&&(k.selection.moveToBookmark(g),g=0)})),j.add(f)},createListBox:function(c,e,f){function g(b){return b.settings.use_accessible_selects&&!a.isGecko}var h,i,j=this,k=j.editor;return j.get(c)?null:(e.title=k.translate(e.title),e.scope=e.scope||k,e.onselect||(e.onselect=function(a){k.execCommand(e.cmd,e.ui||!1,a||e.value)}),e=d({title:e.title,"class":"mce_"+c,scope:e.scope,control_manager:j},e),c=j.prefix+c,k.settings.use_native_selects||g(k)?h=new a.ui.NativeListBox(c,e):(i=f||j._cls.listbox||a.ui.ListBox,h=new i(c,e,k)),j.controls[c]=h,a.isWebKit&&h.onPostRender.add(function(a,c){b.add(c,"mousedown",function(){k.bookmark=k.selection.getBookmark(1)}),b.add(c,"focus",function(){k.selection.moveToBookmark(k.bookmark),k.bookmark=null})}),h.hideMenu&&k.onMouseDown.add(h.hideMenu,h),j.add(h))},createButton:function(b,c,e){var f,g,h=this,i=h.editor;return h.get(b)?null:(c.title=i.translate(c.title),c.label=i.translate(c.label),c.scope=c.scope||i,c.onclick||c.menu_button||(c.onclick=function(){i.execCommand(c.cmd,c.ui||!1,c.value)}),c=d({title:c.title,"class":"mce_"+b,unavailable_prefix:i.getLang("unavailable",""),scope:c.scope,control_manager:h},c),b=h.prefix+b,c.menu_button?(g=e||h._cls.menubutton||a.ui.MenuButton,f=new g(b,c,i),i.onMouseDown.add(f.hideMenu,f)):(g=h._cls.button||a.ui.Button,f=new g(b,c,i)),h.add(f))},createMenuButton:function(a,b,c){return b=b||{},b.menu_button=1,this.createButton(a,b,c)},createSplitButton:function(b,c,e){var f,g,h=this,i=h.editor;return h.get(b)?null:(c.title=i.translate(c.title),c.scope=c.scope||i,c.onclick||(c.onclick=function(a){i.execCommand(c.cmd,c.ui||!1,a||c.value)}),c.onselect||(c.onselect=function(a){i.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=d({title:c.title,"class":"mce_"+b,scope:c.scope,control_manager:h},c),b=h.prefix+b,g=e||h._cls.splitbutton||a.ui.SplitButton,f=h.add(new g(b,c,i)),i.onMouseDown.add(f.hideMenu,f),f)},createColorSplitButton:function(b,c,e){var f,g,h,i=this,j=i.editor;return i.get(b)?null:(c.title=j.translate(c.title),c.scope=c.scope||j,c.onclick||(c.onclick=function(b){a.isIE&&(h=j.selection.getBookmark(1)),j.execCommand(c.cmd,c.ui||!1,b||c.value)}),c.onselect||(c.onselect=function(a){j.execCommand(c.cmd,c.ui||!1,a||c.value)}),c=d({title:c.title,"class":"mce_"+b,menu_class:j.getParam("skin")+"Skin",scope:c.scope,more_colors_title:j.getLang("more_colors")},c),b=i.prefix+b,g=e||i._cls.colorsplitbutton||a.ui.ColorSplitButton,f=new g(b,c,j),j.onMouseDown.add(f.hideMenu,f),j.onRemove.add(function(){f.destroy()}),a.isIE&&(f.onShowMenu.add(function(){j.focus(),h=j.selection.getBookmark(1)}),f.onHideMenu.add(function(){h&&(j.selection.moveToBookmark(h),h=0)})),i.add(f))},createToolbar:function(b,c,d){var e,f,g=this;return b=g.prefix+b,f=d||g._cls.toolbar||a.ui.Toolbar,e=new f(b,c,g.editor),g.get(b)?null:g.add(e)},createToolbarGroup:function(b,c,d){var e,f,g=this;return b=g.prefix+b,f=d||this._cls.toolbarGroup||a.ui.ToolbarGroup,e=new f(b,c,g.editor),g.get(b)?null:g.add(e)},createSeparator:function(b){var c=b||this._cls.separator||a.ui.Separator;return new c},setControlType:function(a,b){return this._cls[a.toLowerCase()]=b},destroy:function(){c(this.controls,function(a){a.destroy()}),this.controls=null}})}(tinymce),function(a){var b=a.util.Dispatcher,c=a.each,d=a.isIE,e=a.isOpera;a.create("tinymce.WindowManager",{WindowManager:function(a){var c=this;c.editor=a,c.onOpen=new b(c),c.onClose=new b(c),c.params={},c.features={}},open:function(b,f){var g,h,i,j,k=this,l="",m="modal"==k.editor.settings.dialog_type,n=a.DOM.getViewPort();b=b||{},f=f||{},h=e?n.w:screen.width,i=e?n.h:screen.height,b.name=b.name||"mc_"+(new Date).getTime(),b.width=parseInt(b.width||320),b.height=parseInt(b.height||240),b.resizable=!0,b.left=b.left||parseInt(h/2)-b.width/2,b.top=b.top||parseInt(i/2)-b.height/2,f.inline=!1,f.mce_width=b.width,f.mce_height=b.height,f.mce_auto_focus=b.auto_focus,m&&d&&(b.center=!0,b.help=!1,b.dialogWidth=b.width+"px",b.dialogHeight=b.height+"px",b.scroll=b.scrollbars||!1),c(b,function(b,c){a.is(b,"boolean")&&(b=b?"yes":"no"),/^(name|url)$/.test(c)||(l+=d&&m?(l?";":"")+c+":"+b:(l?",":"")+c+"="+b)}),k.features=b,k.params=f,k.onOpen.dispatch(k,b,f),j=b.url||b.file,j=a._addVer(j);try{d&&m?(g=1,window.showModalDialog(j,window,l)):g=window.open(j,b.name,l)}catch(o){}g||alert(k.editor.getLang("popup_blocked"))},close:function(a){a.close(),this.onClose.dispatch(this)
},createInstance:function(b,c,d,e,f,g){var h=a.resolve(b);return new h(c,d,e,f,g)},confirm:function(a,b,c,d){d=d||window,b.call(c||this,d.confirm(this._decode(this.editor.getLang(a,a))))},alert:function(a,b,c,d){var e=this;d=d||window,d.alert(e._decode(e.editor.getLang(a,a))),b&&b.call(c||e)},resizeBy:function(a,b,c){c.resizeBy(a,b)},_decode:function(b){return a.DOM.decode(b).replace(/\\n/g,"\n")}})}(tinymce),function(a){a.Formatter=function(b){function c(a){return!!b.schema.getTextBlocks()[a.toLowerCase()]}function d(a,b){return K.getParents(a,b,K.getRoot())}function e(a){return 1===a.nodeType&&"_mce_caret"===a.id}function f(){i({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){J(c,function(b,c){K.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),J("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(a){i(a,{block:a,remove:"all"})}),i(b.settings.formats)}function g(){b.addShortcut("ctrl+b","bold_desc","Bold"),b.addShortcut("ctrl+i","italic_desc","Italic"),b.addShortcut("ctrl+u","underline_desc","Underline");for(var a=1;6>=a;a++)b.addShortcut("ctrl+"+a,"",["FormatBlock",!1,"h"+a]);b.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),b.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),b.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function h(a){return a?I[a]:I}function i(a,b){a&&("string"!=typeof a?J(a,function(a,b){i(b,a)}):(b=b.length?b:[b],J(b,function(a){a.deep===H&&(a.deep=!a.selector),a.split===H&&(a.split=!a.selector||a.inline),a.remove===H&&a.selector&&!a.inline&&(a.remove="none"),a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0),"string"==typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),I[a]=b))}function j(d,f,g){function i(a,b){b=b||t,a&&(b.onformat&&b.onformat(a,b,f,g),J(b.styles,function(b,c){K.setStyle(a,c,u(b,f))}),J(b.attributes,function(b,c){K.setAttrib(a,c,u(b,f))}),J(b.classes,function(b){b=u(b,f),K.hasClass(a,b)||K.addClass(a,b)}))}function k(){function a(a,b){var c=new M(b);for(g=c.current();g;g=c.prev())if(g.childNodes.length>1||g==a||"BR"==g.tagName)return g}var c=b.selection.getRng(),d=c.startContainer,e=c.endContainer;if(d!=e&&0===c.endOffset){var f=a(d,e),h=3==f.nodeType?f.length:f.childNodes.length;c.setEnd(f,h)}return c}function l(b,c,d,e,f){var g,h,i=[],j=-1,k=-1,l=-1;return J(b.childNodes,function(a,b){return"UL"===a.nodeName||"OL"===a.nodeName?(j=b,g=a,!1):void 0}),J(b.childNodes,function(a,b){"SPAN"===a.nodeName&&"bookmark"==K.getAttrib(a,"data-mce-type")&&(a.id==c.id+"_start"?k=b:a.id==c.id+"_end"&&(l=b))}),0>=j||j>k&&l>j?(J(a.grep(b.childNodes),f),0):(h=K.clone(d,U),J(a.grep(b.childNodes),function(a,b){(j>k&&j>b||k>j&&b>j)&&(i.push(a),a.parentNode.removeChild(a))}),j>k?b.insertBefore(h,g):k>j&&b.insertBefore(h,g.nextSibling),e.push(h),J(i,function(a){h.appendChild(a)}),h)}function n(b,g,h){var j,k,n=[],o=!0;j=t.inline||t.block,k=K.create(j),i(k),N.walk(b,function(b){function p(b){var u,v,x,y,z;return z=o,u=b.nodeName.toLowerCase(),v=b.parentNode.nodeName.toLowerCase(),1===b.nodeType&&W(b)&&(z=o,o="true"===W(b),y=!0),s(u,"br")?(r=0,void(t.block&&K.remove(b))):t.wrapper&&m(b,d,f)?void(r=0):o&&!y&&t.block&&!t.wrapper&&c(u)?(b=K.rename(b,j),i(b),n.push(b),void(r=0)):t.selector&&(J(q,function(a){"collapsed"in a&&a.collapsed!==w||K.is(b,a.selector)&&!e(b)&&(i(b,a),x=!0)}),!t.inline||x)?void(r=0):void(o&&!y&&O(j,u)&&O(v,j)&&(h||3!==b.nodeType||1!==b.nodeValue.length||65279!==b.nodeValue.charCodeAt(0))&&!e(b)?(r||(r=K.clone(k,U),b.parentNode.insertBefore(r,b),n.push(r)),r.appendChild(b)):"li"==u&&g?r=l(b,g,k,n,p):(r=0,J(a.grep(b.childNodes),p),y&&(o=z),r=0))}var r;J(b,p)}),t.wrap_links===!1&&J(n,function(b){function c(b){var d,e,f;if("A"===b.nodeName){for(e=K.clone(k,U),n.push(e),f=a.grep(b.childNodes),d=0;d<f.length;d++)e.appendChild(f[d]);b.appendChild(e)}J(a.grep(b.childNodes),c)}c(b)}),J(n,function(a){function b(a){var b=0;return J(a.childNodes,function(a){v(a)||B(a)||b++}),b}function c(a){var b,c;return J(a.childNodes,function(a){return 1!=a.nodeType||B(a)||e(a)?void 0:(b=a,U)}),b&&r(b,t)&&(c=K.clone(b,U),i(c),K.replace(c,a,V),K.remove(b,1)),c||a}var g;if(g=b(a),(n.length>1||!P(a))&&0===g)return void K.remove(a,1);if(t.inline||t.wrapper){if(t.exact||1!==g||(a=c(a)),J(q,function(b){J(K.select(b.inline,a),function(a){var c;if(b.wrap_links===!1){c=a.parentNode;do if("A"===c.nodeName)return;while(c=c.parentNode)}y(b,f,a,b.exact?a:null)})}),m(a.parentNode,d,f))return K.remove(a,1),a=0,V;t.merge_with_parents&&K.getParent(a.parentNode,function(b){return m(b,d,f)?(K.remove(a,1),a=0,V):void 0}),a&&t.merge_siblings!==!1&&(a=C(A(a),a),a=C(a,A(a,V)))}})}var o,p,q=h(d),t=q[0],w=L.isCollapsed();if(t)if(g)g.nodeType?(p=K.createRng(),p.setStartBefore(g),p.setEndAfter(g),n(x(p,q),null,!0)):n(g,null,!0);else if(w&&t.inline&&!K.select("td.mceSelected,th.mceSelected").length)E("apply",d,f);else{var z=b.selection.getNode();Q||!q[0].defaultBlock||K.getParent(z,K.isBlock)||j(q[0].defaultBlock),b.selection.setRng(k()),o=L.getBookmark(),n(x(L.getRng(V),q),o),t.styles&&(t.styles.color||t.styles.textDecoration)&&(a.walk(z,Y,"childNodes"),Y(z)),L.moveToBookmark(o),F(L.getRng(V)),b.nodeChanged()}}function k(c,e,f){function g(b){var c,d,f,h,i;if(3!==b.nodeType){if(1===b.nodeType&&W(b)&&(h=t,t="true"===W(b),i=!0),c=a.grep(b.childNodes),t&&!i)for(d=0,f=r.length;f>d&&!y(r[d],e,b,b);d++);if(s.deep&&c.length){for(d=0,f=c.length;f>d;d++)g(c[d]);i&&(t=h)}}}function i(a){var b;return J(d(a.parentNode).reverse(),function(a){var d;b||"_start"==a.id||"_end"==a.id||(d=m(a,c,e),d&&d.split!==!1&&(b=a))}),b}function j(a,b,c,d){var f,g,h,i,j,k;if(a){for(k=a.parentNode,f=b.parentNode;f&&f!=k;f=f.parentNode){for(g=K.clone(f,U),j=0;j<r.length;j++)if(y(r[j],e,g,g)){g=0;break}g&&(h&&g.appendChild(h),i||(i=g),h=g)}!d||s.mixed&&P(a)||(b=K.split(a,b)),h&&(c.parentNode.insertBefore(h,c),i.appendChild(c))}return b}function k(a){return j(i(a),a,a,!0)}function l(a){var b=K.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return B(c)&&(c=c[a?"firstChild":"lastChild"]),K.remove(b,!0),c}function o(a){var c,d;a=x(a,r,V),s.split&&(c=D(a,V),d=D(a),c!=d?(/^(TR|TD)$/.test(c.nodeName)&&c.firstChild&&(c=("TD"==c.nodeName?c.firstChild:c.firstChild.firstChild)||c),c=w(c,"span",{id:"_start","data-mce-type":"bookmark"}),d=w(d,"span",{id:"_end","data-mce-type":"bookmark"}),k(c),k(d),c=l(V),d=l()):c=d=k(c),a.startContainer=c.parentNode,a.startOffset=R(c),a.endContainer=d.parentNode,a.endOffset=R(d)+1),N.walk(a,function(a){J(a,function(a){g(a),1===a.nodeType&&"underline"===b.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===X(a.parentNode)&&y({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var p,q,r=h(c),s=r[0],t=!0;return f?void(f.nodeType?(q=K.createRng(),q.setStartBefore(f),q.setEndAfter(f),o(q)):o(f)):void(L.isCollapsed()&&s.inline&&!K.select("td.mceSelected,th.mceSelected").length?E("remove",c,e):(p=L.getBookmark(),o(L.getRng(V)),L.moveToBookmark(p),s.inline&&n(c,e,L.getStart())&&F(L.getRng(!0)),b.nodeChanged()))}function l(a,b,c){var d=h(a);!n(a,b,c)||"toggle"in d[0]&&!d[0].toggle?j(a,b,c):k(a,b,c)}function m(a,b,c,d){function e(a,b,e){var f,g,h,i=b[e];if(b.onmatch)return b.onmatch(a,b,e);if(i)if(i.length===H){for(f in i)if(i.hasOwnProperty(f)){if(g="attributes"===e?K.getAttrib(a,f):t(a,f),d&&!g&&!b.exact)return;if((!d||b.exact)&&!s(g,u(i[f],c)))return}}else for(h=0;h<i.length;h++)if("attributes"===e?K.getAttrib(a,i[h]):t(a,i[h]))return b;return b}var f,g,i,j=h(b);if(j&&a)for(g=0;g<j.length;g++)if(f=j[g],r(a,f)&&e(a,f,"attributes")&&e(a,f,"styles")){if(i=f.classes)for(g=0;g<i.length;g++)if(!K.hasClass(a,i[g]))return;return f}}function n(a,b,c){function d(c){return c=K.getParent(c,function(c){return!!m(c,a,b,!0)}),m(c,a,b)}var e;return c?d(c):(c=L.getNode(),d(c)?V:(e=L.getStart(),e!=c&&d(e)?V:U))}function o(a,b){var c,d=[],e={};return c=L.getStart(),K.getParent(c,function(c){var f,g;for(f=0;f<a.length;f++)g=a[f],!e[g]&&m(c,g,b)&&(e[g]=!0,d.push(g))},K.getRoot()),d}function p(a){var b,c,e,f,g,i=h(a);if(i)for(b=L.getStart(),c=d(b),f=i.length-1;f>=0;f--){if(g=i[f].selector,!g)return V;for(e=c.length-1;e>=0;e--)if(K.is(c[e],g))return V}return U}function q(a,c,e){var f;return G||(G={},f={},b.onNodeChange.addToTop(function(a,b,c){var e=d(c),g={};J(G,function(a,b){J(e,function(c){return m(c,b,{},a.similar)?(f[b]||(J(a,function(a){a(!0,{node:c,format:b,parents:e})}),f[b]=a),g[b]=a,!1):void 0})}),J(f,function(a,b){g[b]||(delete f[b],J(a,function(a){a(!1,{node:c,format:b,parents:e})}))})})),J(a.split(","),function(a){G[a]||(G[a]=[],G[a].similar=e),G[a].push(c)}),this}function r(a,b){return s(a,b.inline)?V:s(a,b.block)?V:b.selector?K.is(a,b.selector):void 0}function s(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()==b.toLowerCase()}function t(a,b){var c=K.getStyle(a,b);return("color"==b||"backgroundColor"==b)&&(c=K.toHex(c)),"fontWeight"==b&&700==c&&(c="bold"),""+c}function u(a,b){return"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a}function v(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function w(a,b,c){var d=K.create(b,c);return a.parentNode.insertBefore(d,a),d.appendChild(a),d}function x(a,e,f){function g(a){function b(a){return"BR"==a.nodeName&&a.getAttribute("data-mce-bogus")&&!a.nextSibling}var c,d,f,g,h;if(c=d=a?p:r,g=a?"previousSibling":"nextSibling",h=K.getRoot(),3==c.nodeType&&!v(c)&&(a?q>0:t<c.nodeValue.length))return c;for(;;){if(!e[0].block_expand&&P(d))return d;for(f=d[g];f;f=f[g])if(!B(f)&&!v(f)&&!b(f))return d;if(d.parentNode==h){c=d;break}d=d.parentNode}return c}function h(a,b){for(b===H&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)a=a.childNodes[b],a&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function i(a){for(var b=a;b;){if(1===b.nodeType&&W(b))return"false"===W(b)?b:a;b=b.parentNode}return a}function j(a,c,d){function e(a,b){var c,e,g=a.nodeValue;return"undefined"==typeof b&&(b=d?g.length:0),d?(c=g.lastIndexOf(" ",b),e=g.lastIndexOf(" ",b),c=c>e?c:e,-1===c||f||c++):(c=g.indexOf(" ",b),e=g.indexOf(" ",b),c=-1!==c&&(-1===e||e>c)?c:e),c}var g,h,i,j;if(3===a.nodeType){if(i=e(a,c),-1!==i)return{container:a,offset:i};j=a}for(g=new M(a,K.getParent(a,P)||b.getBody());h=g[d?"prev":"next"]();)if(3===h.nodeType){if(j=h,i=e(h),-1!==i)return{container:h,offset:i}}else if(P(h))break;return j?(c=d?0:j.length,{container:j,offset:c}):void 0}function k(b,c){var f,g,h,i;for(3==b.nodeType&&0===b.nodeValue.length&&b[c]&&(b=b[c]),f=d(b),g=0;g<f.length;g++)for(h=0;h<e.length;h++)if(i=e[h],!("collapsed"in i&&i.collapsed!==a.collapsed)&&K.is(f[g],i.selector))return f[g];return b}function l(a,b){var f;if(e[0].wrapper||(f=K.getParent(a,e[0].block)),f||(f=K.getParent(3==a.nodeType?a.parentNode:a,c)),f&&e[0].wrapper&&(f=d(f,"ul,ol").reverse()[0]||f),!f)for(f=a;f[b]&&!P(f[b])&&(f=f[b],!s(f,"br")););return f||a}var m,n,o,p=a.startContainer,q=a.startOffset,r=a.endContainer,t=a.endOffset;if(1==p.nodeType&&p.hasChildNodes()&&(m=p.childNodes.length-1,p=p.childNodes[q>m?m:q],3==p.nodeType&&(q=0)),1==r.nodeType&&r.hasChildNodes()&&(m=r.childNodes.length-1,r=r.childNodes[t>m?m:t-1],3==r.nodeType&&(t=r.nodeValue.length)),p=i(p),r=i(r),(B(p.parentNode)||B(p))&&(p=B(p)?p:p.parentNode,p=p.nextSibling||p,3==p.nodeType&&(q=0)),(B(r.parentNode)||B(r))&&(r=B(r)?r:r.parentNode,r=r.previousSibling||r,3==r.nodeType&&(t=r.length)),e[0].inline&&(a.collapsed&&(o=j(p,q,!0),o&&(p=o.container,q=o.offset),o=j(r,t),o&&(r=o.container,t=o.offset)),n=h(r,t),n.node)){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=h(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(r=n.node,r.splitText(n.offset-1))}return(e[0].inline||e[0].block_expand)&&(e[0].inline&&3==p.nodeType&&0!==q||(p=g(!0)),e[0].inline&&3==r.nodeType&&t!==r.nodeValue.length||(r=g())),e[0].selector&&e[0].expand!==U&&!e[0].inline&&(p=k(p,"previousSibling"),r=k(r,"nextSibling")),(e[0].block||e[0].selector)&&(p=l(p,"previousSibling"),r=l(r,"nextSibling"),e[0].block&&(P(p)||(p=g(!0)),P(r)||(r=g()))),1==p.nodeType&&(q=R(p),p=p.parentNode),1==r.nodeType&&(t=R(r)+1,r=r.parentNode),{startContainer:p,startOffset:q,endContainer:r,endOffset:t}}function y(a,b,c,d){var e,f,g;if(!r(c,a))return U;if("all"!=a.remove)for(J(a.styles,function(a,e){a=u(a,b),"number"==typeof e&&(e=a,d=0),(!d||s(t(d,e),a))&&K.setStyle(c,e,""),g=1}),g&&""==K.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),J(a.attributes,function(a,e){var f;if(a=u(a,b),"number"==typeof e&&(e=a,d=0),!d||s(K.getAttrib(d,e),a)){if("class"==e&&(a=K.getAttrib(c,e),a&&(f="",J(a.split(/\s+/),function(a){/mce\w+/.test(a)&&(f+=(f?" ":"")+a)}),f)))return void K.setAttrib(c,e,f);"class"==e&&c.removeAttribute("className"),T.test(e)&&c.removeAttribute("data-mce-"+e),c.removeAttribute(e)}}),J(a.classes,function(a){a=u(a,b),(!d||K.hasClass(d,a))&&K.removeClass(c,a)}),f=K.getAttribs(c),e=0;e<f.length;e++)if(0!==f[e].nodeName.indexOf("_"))return U;return"none"!=a.remove?(z(c,a),V):void 0}function z(b,c){function d(a,b,c){return a=A(a,b,c),!a||"BR"==a.nodeName||P(a)}var e,f=b.parentNode;c.block&&(Q?f==K.getRoot()&&(c.list_block&&s(b,c.list_block)||J(a.grep(b.childNodes),function(a){O(Q,a.nodeName.toLowerCase())?e?e.appendChild(a):e=w(a,Q):e=0})):P(b)&&!P(f)&&(d(b,U)||d(b.firstChild,V,1)||b.insertBefore(K.create("br"),b.firstChild),d(b,V)||d(b.lastChild,U,1)||b.appendChild(K.create("br")))),c.selector&&c.inline&&!s(c.inline,b)||K.remove(b,1)}function A(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!v(a))return a}function B(a){return a&&1==a.nodeType&&"bookmark"==a.getAttribute("data-mce-type")}function C(b,c){function d(a,b){function c(a){var b={};return J(K.getAttribs(a),function(c){var d=c.nodeName.toLowerCase();0!==d.indexOf("_")&&"style"!==d&&(b[d]=K.getAttrib(a,d))}),b}function d(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){if(c=b[d],c===H)return U;if(a[d]!=c)return U;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return U;return V}return a.nodeName!=b.nodeName?U:d(c(a),c(b))&&d(K.parseStyle(K.getAttrib(a,"style")),K.parseStyle(K.getAttrib(b,"style")))?V:U}function e(a,b){for(f=a;f;f=f[b]){if(3==f.nodeType&&0!==f.nodeValue.length)return a;if(1==f.nodeType&&!B(f))return f}return a}var f,g;if(b&&c&&(b=e(b,"previousSibling"),c=e(c,"nextSibling"),d(b,c))){for(f=b.nextSibling;f&&f!=c;)g=f,f=f.nextSibling,b.appendChild(g);return K.remove(c),J(a.grep(c.childNodes),function(a){b.appendChild(a)}),b}return c}function c(a){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(a)}function D(a,c){var d,e,f;return d=a[c?"startContainer":"endContainer"],e=a[c?"startOffset":"endOffset"],1==d.nodeType&&(f=d.childNodes.length-1,!c&&e&&e--,d=d.childNodes[e>f?f:e]),3===d.nodeType&&c&&e>=d.nodeValue.length&&(d=new M(d,b.getBody()).next()||d),3!==d.nodeType||c||0!==e||(d=new M(d,b.getBody()).prev()||d),d}function E(c,d,e){function f(a){var c=K.create("span",{id:r,"data-mce-bogus":!0,style:s?"color:red":""});return a&&c.appendChild(b.getDoc().createTextNode(S)),c}function g(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==S||a.childNodes.length>1)return!1;b&&1===a.nodeType&&b.push(a),a=a.firstChild}return!0}function i(a){for(;a;){if(a.id===r)return a;a=a.parentNode}}function l(a){var b;if(a)for(b=new M(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function n(a,b){var c,d;if(a)d=L.getRng(!0),g(a)?(b!==!1&&(d.setStartBefore(a),d.setEndBefore(a)),K.remove(a)):(c=l(a),c.nodeValue.charAt(0)===S&&(c=c.deleteData(0,1)),K.remove(a,1)),L.setRng(d);else if(a=i(L.getStart()),!a)for(;a=K.get(r);)n(a,!1)}function o(){var a,b,c,g,k,m,n;a=L.getRng(!0),g=a.startOffset,m=a.startContainer,n=m.nodeValue,b=i(L.getStart()),b&&(c=l(b)),n&&g>0&&g<n.length&&/\w/.test(n.charAt(g))&&/\w/.test(n.charAt(g-1))?(k=L.getBookmark(),a.collapse(!0),a=x(a,h(d)),a=N.split(a),j(d,e,a),L.moveToBookmark(k)):(b&&c.nodeValue===S?j(d,e,b):(b=f(!0),c=b.firstChild,a.insertNode(b),g=1,j(d,e,b)),L.setCursorLocation(c,g))}function p(){var a,b,c,g,i,j,l,n,o=L.getRng(!0),p=[];for(a=o.startContainer,b=o.startOffset,i=a,3==a.nodeType&&((b!=a.nodeValue.length||a.nodeValue===S)&&(g=!0),i=i.parentNode);i;){if(m(i,d,e)){j=i;break}i.nextSibling&&(g=!0),p.push(i),i=i.parentNode}if(j)if(g)c=L.getBookmark(),o.collapse(!0),o=x(o,h(d),!0),o=N.split(o),k(d,e,o),L.moveToBookmark(c);else{for(n=f(),i=n,l=p.length-1;l>=0;l--)i.appendChild(K.clone(p[l],!1)),i=i.firstChild;i.appendChild(K.doc.createTextNode(S)),i=i.firstChild,K.insertAfter(n,j),L.setCursorLocation(i,1)}}function q(){var b;b=i(L.getStart()),b&&!K.isEmpty(b)&&a.walk(b,function(a){1!=a.nodeType||a.id===r||K.isEmpty(a)||K.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var r="_mce_caret",s=b.settings.caret_debug;self._hasCaretEvents||(b.onBeforeGetContent.addToTop(function(){var a,b=[];if(g(i(L.getStart()),b))for(a=b.length;a--;)K.setAttrib(b[a],"data-mce-bogus","1")}),a.each("onMouseUp onKeyUp".split(" "),function(a){b[a].addToTop(function(){n(),q()})}),b.onKeyDown.addToTop(function(a,b){var c=b.keyCode;(8==c||37==c||39==c)&&n(i(L.getStart())),q()}),L.onSetContent.add(q),self._hasCaretEvents=!0),"apply"==c?o():p()}function F(a){var b,c,d,e,f,g=a.startContainer,h=a.startOffset;if(3==g.nodeType&&h>=g.nodeValue.length&&(h=R(g),g=g.parentNode,b=!0),1==g.nodeType)for(e=g.childNodes,g=e[Math.min(h,e.length-1)],c=new M(g,K.getParent(g,K.isBlock)),(h>e.length-1||b)&&c.next(),d=c.current();d;d=c.next())if(3==d.nodeType&&!v(d))return f=K.create("a",null,S),d.parentNode.insertBefore(f,d),a.setStart(d,0),L.setRng(a),void K.remove(f)}var G,H,I={},J=a.each,K=b.dom,L=b.selection,M=a.dom.TreeWalker,N=new a.dom.RangeUtils(K),O=b.schema.isValidChild,P=(a.isArray,K.isBlock),Q=b.settings.forced_root_block,R=K.nodeIndex,S="",T=/^(src|href|style)$/,U=!1,V=!0,W=K.getContentEditable,X=function(a){var c;return b.dom.getParent(a,function(a){return c=b.dom.getStyle(a,"text-decoration"),c&&"none"!==c}),c},Y=function(a){var c;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(c=X(a.parentNode),b.dom.getStyle(a,"color")&&c?b.dom.setStyle(a,"text-decoration",c):b.dom.getStyle(a,"textdecoration")===c&&b.dom.setStyle(a,"text-decoration",null))};a.extend(this,{get:h,register:i,apply:j,remove:k,toggle:l,match:n,matchAll:o,matchNode:m,canApply:p,formatChanged:q}),f(),g()}}(tinymce),tinymce.onAddEditor.add(function(a,b){function c(b,c){a.each(c,function(a,c){a&&g.setStyle(b,c,a)}),g.rename(b,"span")}function d(c,d){g=c.dom,h.convert_fonts_to_spans&&a.each(g.select("font,u,strike",d.node),function(a){e[a.nodeName.toLowerCase()](b.dom,a)})}var e,f,g,h=b.settings;h.inline_styles&&(f=a.explode(h.font_size_legacy_values),e={font:function(a,b){c(b,{backgroundColor:b.style.backgroundColor,color:b.color,fontFamily:b.face,fontSize:f[parseInt(b.size,10)-1]})},u:function(a,b){c(b,{textDecoration:"underline"})},strike:function(a,b){c(b,{textDecoration:"line-through"})}},b.onPreProcess.add(d),b.onSetContent.add(d),b.onInit.add(function(){b.selection.onSetContent.add(d)}))}),function(a){var b=a.dom.TreeWalker;a.EnterKey=function(c){function d(d){function j(a){return a&&e.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==e.getContentEditable(a)}function k(b){var c;a.isIE&&e.isBlock(b)&&(c=f.getRng(),b.appendChild(e.create("span",null," ")),f.select(b),b.lastChild.outerHTML="",f.setRng(c))}function l(a){for(var b,c=a,d=[];c=c.firstChild;){if(e.isBlock(c))return;1!=c.nodeType||i[c.nodeName.toLowerCase()]||d.push(c)}for(b=d.length;b--;)c=d[b],!c.hasChildNodes()||c.firstChild==c.lastChild&&""===c.firstChild.nodeValue?e.remove(c):"A"==c.nodeName&&" "===(c.innerText||c.textContent)&&e.remove(c)}function m(a){var d,g,h,j,k,l,m=a;if(h=e.createRng(),a.hasChildNodes()){for(d=new b(a,a);g=d.current();){if(3==g.nodeType){h.setStart(g,0),h.setEnd(g,0);break}if(i[g.nodeName.toLowerCase()]){h.setStartBefore(g),h.setEndBefore(g);break}m=g,g=d.next()}g||(h.setStart(m,0),h.setEnd(m,0))}else"BR"==a.nodeName?a.nextSibling&&e.isBlock(a.nextSibling)?((!B||9>B)&&(l=e.create("br"),a.parentNode.insertBefore(l,a)),h.setStartBefore(a),h.setEndBefore(a)):(h.setStartAfter(a),h.setEndAfter(a)):(h.setStart(a,0),h.setEnd(a,0));f.setRng(h),e.remove(l),k=e.getViewPort(c.getWin()),j=e.getPos(a).y,(j<k.y||j+25>k.y+k.h)&&c.getWin().scrollTo(0,j<k.y?j:j-k.h+25)}function n(b){var c,d,f,h=y;if(c=b||"TABLE"==G?e.create(b||I):A.cloneNode(!1),f=c,g.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(h.nodeName)){if("_mce_caret"==h.id)continue;d=h.cloneNode(!1),e.setAttrib(d,"id",""),c.hasChildNodes()?(d.appendChild(c.firstChild),c.appendChild(d)):(f=d,c.appendChild(d))}while(h=h.parentNode);return a.isIE||(f.innerHTML='<br data-mce-bogus="1">'),c}function o(a){var c,d,e;if(3==y.nodeType&&(a?z>0:z<y.nodeValue.length))return!1;if(y.parentNode==A&&J&&!a)return!0;if(a&&1==y.nodeType&&y==A.firstChild)return!0;if("TABLE"===y.nodeName||y.previousSibling&&"TABLE"==y.previousSibling.nodeName)return J&&!a||!J&&a;for(c=new b(y,A),3==y.nodeType&&(a&&0==z?c.prev():a||z!=y.nodeValue.length||c.next());d=c.current();){if(1===d.nodeType){if(!d.getAttribute("data-mce-bogus")&&(e=d.nodeName.toLowerCase(),i[e]&&"br"!==e))return!1}else if(3===d.nodeType&&!/^[ \t\r\n]*$/.test(d.nodeValue))return!1;a?c.prev():c.next()}return!0}function p(a,b){var c,d,f,g,h,i=I||"P";if(d=e.getParent(a,e.isBlock),!d||!j(d)){if(d=d||x,!d.hasChildNodes())return c=e.create(i),d.appendChild(c),K.setStart(c,0),K.setEnd(c,0),c;for(g=a;g.parentNode!=d;)g=g.parentNode;for(;g&&!e.isBlock(g);)f=g,g=g.previousSibling;if(f){for(c=e.create(i),f.parentNode.insertBefore(c,f),g=f;g&&!e.isBlock(g);)h=g.nextSibling,c.appendChild(g),g=h;K.setStart(a,b),K.setEnd(a,b)}}return a}function q(){function a(a){for(var b=F[a?"firstChild":"lastChild"];b&&1!=b.nodeType;)b=b[a?"nextSibling":"previousSibling"];return b===A}D=I?n(I):e.create("BR"),a(!0)&&a()?e.replace(D,F):a(!0)?F.parentNode.insertBefore(D,F):a()?(e.insertAfter(D,F),k(D)):(w=K.cloneRange(),w.setStartAfter(A),w.setEndAfter(F),E=w.extractContents(),e.insertAfter(E,F),e.insertAfter(D,F)),e.remove(A),m(D),h.add()}function r(){for(var a,c=new b(y,A);a=c.current();){if("BR"==a.nodeName)return!0;a=c.next()}}function s(){var b,c,d;y&&3==y.nodeType&&z>=y.nodeValue.length&&(a.isIE||r()||(b=e.create("br"),K.insertNode(b),K.setStartAfter(b),K.setEndAfter(b),c=!0)),b=e.create("br"),K.insertNode(b),a.isIE&&"PRE"==G&&(!B||8>B)&&b.parentNode.insertBefore(e.doc.createTextNode("\r"),b),d=e.create("span",{},"&nbsp;"),b.parentNode.insertBefore(d,b),f.scrollIntoView(d),e.remove(d),c?(K.setStartBefore(b),K.setEndBefore(b)):(K.setStartAfter(b),K.setEndAfter(b)),f.setRng(K),h.add()}function t(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function u(a){var b,c,d=e.getRoot();for(b=a;b!==d&&"false"!==e.getContentEditable(b);)"true"===e.getContentEditable(b)&&(c=b),b=b.parentNode;return b!==d?c:d}function v(b){var c;a.isIE||(b.normalize(),c=b.lastChild,(!c||/^(left|right)$/gi.test(e.getStyle(c,"float",!0)))&&e.add(b,"br"))}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=f.getRng(!0);if(!K.collapsed)return void c.execCommand("Delete");if(!d.isDefaultPrevented()&&(y=K.startContainer,z=K.startOffset,I=(g.force_p_newlines?"p":"")||g.forced_root_block,I=I?I.toUpperCase():"",B=e.doc.documentMode,C=d.shiftKey,1==y.nodeType&&y.hasChildNodes()&&(J=z>y.childNodes.length-1,y=y.childNodes[Math.min(z,y.childNodes.length-1)]||y,z=J&&3==y.nodeType?y.nodeValue.length:0),x=u(y))){if(h.beforeChange(),!e.isBlock(x)&&x!=e.getRoot())return void((!I||C)&&s());if((I&&!C||!I&&C)&&(y=p(y,z)),A=e.getParent(y,e.isBlock),F=A?e.getParent(A.parentNode,e.isBlock):null,G=A?A.nodeName.toUpperCase():"",H=F?F.nodeName.toUpperCase():"","LI"!=H||d.ctrlKey||(A=F,G=H),"LI"==G){if(!I&&C)return void s();if(e.isEmpty(A))return/^(UL|OL|LI)$/.test(F.parentNode.nodeName)?!1:void q()}if("PRE"==G&&g.br_in_pre!==!1){if(!C)return void s()}else if(!I&&!C&&"LI"!=G||I&&C)return void s();I=I||"P",o()?(D=/^(H[1-6]|PRE)$/.test(G)&&"HGROUP"!=H?n(I):n(),g.end_container_on_empty_block&&j(F)&&e.isEmpty(A)?D=e.split(F,A):e.insertAfter(D,A),m(D)):o(!0)?(D=A.parentNode.insertBefore(n(),A),k(D)):(w=K.cloneRange(),w.setEndAfter(A),E=w.extractContents(),t(E),D=E.firstChild,e.insertAfter(E,A),l(D),v(A),m(D)),e.setAttrib(D,"id",""),h.add()}}var e=c.dom,f=c.selection,g=c.settings,h=c.undoManager,i=c.schema.getNonEmptyElements();c.onKeyDown.add(function(a,b){13==b.keyCode&&d(b)!==!1&&b.preventDefault()})}}(tinymce);