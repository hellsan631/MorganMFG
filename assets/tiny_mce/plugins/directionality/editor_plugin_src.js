!function(){tinymce.create("tinymce.plugins.Directionality",{init:function(a){function b(b){var c,d=a.dom,e=a.selection.getSelectedBlocks();e.length&&(c=d.getAttrib(e[0],"dir"),tinymce.each(e,function(a){d.getParent(a.parentNode,"*[dir='"+b+"']",d.getRoot())||(c!=b?d.setAttrib(a,"dir",b):d.setAttrib(a,"dir",null))}),a.nodeChanged())}var c=this;c.editor=a,a.addCommand("mceDirectionLTR",function(){b("ltr")}),a.addCommand("mceDirectionRTL",function(){b("rtl")}),a.addButton("ltr",{title:"directionality.ltr_desc",cmd:"mceDirectionLTR"}),a.addButton("rtl",{title:"directionality.rtl_desc",cmd:"mceDirectionRTL"}),a.onNodeChange.add(c._nodeChange,c)},getInfo:function(){return{longname:"Directionality",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/directionality",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b,c){var d,e=a.dom;return(c=e.getParent(c,e.isBlock))?(d=e.getAttrib(c,"dir"),b.setActive("ltr","ltr"==d),b.setDisabled("ltr",0),b.setActive("rtl","rtl"==d),void b.setDisabled("rtl",0)):(b.setDisabled("ltr",1),void b.setDisabled("rtl",1))}}),tinymce.PluginManager.add("directionality",tinymce.plugins.Directionality)}();