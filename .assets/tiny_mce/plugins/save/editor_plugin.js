!function(){tinymce.create("tinymce.plugins.Save",{init:function(a){var b=this;b.editor=a,a.addCommand("mceSave",b._save,b),a.addCommand("mceCancel",b._cancel,b),a.addButton("save",{title:"save.save_desc",cmd:"mceSave"}),a.addButton("cancel",{title:"save.cancel_desc",cmd:"mceCancel"}),a.onNodeChange.add(b._nodeChange,b),a.addShortcut("ctrl+s",a.getLang("save.save_desc"),"mceSave")},getInfo:function(){return{longname:"Save",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/save",version:tinymce.majorVersion+"."+tinymce.minorVersion}},_nodeChange:function(a,b){var a=this.editor;a.getParam("save_enablewhendirty")&&(b.setDisabled("save",!a.isDirty()),b.setDisabled("cancel",!a.isDirty()))},_save:function(){var a,b,c=this.editor;return a=tinymce.DOM.get(c.id).form||tinymce.DOM.getParent(c.id,"form"),!c.getParam("save_enablewhendirty")||c.isDirty()?(tinyMCE.triggerSave(),(b=c.getParam("save_onsavecallback"))?void(c.execCallback("save_onsavecallback",c)&&(c.startContent=tinymce.trim(c.getContent({format:"raw"})),c.nodeChanged())):void(a?(c.isNotDirty=!0,(null==a.onsubmit||0!=a.onsubmit())&&a.submit(),c.nodeChanged()):c.windowManager.alert("Error: No form element found."))):void 0},_cancel:function(){var a,b=this.editor,c=tinymce.trim(b.startContent);return(a=b.getParam("save_oncancelcallback"))?void b.execCallback("save_oncancelcallback",b):(b.setContent(c),b.undoManager.clear(),void b.nodeChanged())}}),tinymce.PluginManager.add("save",tinymce.plugins.Save)}();
//# sourceMappingURL=editor_plugin.map