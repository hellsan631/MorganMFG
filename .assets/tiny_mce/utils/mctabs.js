function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(a){this.settings=a},MCTabs.prototype.getParam=function(a,b){var c=null;return c="undefined"==typeof this.settings[a]?b:this.settings[a],"true"==c||"false"==c?"true"==c:c},MCTabs.prototype.showTab=function(a){a.className="current",a.setAttribute("aria-selected",!0),a.setAttribute("aria-expanded",!0),a.tabIndex=0},MCTabs.prototype.hideTab=function(a){a.className="",a.setAttribute("aria-selected",!1),a.setAttribute("aria-expanded",!1),a.tabIndex=-1},MCTabs.prototype.showPanel=function(a){a.className="current",a.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(a){a.className="panel",a.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(a){return tinyMCEPopup.dom.getAttrib(a,"aria-controls")},MCTabs.prototype.displayTab=function(a,b,c){var d,e,f,g,h,i,j,k=this;if(f=document.getElementById(a),void 0===b&&(b=k.getPanelForTab(f)),d=document.getElementById(b),e=d?d.parentNode:null,g=f?f.parentNode:null,h=k.getParam("selection_class","current"),f&&g){for(i=g.childNodes,j=0;j<i.length;j++)"LI"==i[j].nodeName&&k.hideTab(i[j]);k.showTab(f)}if(d&&e){for(i=e.childNodes,j=0;j<i.length;j++)"DIV"==i[j].nodeName&&k.hidePanel(i[j]);c||f.focus(),k.showPanel(d)}},MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;return-1!=(a=b.lastIndexOf("#"))?b.substring(a+1):""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var a=tinyMCEPopup.getWin().tinymce,b=tinyMCEPopup.dom,c=a.each;c(b.select("div.tabs"),function(d){var e;b.setAttrib(d,"role","tablist");var f=tinyMCEPopup.dom.select("li",d),g=function(a){mcTabs.displayTab(a,mcTabs.getPanelForTab(a)),mcTabs.onChange.dispatch(a)};c(f,function(a){b.setAttrib(a,"role","tab"),b.bind(a,"click",function(){g(a.id)})}),b.bind(b.getRoot(),"keydown",function(b){9===b.keyCode&&b.ctrlKey&&!b.altKey&&(e.moveFocus(b.shiftKey?-1:1),a.dom.Event.cancel(b))}),c(b.select("a",d),function(a){b.setAttrib(a,"tabindex","-1")}),e=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:d,items:f,onAction:g,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});
//# sourceMappingURL=mctabs.map